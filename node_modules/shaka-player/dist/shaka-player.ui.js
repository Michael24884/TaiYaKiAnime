/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
(function(){var innerGlobal=typeof window!="undefined"?window:global;var exportTo={};(function(window,global,module){var m,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){b!=Array.prototype&&b!=Object.prototype&&(b[c]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(){ca=function(){};ba.Symbol||(ba.Symbol=da)}var da=function(){var b=0;return function(c){return"jscomp_symbol_"+(c||"")+b++}}();
function ea(){ca();var b=ba.Symbol.iterator;b||(b=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&aa(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return fa(this)}});ea=function(){}}function fa(b){var c=0;return ha(function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}})}function ha(b){ea();b={next:b};b[ba.Symbol.iterator]=function(){return this};return b}function r(b){ea();var c=b[Symbol.iterator];return c?c.call(b):fa(b)}
function ia(b,c){if(c){for(var d=ba,e=b.split("."),f=0;f<e.length-1;f++){var g=e[f];g in d||(d[g]={});d=d[g]}e=e[e.length-1];f=d[e];g=c(f);g!=f&&null!=g&&aa(d,e,{configurable:!0,writable:!0,value:g})}}
ia("Promise",function(b){function c(b){this.b=0;this.g=void 0;this.a=[];var c=this.c();try{b(c.resolve,c.reject)}catch(l){c.reject(l)}}function d(){this.a=null}function e(b){return b instanceof c?b:new c(function(c){c(b)})}if(b)return b;d.prototype.b=function(b){null==this.a&&(this.a=[],this.f());this.a.push(b)};d.prototype.f=function(){var b=this;this.c(function(){b.j()})};var f=ba.setTimeout;d.prototype.c=function(b){f(b,0)};d.prototype.j=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=
[];for(var c=0;c<b.length;++c){var d=b[c];b[c]=null;try{d()}catch(n){this.g(n)}}}this.a=null};d.prototype.g=function(b){this.c(function(){throw b;})};c.prototype.c=function(){function b(b){return function(e){d||(d=!0,b.call(c,e))}}var c=this,d=!1;return{resolve:b(this.w),reject:b(this.f)}};c.prototype.w=function(b){if(b===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof c)this.B(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;
break a;default:d=!1}d?this.v(b):this.j(b)}};c.prototype.v=function(b){var c=void 0;try{c=b.then}catch(l){this.f(l);return}"function"==typeof c?this.G(c,b):this.j(b)};c.prototype.f=function(b){this.l(2,b)};c.prototype.j=function(b){this.l(1,b)};c.prototype.l=function(b,c){if(0!=this.b)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.b);this.b=b;this.g=c;this.s()};c.prototype.s=function(){if(null!=this.a){for(var b=0;b<this.a.length;++b)g.b(this.a[b]);this.a=null}};
var g=new d;c.prototype.B=function(b){var c=this.c();b.Jc(c.resolve,c.reject)};c.prototype.G=function(b,c){var d=this.c();try{b.call(c,d.resolve,d.reject)}catch(n){d.reject(n)}};c.prototype.then=function(b,d){function e(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(z){g(z)}}:c}var f,g,h=new c(function(b,c){f=b;g=c});this.Jc(e(b,f),e(d,g));return h};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.Jc=function(b,c){function d(){switch(e.b){case 1:b(e.g);break;
case 2:c(e.g);break;default:throw Error("Unexpected state: "+e.b);}}var e=this;null==this.a?g.b(d):this.a.push(d)};c.resolve=e;c.reject=function(b){return new c(function(c,d){d(b)})};c.race=function(b){return new c(function(c,d){for(var f=r(b),g=f.next();!g.done;g=f.next())e(g.value).Jc(c,d)})};c.all=function(b){var d=r(b),f=d.next();return f.done?e([]):new c(function(b,c){function g(c){return function(d){h[c]=d;k--;0==k&&b(h)}}var h=[],k=0;do h.push(void 0),k++,e(f.value).Jc(g(h.length-1),c),f=d.next();
while(!f.done)})};return c});ia("Promise.prototype.finally",function(b){return b?b:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}});function ka(b){function c(c){return b.next(c)}function d(c){return b["throw"](c)}return new Promise(function(e,f){function g(b){b.done?e(b.value):Promise.resolve(b.value).then(c,d).then(g,f)}g(b.next())})}function u(b){return ka(b())}
var la="function"==typeof Object.create?Object.create:function(b){function c(){}c.prototype=b;return new c},ma;if("function"==typeof Object.setPrototypeOf)ma=Object.setPrototypeOf;else{var oa;a:{var pa={Hf:!0},qa={};try{qa.__proto__=pa;oa=qa.Hf;break a}catch(b){}oa=!1}ma=oa?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+" is not extensible");return b}:null}var ra=ma;
function sa(b,c){b.prototype=la(c.prototype);b.prototype.constructor=b;if(ra)ra(b,c);else for(var d in c)if("prototype"!=d)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(c,d);e&&Object.defineProperty(b,d,e)}else b[d]=c[d];b.Eh=c.prototype}function ua(){this.g=!1;this.c=null;this.A=void 0;this.o=1;this.b=this.f=0;this.l=this.a=null}function va(b){if(b.g)throw new TypeError("Generator is already running");b.g=!0}ua.prototype.j=function(b){this.A=b};
function wa(b,c){b.a={Ge:c,Se:!0};b.o=b.f||b.b}ua.prototype["return"]=function(b){this.a={"return":b};this.o=this.b};function v(b,c,d){b.o=d;return{value:c}}ua.prototype.C=function(b){this.o=b};function w(b){b.o=0}function xa(b,c,d){b.f=c;void 0!=d&&(b.b=d)}function ya(b,c){b.f=0;b.b=c||0}function za(b,c){b.o=c;b.f=0}function Da(b){b.f=0;var c=b.a.Ge;b.a=null;return c}function Ea(b){b.l=[b.a];b.f=0;b.b=0}
function Fa(b,c){var d=b.l.splice(0)[0];(d=b.a=b.a||d)?d.Se?b.o=b.f||b.b:void 0!=d.C&&b.b<d.C?(b.o=d.C,b.a=null):b.o=b.b:b.o=c}function Ga(b){this.a=new ua;this.b=b}function Ha(b,c){va(b.a);var d=b.a.c;if(d)return Ia(b,"return"in d?d["return"]:function(b){return{value:b,done:!0}},c,b.a["return"]);b.a["return"](c);return Ka(b)}
function Ia(b,c,d,e){try{var f=c.call(b.a.c,d);if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");if(!f.done)return b.a.g=!1,f;var g=f.value}catch(h){return b.a.c=null,wa(b.a,h),Ka(b)}b.a.c=null;e.call(b.a,g);return Ka(b)}
function Ka(b){for(;b.a.o;)try{var c=b.b(b.a);if(c)return b.a.g=!1,{value:c.value,done:!1}}catch(d){b.a.A=void 0,wa(b.a,d)}b.a.g=!1;if(b.a.a){c=b.a.a;b.a.a=null;if(c.Se)throw c.Ge;return{value:c["return"],done:!0}}return{value:void 0,done:!0}}
function Ma(b){this.next=function(c){va(b.a);b.a.c?c=Ia(b,b.a.c.next,c,b.a.j):(b.a.j(c),c=Ka(b));return c};this["throw"]=function(c){va(b.a);b.a.c?c=Ia(b,b.a.c["throw"],c,b.a.j):(wa(b.a,c),c=Ka(b));return c};this["return"]=function(c){return Ha(b,c)};ea();this[Symbol.iterator]=function(){return this}}function x(b,c){Ma.prototype=b.prototype;return new Ma(new Ga(c))}function Na(b){if(!(b instanceof Array)){b=r(b);for(var c,d=[];!(c=b.next()).done;)d.push(c.value);b=d}return b}
function Oa(b,c){return Object.prototype.hasOwnProperty.call(b,c)}
ia("WeakMap",function(b){function c(b){this.a=(g+=Math.random()+1).toString();if(b){ca();ea();b=r(b);for(var c;!(c=b.next()).done;)c=c.value,this.set(c[0],c[1])}}function d(b){Oa(b,f)||aa(b,f,{value:{}})}function e(b){var c=Object[b];c&&(Object[b]=function(b){d(b);return c(b)})}if(function(){if(!b||!Object.seal)return!1;try{var c=Object.seal({}),d=Object.seal({}),e=new b([[c,2],[d,3]]);if(2!=e.get(c)||3!=e.get(d))return!1;e["delete"](c);e.set(d,4);return!e.has(c)&&4==e.get(d)}catch(n){return!1}}())return b;
var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var g=0;c.prototype.set=function(b,c){d(b);if(!Oa(b,f))throw Error("WeakMap key fail: "+b);b[f][this.a]=c;return this};c.prototype.get=function(b){return Oa(b,f)?b[f][this.a]:void 0};c.prototype.has=function(b){return Oa(b,f)&&Oa(b[f],this.a)};c.prototype["delete"]=function(b){return Oa(b,f)&&Oa(b[f],this.a)?delete b[f][this.a]:!1};return c});
ia("Map",function(b){function c(){var b={};return b.fb=b.next=b.head=b}function d(b,c){var d=b.a;return ha(function(){if(d){for(;d.head!=b.a;)d=d.fb;for(;d.next!=d.head;)return d=d.next,{done:!1,value:c(d)};d=null}return{done:!0,value:void 0}})}function e(b,c){var d=c&&typeof c;"object"==d||"function"==d?g.has(c)?d=g.get(c):(d=""+ ++h,g.set(c,d)):d="p_"+c;var e=b.b[d];if(e&&Oa(b.b,d))for(var f=0;f<e.length;f++){var k=e[f];if(c!==c&&k.key!==k.key||c===k.key)return{id:d,list:e,index:f,qa:k}}return{id:d,
list:e,index:-1,qa:void 0}}function f(b){this.b={};this.a=c();this.size=0;if(b){b=r(b);for(var d;!(d=b.next()).done;)d=d.value,this.set(d[0],d[1])}}if(function(){if(!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new b(r([[c,"s"]]));if("s"!=d.get(c)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||"s"!=f.value[1])return!1;f=e.next();return f.done||4!=f.value[0].x||
"t"!=f.value[1]||!e.next().done?!1:!0}catch(q){return!1}}())return b;ca();ea();var g=new WeakMap;f.prototype.set=function(b,c){var d=e(this,b);d.list||(d.list=this.b[d.id]=[]);d.qa?d.qa.value=c:(d.qa={next:this.a,fb:this.a.fb,head:this.a,key:b,value:c},d.list.push(d.qa),this.a.fb.next=d.qa,this.a.fb=d.qa,this.size++);return this};f.prototype["delete"]=function(b){b=e(this,b);return b.qa&&b.list?(b.list.splice(b.index,1),b.list.length||delete this.b[b.id],b.qa.fb.next=b.qa.next,b.qa.next.fb=b.qa.fb,
b.qa.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.b={};this.a=this.a.fb=c();this.size=0};f.prototype.has=function(b){return!!e(this,b).qa};f.prototype.get=function(b){return(b=e(this,b).qa)&&b.value};f.prototype.entries=function(){return d(this,function(b){return[b.key,b.value]})};f.prototype.keys=function(){return d(this,function(b){return b.key})};f.prototype.values=function(){return d(this,function(b){return b.value})};f.prototype.forEach=function(b,c){for(var d=this.entries(),
e;!(e=d.next()).done;)e=e.value,b.call(c,e[1],e[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});
ia("Set",function(b){function c(b){this.a=new Map;if(b){b=r(b);for(var c;!(c=b.next()).done;)this.add(c.value)}this.size=this.a.size}if(function(){if(!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),e=new b(r([c]));if(!e.has(c)||1!=e.size||e.add(c)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var f=e.entries(),g=f.next();if(g.done||g.value[0]!=c||g.value[1]!=c)return!1;g=f.next();return g.done||g.value[0]==c||4!=g.value[0].x||
g.value[1]!=g.value[0]?!1:f.next().done}catch(h){return!1}}())return b;ca();ea();c.prototype.add=function(b){this.a.set(b,b);this.size=this.a.size;return this};c.prototype["delete"]=function(b){b=this.a["delete"](b);this.size=this.a.size;return b};c.prototype.clear=function(){this.a.clear();this.size=0};c.prototype.has=function(b){return this.a.has(b)};c.prototype.entries=function(){return this.a.entries()};c.prototype.values=function(){return this.a.values()};c.prototype.keys=c.prototype.values;
c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(b,c){var d=this;this.a.forEach(function(e){return b.call(c,e,e,d)})};return c});function Pa(b,c){ea();b instanceof String&&(b+="");var d=0,e={next:function(){if(d<b.length){var f=d++;return{value:c(f,b[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ia("Array.prototype.keys",function(b){return b?b:function(){return Pa(this,function(b){return b})}});
ia("Array.from",function(b){return b?b:function(b,d,e){ea();d=null!=d?d:function(b){return b};var c=[],g=b[Symbol.iterator];if("function"==typeof g)for(b=g.call(b);!(g=b.next()).done;)c.push(d.call(e,g.value));else{g=b.length;for(var h=0;h<g;h++)c.push(d.call(e,b[h]))}return c}});function Sa(b,c,d){b instanceof String&&(b=String(b));for(var e=b.length,f=0;f<e;f++){var g=b[f];if(c.call(d,g,f,b))return{Pe:f,Bf:g}}return{Pe:-1,Bf:void 0}}
ia("Array.prototype.findIndex",function(b){return b?b:function(b,d){return Sa(this,b,d).Pe}});ia("Object.is",function(b){return b?b:function(b,d){return b===d?0!==b||1/b===1/d:b!==b&&d!==d}});ia("Array.prototype.includes",function(b){return b?b:function(b,d){var c=this;c instanceof String&&(c=String(c));var f=c.length,g=d||0;for(0>g&&(g=Math.max(g+f,0));g<f;g++){var h=c[g];if(h===b||Object.is(h,b))return!0}return!1}});
function Ta(b,c,d){if(null==b)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return b+""}ia("String.prototype.includes",function(b){return b?b:function(b,d){return-1!==Ta(this,b,"includes").indexOf(b,d||0)}});
ia("String.prototype.startsWith",function(b){return b?b:function(b,d){for(var c=Ta(this,b,"startsWith"),f=c.length,g=b.length,h=Math.max(0,Math.min(d|0,c.length)),k=0;k<g&&h<f;)if(c[h++]!=b[k++])return!1;return k>=g}});ia("Array.prototype.find",function(b){return b?b:function(b,d){return Sa(this,b,d).Bf}});var Ua="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Oa(e,f)&&(b[f]=e[f])}return b};
ia("Object.assign",function(b){return b||Ua});var Va=this;Va.a=!0;function A(b,c){var d=b.split("."),e=Va;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===c?e[f]?e=e[f]:e=e[f]={}:e[f]=c}function Za(b,c){function d(){}d.prototype=c.prototype;b.Eh=c.prototype;b.prototype=new d;b.prototype.constructor=b;b.base=function(b,d,g){return c.prototype[d].apply(b,Array.prototype.slice.call(arguments,2))}};/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function B(b,c){c=void 0===c?{}:c;for(var d in c)this[d]=c[d];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=b;this.isTrusted=!1;this.target=this.currentTarget=null;this.a=!1}B.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};B.prototype.stopImmediatePropagation=function(){this.a=!0};B.prototype.stopPropagation=function(){};var D={Nb:0,Hc:function(){},ba:function(){},error:function(){},u:function(){},info:function(){},debug:function(){},I:function(){},N:function(){}};window.console&&window.console.log.bind&&(D.ba=console.warn.bind(console),D.Hc=console.error.bind(console),1<=D.Nb&&(D.error=console.error.bind(console)),2<=D.Nb&&(D.u=console.warn.bind(console)),3<=D.Nb&&(D.info=console.info.bind(console)),4<=D.Nb&&(D.debug=console.log.bind(console)),5<=D.Nb&&(D.I=console.debug.bind(console)),6<=D.Nb&&(D.N=console.debug.bind(console)));function $a(){this.a={}}m=$a.prototype;m.push=function(b,c){this.a.hasOwnProperty(b)?this.a[b].push(c):this.a[b]=[c]};m.get=function(b){return(b=this.a[b])?b.slice():null};m.getAll=function(){var b=[],c;for(c in this.a)b.push.apply(b,this.a[c]);return b};m.remove=function(b,c){var d=this.a[b];if(d)for(var e=0;e<d.length;++e)d[e]==c&&(d.splice(e,1),--e)};m.forEach=function(b){for(var c in this.a)b(c,this.a[c])};function ab(){this.Cd=new $a;this.Ec=this}ab.prototype.addEventListener=function(b,c){this.Cd.push(b,c)};ab.prototype.removeEventListener=function(b,c){this.Cd.remove(b,c)};ab.prototype.dispatchEvent=function(b){for(var c=this.Cd.get(b.type)||[],d=0;d<c.length;++d){b.target=this.Ec;b.currentTarget=this.Ec;var e=c[d];try{e.handleEvent?e.handleEvent(b):e.call(this,b)}catch(f){D.error("Uncaught exception in event handler",f,f?f.message:null,f?f.stack:null)}if(b.a)break}return b.defaultPrevented};function bb(b,c){for(var d=[],e=r(b),f=e.next();!f.done;f=e.next())d.push(c(f.value));return d}function cb(b,c){for(var d=r(b),e=d.next();!e.done;e=d.next())if(!c(e.value))return!1;return!0}function db(b,c){for(var d=r(b),e=d.next();!e.done;e=d.next())if(c(e.value))return!0;return!1}function eb(b,c){for(var d=[],e=r(b),f=e.next();!f.done;f=e.next())f=f.value,c(f)&&d.push(f);return d};function jb(b,c){b=E(b);c=E(c);return b.split("-")[0]==c.split("-")[0]}function kb(b,c){b=E(b);c=E(c);var d=b.split("-"),e=c.split("-");return d[0]==e[0]&&1==d.length&&2==e.length}function E(b){var c=b.split("-");b=c[0]||"";c=c[1]||"";b=b.toLowerCase();b=lb.get(b)||b;return(c=c.toUpperCase())?b+"-"+c:b}function mb(b){var c=b.indexOf("-");b=0<=c?b.substring(0,c):b;b=b.toLowerCase();return b=lb.get(b)||b}
function nb(b){return b.language?E(b.language):b.audio&&b.audio.language?E(b.audio.language):b.video&&b.video.language?E(b.video.language):"und"}
function ob(b,c){for(var d=E(b),e=new Set,f=r(c),g=f.next();!g.done;g=f.next())e.add(E(g.value));f=r(e);for(g=f.next();!g.done;g=f.next())if(g=g.value,g==d)return g;f=r(e);for(g=f.next();!g.done;g=f.next())if(g=g.value,kb(g,d))return g;f=r(e);for(g=f.next();!g.done;g=f.next()){var h=g=g.value,k=d;h=E(h);k=E(k);h=h.split("-");k=k.split("-");if(2==h.length&&2==k.length&&h[0]==k[0])return g}e=r(e);for(g=e.next();!g.done;g=e.next())if(f=g.value,kb(d,f))return f;return null}
var lb=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function pb(b){this.g=E(b);this.f=new Map;this.b=new Set;this.c=new Map;this.a=new ab}A("shaka.ui.Localization",pb);pb.prototype.addEventListener=function(b,c,d){this.a.addEventListener(b,c,d)};pb.prototype.addEventListener=pb.prototype.addEventListener;pb.prototype.removeEventListener=function(b,c,d){this.a.removeEventListener(b,c,d||void 0)};pb.prototype.removeEventListener=pb.prototype.removeEventListener;pb.prototype.dispatchEvent=function(b){return this.a.dispatchEvent(b)};
pb.prototype.dispatchEvent=pb.prototype.dispatchEvent;pb.prototype.Be=function(b){var c=this;this.b.clear();b=r(b);for(var d=b.next();!d.done;d=b.next())this.b.add(E(d.value));qb(this);this.a.dispatchEvent(new B("locale-changed"));b=eb(this.b,function(b){return!c.c.has(b)});b.length&&this.a.dispatchEvent(new B("unknown-locales",{locales:b}))};pb.prototype.changeLocale=pb.prototype.Be;
pb.prototype.aa=function(b,c,d){var e=rb;b=E(b);void 0===d&&(d=e.Gf);var f=this.c.get(b)||new Map;c.forEach(function(b,c){f.has(c)&&d!=e.Gf||f.set(c,b)});this.c.set(b,f);qb(this);this.a.dispatchEvent(new B("locale-updated"));return this};pb.prototype.insert=pb.prototype.aa;pb.prototype.nh=function(b){for(var c=r(b.keys()),d=c.next();!d.done;d=c.next())d=d.value,b.set(d,this.resolve(d))};pb.prototype.resolveDictionary=pb.prototype.nh;
pb.prototype.resolve=function(b){var c=this.f.get(b);if(c)return c;b={locales:Array.from(this.b),missing:b};this.a.dispatchEvent(new B("unknown-localization",b));return""};pb.prototype.resolve=pb.prototype.resolve;
function qb(b){for(var c=b.c,d=b.g,e=b.b,f=new Set,g={},h=r(e),k=h.next();!k.done;g={locale:g.locale},k=h.next()){g.locale=k.value;f.add(g.locale);f.add(mb(g.locale));k=eb(c.keys(),function(b){return function(c){var d=b.locale,e=mb(c),f=mb(d);return c!=e&&d!=f&&e==f}}(g));k.sort();var l=r(k);for(k=l.next();!k.done;k=l.next())f.add(k.value);k=eb(c.keys(),function(b){return function(c){return mb(c)==b.locale}}(g));k.sort();l=r(k);for(k=l.next();!k.done;k=l.next())f.add(k.value)}f.add(d);d=[];f=r(f);
for(k=f.next();!k.done;k=f.next())(k=c.get(k.value))&&d.push(k);d.reverse();b.f.clear();c=r(d);for(k=c.next();!k.done;k=c.next())k.value.forEach(function(c,d){b.f.set(d,c)});c=b.f.keys();f=new Set;d=r(b.b);for(k=d.next();!k.done;k=d.next())k=b.c.get(k.value)||new Map,sb(k,c,f);0<f.size&&(e={locales:Array.from(e),missing:Array.from(f)},b.a.dispatchEvent(new B("missing-localizations",e)))}function sb(b,c,d){c=r(c);for(var e=c.next();!e.done;e=c.next())e=e.value,b.get(e)||d.add(e)}
var rb={USE_OLD:0,USE_NEW:1};pb.ConflictResolution=rb;pb.UNKNOWN_LOCALES="unknown-locales";pb.UNKNOWN_LOCALIZATION="unknown-localization";pb.MISSING_LOCALIZATIONS="missing-localizations";pb.LOCALE_CHANGED="locale-changed";pb.LOCALE_UPDATED="locale-updated";function tb(b){this.c=Math.exp(Math.log(.5)/b);this.b=this.a=0}function ub(b,c,d){var e=Math.pow(b.c,c);d=d*(1-e)+e*b.a;isNaN(d)||(b.a=d,b.b+=c)}function vb(b){return b.a/(1-Math.pow(b.c,b.b))};function wb(){this.b=new tb(2);this.c=new tb(5);this.a=0}wb.prototype.getBandwidthEstimate=function(b){return 128E3>this.a?b:Math.min(vb(this.b),vb(this.c))};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
var Ab=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
function Bb(b){var c;b instanceof Bb?(Cb(this,b.Qa),this.Kb=b.Kb,this.Pa=b.Pa,Db(this,b.ec),this.Ca=b.Ca,Eb(this,b.a.clone()),this.wb=b.wb):b&&(c=String(b).match(Ab))?(Cb(this,c[1]||"",!0),this.Kb=Fb(c[2]||""),this.Pa=Fb(c[3]||"",!0),Db(this,c[4]),this.Ca=Fb(c[5]||"",!0),Eb(this,c[6]||"",!0),this.wb=Fb(c[7]||"")):this.a=new Gb(null)}m=Bb.prototype;m.Qa="";m.Kb="";m.Pa="";m.ec=null;m.Ca="";m.wb="";
m.toString=function(){var b=[],c=this.Qa;c&&b.push(Hb(c,Ib,!0),":");if(c=this.Pa){b.push("//");var d=this.Kb;d&&b.push(Hb(d,Ib,!0),"@");b.push(encodeURIComponent(c).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));c=this.ec;null!=c&&b.push(":",String(c))}if(c=this.Ca)this.Pa&&"/"!=c.charAt(0)&&b.push("/"),b.push(Hb(c,"/"==c.charAt(0)?Jb:Kb,!0));(c=this.a.toString())&&b.push("?",c);(c=this.wb)&&b.push("#",Hb(c,Lb));return b.join("")};
m.resolve=function(b){var c=this.clone();"data"===c.Qa&&(c=new Bb);var d=!!b.Qa;d?Cb(c,b.Qa):d=!!b.Kb;d?c.Kb=b.Kb:d=!!b.Pa;d?c.Pa=b.Pa:d=null!=b.ec;var e=b.Ca;if(d)Db(c,b.ec);else if(d=!!b.Ca){if("/"!=e.charAt(0))if(this.Pa&&!this.Ca)e="/"+e;else{var f=c.Ca.lastIndexOf("/");-1!=f&&(e=c.Ca.substr(0,f+1)+e)}if(".."==e||"."==e)e="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){f=0==e.lastIndexOf("/",0);e=e.split("/");for(var g=[],h=0;h<e.length;){var k=e[h++];"."==k?f&&h==e.length&&g.push(""):".."==
k?((1<g.length||1==g.length&&""!=g[0])&&g.pop(),f&&h==e.length&&g.push("")):(g.push(k),f=!0)}e=g.join("/")}}d?c.Ca=e:d=""!==b.a.toString();d?Eb(c,b.a.clone()):d=!!b.wb;d&&(c.wb=b.wb);return c};m.clone=function(){return new Bb(this)};function Cb(b,c,d){b.Qa=d?Fb(c,!0):c;b.Qa&&(b.Qa=b.Qa.replace(/:$/,""))}function Db(b,c){if(c){c=Number(c);if(isNaN(c)||0>c)throw Error("Bad port number "+c);b.ec=c}else b.ec=null}function Eb(b,c,d){c instanceof Gb?b.a=c:(d||(c=Hb(c,Pb)),b.a=new Gb(c))}
function Fb(b,c){return b?c?decodeURI(b):decodeURIComponent(b):""}function Hb(b,c,d){return"string"==typeof b?(b=encodeURI(b).replace(c,Qb),d&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Qb(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Ib=/[#\/\?@]/g,Kb=/[#\?:]/g,Jb=/[#\?]/g,Pb=/[#\?@]/g,Lb=/#/g;function Gb(b){this.a=b||null}m=Gb.prototype;m.Aa=null;m.Mc=null;
m.add=function(b,c){if(!this.Aa&&(this.Aa={},this.Mc=0,this.a))for(var d=this.a.split("&"),e=0;e<d.length;e++){var f=d[e].indexOf("="),g=null;if(0<=f){var h=d[e].substring(0,f);g=d[e].substring(f+1)}else h=d[e];h=decodeURIComponent(h.replace(/\+/g," "));g=g||"";this.add(h,decodeURIComponent(g.replace(/\+/g," ")))}this.a=null;(d=this.Aa.hasOwnProperty(b)&&this.Aa[b])||(this.Aa[b]=d=[]);d.push(c);this.Mc++;return this};
m.toString=function(){if(this.a)return this.a;if(!this.Aa)return"";var b=[],c;for(c in this.Aa)for(var d=encodeURIComponent(c),e=this.Aa[c],f=0;f<e.length;f++){var g=d;""!==e[f]&&(g+="="+encodeURIComponent(e[f]));b.push(g)}return this.a=b.join("&")};m.clone=function(){var b=new Gb;b.a=this.a;if(this.Aa){var c={},d;for(d in this.Aa)c[d]=this.Aa[d].concat();b.Aa=c;b.Mc=this.Mc}return b};function Rb(b){this.b=b;this.a=null}Rb.prototype.R=function(b){var c=this;this.stop();var d=!0,e=null;this.a=function(){window.clearTimeout(e);d=!1};e=window.setTimeout(function(){d&&c.b()},1E3*b);return this};Rb.prototype.stop=function(){this.a&&(this.a(),this.a=null)};function F(b){this.b=b;this.a=null}A("shaka.util.Timer",F);F.prototype.gb=function(){this.stop();this.b();return this};F.prototype.tickNow=F.prototype.gb;F.prototype.R=function(b){var c=this;this.stop();this.a=(new Rb(function(){c.b()})).R(b);return this};F.prototype.tickAfter=F.prototype.R;F.prototype.Ia=function(b){var c=this;this.stop();this.a=(new Rb(function(){c.a.R(b);c.b()})).R(b);return this};F.prototype.tickEvery=F.prototype.Ia;F.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};
F.prototype.stop=F.prototype.stop;function Sb(b,c){var d=Tb();this.l=null==b.maxAttempts?d.maxAttempts:b.maxAttempts;this.f=null==b.baseDelay?d.baseDelay:b.baseDelay;this.j=null==b.fuzzFactor?d.fuzzFactor:b.fuzzFactor;this.g=null==b.backoffFactor?d.backoffFactor:b.backoffFactor;this.a=0;this.b=this.f;if(this.c=void 0===c?!1:c)this.a=1}
function Ub(b){return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:if(b.a>=b.l)if(b.c)b.a=1,b.b=b.f;else return d["return"](Promise.reject());e=b.a;b.a++;if(0==e)return d["return"]();f=b.b*(1+(2*Math.random()-1)*b.j);return v(d,new Promise(function(b){(new F(b)).R(f/1E3)}),2);case 2:b.b*=b.g,w(d)}})})}function Tb(){return{maxAttempts:2,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}};function G(b,c,d,e){for(var f=[],g=3;g<arguments.length;++g)f[g-3]=arguments[g];this.severity=b;this.category=c;this.code=d;this.data=f;this.handled=!1}A("shaka.util.Error",G);G.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")};G.Severity={RECOVERABLE:1,CRITICAL:2};G.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9};
G.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,
MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,
DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,
HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,
REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,
CAST_API_UNAVAILABLE:8E3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9E3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,
MISSING_STORAGE_CELL:9013};function J(){var b,c,d=new Promise(function(d,f){b=d;c=f});d.resolve=b;d.reject=c;return d}J.prototype.resolve=function(){};J.prototype.reject=function(){};function Vb(b,c){this.promise=b;this.We=c;this.a=!1}A("shaka.util.AbortableOperation",Vb);function Wb(b){return new Vb(Promise.reject(b),function(){return Promise.resolve()})}Vb.failed=Wb;function Xb(){var b=Promise.reject(new G(2,7,7001));b["catch"](function(){});return new Vb(b,function(){return Promise.resolve()})}Vb.aborted=Xb;function Yb(b){return new Vb(Promise.resolve(b),function(){return Promise.resolve()})}Vb.completed=Yb;
function Zb(b){return new Vb(b,function(){return b["catch"](function(){})})}Vb.notAbortable=Zb;Vb.prototype.abort=function(){this.a=!0;return this.We()};Vb.prototype.abort=Vb.prototype.abort;function $b(b){return new Vb(Promise.all(b.map(function(b){return b.promise})),function(){return Promise.all(b.map(function(b){return b.abort()}))})}Vb.all=$b;Vb.prototype["finally"]=function(b){this.promise.then(function(){return b(!0)},function(){return b(!1)});return this};Vb.prototype["finally"]=Vb.prototype["finally"];
Vb.prototype.ma=function(b,c){function d(d){return function(k){if(f.a&&d)g.reject(h);else{var l=d?b:c;l?e=ac(l,k,g):(d?g.resolve:g.reject)(k)}}}function e(){g.reject(h);return f.abort()}var f=this,g=new J,h=new G(2,7,7001);this.promise.then(d(!0),d(!1));return new Vb(g,function(){return e()})};Vb.prototype.chain=Vb.prototype.ma;
function ac(b,c,d){try{var e=b(c);if(e&&e.promise&&e.abort)return d.resolve(e.promise),function(){return e.abort()};d.resolve(e);return function(){return Promise.resolve(e).then(function(){},function(){})}}catch(f){return d.reject(f),function(){return Promise.resolve()}}};function bc(b){function c(b){switch(typeof b){case "undefined":case "boolean":case "number":case "string":case "symbol":case "function":return b;default:if(!b||b.buffer&&b.buffer.constructor==ArrayBuffer)return b;if(d.has(b))return null;var e=b.constructor==Array;if(b.constructor!=Object&&!e)return null;d.add(b);var g=e?[]:{},h;for(h in b)g[h]=c(b[h]);e&&(g.length=b.length);return g}}var d=new Set;return c(b)};function cc(b,c){return"number"===typeof b&&"number"===typeof c&&isNaN(b)&&isNaN(c)?!0:b===c}function dc(b,c){var d=b.indexOf(c);-1<d&&b.splice(d,1)}function ec(b,c){var d=0;b.forEach(function(b){d+=c(b)?1:0});return d}
function fc(b,c,d){d||(d=cc);if(b.length!=c.length)return!1;c=c.slice();var e={};b=r(b);for(var f=b.next();!f.done;e={item:e.item},f=b.next()){e.item=f.value;f=c.findIndex(function(b){return function(c){return d(b.item,c)}}(e));if(-1==f)return!1;c[f]=c[c.length-1];c.pop()}return 0==c.length}function gc(b,c,d){d||(d=cc);if(b.length!=c.length)return!1;for(var e=0;e<b.length;e++)if(!d(b[e],c[e]))return!1;return!0};function hc(){this.a=[]}function ic(b,c){b.a.push(c["finally"](function(){dc(b.a,c)}))}hc.prototype.destroy=function(){var b=[];this.a.forEach(function(c){c.promise["catch"](function(){});b.push(c.abort())});this.a=[];return Promise.all(b)};function K(b){ab.call(this);this.f=!1;this.g=new hc;this.a=new Set;this.b=new Set;this.c=b||null}Za(K,ab);A("shaka.net.NetworkingEngine",K);K.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4};K.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var jc={};function kc(b,c,d){d=d||3;var e=jc[b];if(!e||d>=e.priority)jc[b]={priority:d,dh:c}}K.registerScheme=kc;K.unregisterScheme=function(b){delete jc[b]};K.prototype.fh=function(b){this.a.add(b)};K.prototype.registerRequestFilter=K.prototype.fh;
K.prototype.Fh=function(b){this.a["delete"](b)};K.prototype.unregisterRequestFilter=K.prototype.Fh;K.prototype.Nf=function(){this.a.clear()};K.prototype.clearAllRequestFilters=K.prototype.Nf;K.prototype.gh=function(b){this.b.add(b)};K.prototype.registerResponseFilter=K.prototype.gh;K.prototype.Gh=function(b){this.b["delete"](b)};K.prototype.unregisterResponseFilter=K.prototype.Gh;K.prototype.Of=function(){this.b.clear()};K.prototype.clearAllResponseFilters=K.prototype.Of;
K.defaultRetryParameters=function(){return Tb()};function lc(b,c){return{uris:b,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:c,licenseRequestType:null,sessionId:null}}K.makeRequest=lc;K.prototype.destroy=function(){this.f=!0;this.a.clear();this.b.clear();return this.g.destroy()};K.prototype.destroy=K.prototype.destroy;
K.prototype.request=function(b,c){var d=this,e=new mc;if(this.f){var f=Promise.reject(new G(2,7,7001));f["catch"](function(){});return new nc(f,function(){return Promise.resolve()},e)}c.method=c.method||"GET";c.headers=c.headers||{};c.retryParameters=c.retryParameters?bc(c.retryParameters):Tb();c.uris=bc(c.uris);f=oc(this,b,c);var g=f.ma(function(){return pc(d,b,c,new Sb(c.retryParameters,!1),0,null,e)}),h=g.ma(function(c){return qc(d,b,c)}),k=Date.now(),l=0;f.promise.then(function(){l=Date.now()-
k},function(){});var n=0;g.promise.then(function(){n=Date.now()},function(){});f=h.ma(function(c){var e=Date.now()-n,f=c.response;f.timeMs+=l;f.timeMs+=e;c.Ag||!d.c||f.fromCache||1!=b||d.c(f.timeMs,f.data.byteLength);return f},function(b){b&&(b.severity=2);throw b;});f=new nc(f.promise,f.We,e);ic(this.g,f);return f};K.prototype.request=K.prototype.request;
function oc(b,c,d){var e=Yb(void 0),f={};b=r(b.a);for(var g=b.next();!g.done;f={Yd:f.Yd},g=b.next())f.Yd=g.value,e=e.ma(function(b){return function(){return b.Yd(c,d)}}(f));return e.ma(void 0,function(b){if(b&&7001==b.code)throw b;throw new G(2,1,1006,b);})}
function pc(b,c,d,e,f,g,h){var k=new Bb(d.uris[f]),l=k.Qa,n=!1;l||(l=location.protocol,l=l.slice(0,-1),Cb(k,l),d.uris[f]=k.toString());l=l.toLowerCase();var p=(l=jc[l])?l.dh:null;if(!p)return Wb(new G(2,1,1E3,k));var q;return Zb(Ub(e)).ma(function(){if(b.f)return Xb();q=Date.now();return p(d.uris[f],d,c,function(d,e,f){b.c&&1==c&&(b.c(d,e),n=!0,h.a=f)})}).ma(function(b){void 0==b.timeMs&&(b.timeMs=Date.now()-q);return{response:b,Ag:n}},function(k){if(k&&7001==k.code)throw k;if(b.f)return Xb();if(k&&
1==k.severity)return b.dispatchEvent(new B("retry",{error:k instanceof G?k:null})),f=(f+1)%d.uris.length,pc(b,c,d,e,f,k,h);throw k||g;})}function qc(b,c,d){var e=Yb(void 0);b=r(b.b);for(var f=b.next();!f.done;f=b.next())e=e.ma(f.value.bind(null,c,d.response));return e.ma(function(){return d},function(b){if(b&&7001==b.code)throw b;var c=2;b instanceof G&&(c=b.severity);throw new G(c,1,1007,b);})}function mc(){this.a=0}K.NumBytesRemainingClass=mc;function nc(b,c,d){Vb.call(this,b,c);this.b=d}
sa(nc,Vb);K.PendingRequest=nc;nc.all=$b;nc.notAbortable=Zb;nc.completed=Yb;nc.aborted=Xb;nc.failed=Wb;function rc(){}A("shaka.util.IReleasable",rc);rc.prototype.release=function(){};function L(){this.a=new $a}A("shaka.util.EventManager",L);L.prototype.release=function(){this.Hb();this.a=null};L.prototype.release=L.prototype.release;L.prototype.m=function(b,c,d,e){this.a&&(b=new tc(b,c,d,e),this.a.push(c,b))};L.prototype.listen=L.prototype.m;L.prototype.Ha=function(b,c,d,e){function f(e){g.xa(b,c,f);d(e)}var g=this;this.m(b,c,f,e)};L.prototype.listenOnce=L.prototype.Ha;
L.prototype.xa=function(b,c,d){if(this.a){var e=this.a.get(c)||[];e=r(e);for(var f=e.next();!f.done;f=e.next())f=f.value,f.target!=b||d!=f.listener&&d||(f.xa(),this.a.remove(c,f))}};L.prototype.unlisten=L.prototype.xa;L.prototype.Hb=function(){if(this.a){var b=this.a.getAll();b=r(b);for(var c=b.next();!c.done;c=b.next())c.value.xa();this.a.a={}}};L.prototype.removeAll=L.prototype.Hb;
function tc(b,c,d,e){this.target=b;this.type=c;this.listener=d;this.a=uc(b,e);this.target.addEventListener(c,d,this.a)}tc.prototype.xa=function(){this.target.removeEventListener(this.type,this.listener,this.a);this.listener=this.target=null;this.a=!1};tc.prototype.unlisten=tc.prototype.xa;function uc(b,c){if(void 0==c)return!1;if("boolean"==typeof c)return c;var d=new Set(["passive","capture"]);Object.keys(c).filter(function(b){return!d.has(b)});return vc(b)?c:c.capture||!1}
function vc(b){var c=wc;if(void 0==c){c=!1;try{var d={},e={get:function(){c=!0;return!1}};Object.defineProperty(d,"passive",e);Object.defineProperty(d,"capture",e);e=function(){};b.addEventListener("test",e,d);b.removeEventListener("test",e,d)}catch(f){c=!1}wc=c}return c||!1}var wc=void 0;function xc(b){b=yc(b);return(new Bb(b)).Pa}A("shaka.util.FairPlayUtils.defaultGetContentId",xc);function zc(b,c,d){function e(b){(new DataView(f.buffer)).setUint32(g,b.byteLength,!0);g+=4;f.set(b,g);g+=b.byteLength}if(!d||!d.byteLength)throw new G(2,6,6015);c="string"==typeof c?new Uint8Array(Ac(c,!0)):new Uint8Array(c);b=yc(b);b=Ac(b,!0);var f=new Uint8Array(12+b.byteLength+c.byteLength+d.byteLength),g=0;e(new Uint8Array(b));e(c);e(new Uint8Array(d));return f}
A("shaka.util.FairPlayUtils.initDataTransform",zc);function Bc(b){var c=new Map;Object.keys(b).forEach(function(d){c.set(d,b[d])});return c}function Cc(b){var c={};b.forEach(function(b,e){c[e]=b});return c};function Dc(b,c){var d=b;c&&(d+='; codecs="'+c+'"');return d}function Ec(b){var c=[b.mimeType];Fc.forEach(function(d,e){var f=b[e];f&&c.push(d+'="'+f+'"')});return c.join(";")}function Gc(b){b=b.split(".");var c=b[0];b.pop();return[c,b.join(".")]}var Fc=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Hc(){return window.MediaSource&&MediaSource.isTypeSupported?!0:!1}function Ic(b){return""!=Jc().canPlayType(b)}function Kc(){return navigator.userAgent.match(/Edge?\//)?!0:!1}function Lc(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Mc("Tizen")}function Nc(){if(!Lc())return null;var b=navigator.userAgent.match(/Version\/(\d+)/);return b?parseInt(b[1],10):(b=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(b[1],10):null}
function Mc(b){return(navigator.userAgent||"").includes(b)}function Jc(){if(Oc)return Oc;Pc||(Pc=new F(function(){Oc=null}));(Oc=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Oc=document.createElement("video"));Pc.R(1);return Oc}var Pc=null,Oc=null;function Qc(b){if(!b)return"";b=new Uint8Array(b);239==b[0]&&187==b[1]&&191==b[2]&&(b=b.subarray(3));b=Rc(b);b=escape(b);try{return decodeURIComponent(b)}catch(c){throw new G(2,2,2004);}}A("shaka.util.StringUtils.fromUTF8",Qc);
function Sc(b,c,d){if(!b)return"";if(!d&&0!=b.byteLength%2)throw D.error("Data has an incorrect length, must be even."),new G(2,2,2004);if(b instanceof ArrayBuffer)var e=b;else d=new Uint8Array(b.byteLength),d.set(new Uint8Array(b)),e=d.buffer;b=Math.floor(b.byteLength/2);d=new Uint16Array(b);e=new DataView(e);for(var f=0;f<b;f++)d[f]=e.getUint16(2*f,c);return Rc(d)}A("shaka.util.StringUtils.fromUTF16",Sc);
function yc(b){var c=new Uint8Array(b);if(239==c[0]&&187==c[1]&&191==c[2])return Qc(c);if(254==c[0]&&255==c[1])return Sc(c.subarray(2),!1);if(255==c[0]&&254==c[1])return Sc(c.subarray(2),!0);var d=function(b,c){return b.byteLength<=c||32<=b[c]&&126>=b[c]}.bind(null,c);D.debug("Unable to find byte-order-mark, making an educated guess.");if(0==c[0]&&0==c[2])return Sc(b,!1);if(0==c[1]&&0==c[3])return Sc(b,!0);if(d(0)&&d(1)&&d(2)&&d(3))return Qc(b);throw new G(2,2,2003);}
A("shaka.util.StringUtils.fromBytesAutoDetect",yc);function Tc(b){b=encodeURIComponent(b);b=unescape(b);for(var c=new Uint8Array(b.length),d=0;d<b.length;++d)c[d]=b.charCodeAt(d);return c.buffer}A("shaka.util.StringUtils.toUTF8",Tc);function Ac(b,c){for(var d=new Uint8Array(2*b.length),e=new DataView(d.buffer),f=0;f<b.length;++f)e.setUint16(2*f,b.charCodeAt(f),c);return d.buffer}A("shaka.util.StringUtils.toUTF16",Ac);
function Rc(b){if(!Uc)for(var c=function(b){try{var c=new Uint8Array(b);return 0<String.fromCharCode.apply(null,c).length}catch(g){return!1}},d={size:65536};0<d.size;d={size:d.size},d.size/=2)if(c(d.size)){Uc=function(b){return function(c){for(var d="",e=0;e<c.length;e+=b.size)d+=String.fromCharCode.apply(null,c.subarray(e,e+b.size));return d}}(d);break}return Uc(b)}var Uc=null;A("shaka.util.StringUtils.resetFromCharCode",function(){Uc=null});var M={gd:function(b,c){var d=Rc(b);c=void 0==c?!0:c;d=window.btoa(d).replace(/\+/g,"-").replace(/\//g,"_");return c?d:d.replace(/=*$/,"")}};A("shaka.util.Uint8ArrayUtils.toBase64",M.gd);M.Za=function(b){b=window.atob(b.replace(/-/g,"+").replace(/_/g,"/"));for(var c=new Uint8Array(b.length),d=0;d<b.length;++d)c[d]=b.charCodeAt(d);return c};A("shaka.util.Uint8ArrayUtils.fromBase64",M.Za);
M.vd=function(b){for(var c=new Uint8Array(b.length/2),d=0;d<b.length;d+=2)c[d/2]=window.parseInt(b.substr(d,2),16);return c};A("shaka.util.Uint8ArrayUtils.fromHex",M.vd);M.hd=function(b){for(var c="",d=0;d<b.length;++d){var e=b[d].toString(16);1==e.length&&(e="0"+e);c+=e}return c};A("shaka.util.Uint8ArrayUtils.toHex",M.hd);M.Xa=function(b,c){if(!b&&!c)return!0;if(!b||!c||b.length!=c.length)return!1;for(var d=0;d<b.length;++d)if(b[d]!=c[d])return!1;return!0};A("shaka.util.Uint8ArrayUtils.equal",M.Xa);
M.concat=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d]=arguments[d];for(var e=d=0;e<c.length;++e)d+=c[e].length;d=new Uint8Array(d);for(var f=e=0;f<c.length;++f)d.set(c[f],e),e+=c[f].length;return d};A("shaka.util.Uint8ArrayUtils.concat",M.concat);function Vc(b,c){var d=this;c=void 0===c?1:c;this.G=b;this.w=new Set;this.j=this.s=null;this.O=!1;this.K=0;this.a=null;this.l=new L;this.b=new Map;this.B=[];this.v=new J;this.f=null;this.g=function(c){d.v.reject(c);b.onError(c)};this.na=new Map;this.Y=new Map;this.L=new F(function(){return Wc(d)});this.c=!1;this.ia=new J;this.H=!1;this.J=[];this.ka=!1;this.Z=(new F(function(){Xc(d)})).Ia(c);this.v["catch"](function(){})}m=Vc.prototype;
m.destroy=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:if(b.c)return v(d,b.ia,0);b.c=!0;return v(d,Yc(b),4);case 4:b.ia.resolve(),d.C(0)}})})};
function Yc(b){return u(function d(){return x(d,function(d){switch(d.o){case 1:return b.l.release(),b.l=null,b.v.reject(),b.Z.stop(),b.Z=null,b.L.stop(),b.L=null,v(d,Zc(b),2);case 2:if(!b.j){d.C(3);break}xa(d,4);return v(d,b.j.setMediaKeys(null),6);case 6:za(d,5);break;case 4:Da(d);case 5:b.j=null;case 3:b.a=null,b.w.clear(),b.s=null,b.B=[],b.f=null,b.g=null,b.G=null,w(d)}})})}m.configure=function(b){this.f=b};function $c(b,c,d){b.B=[];b.H=d;return ad(b,c)}
function bd(b,c,d){b.B=d;b.H=0<d.length;return ad(b,c)}function cd(b,c,d,e,f,g){var h=new Map;h.set(c,{audioCapabilities:f,videoCapabilities:g,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:c,drmInfos:[{keySystem:c,licenseServerUri:d,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:e,initData:null,keyIds:null}]});return dd(b,h)}
function ad(b,c){var d=ed(b);if(d)for(var e=r(c),f=e.next();!f.done;f=e.next())f.value.drmInfos=[d];d=c.some(function(b){return 0<b.drmInfos.length});d||(f=Bc(b.f.servers),fd(c,f));e=r(c);for(f=e.next();!f.done;f=e.next()){f=r(f.value.drmInfos);for(var g=f.next();!g.done;g=f.next())gd(g.value,Bc(b.f.servers),Bc(b.f.advanced||{}))}f=hd(b,c);if(!f.size)return b.O=!0,Promise.resolve();f=dd(b,f);return d?f:f["catch"](function(){})}
m.kc=function(b){var c=this;if(!this.s)return this.l.Ha(b,"encrypted",function(){c.g(new G(2,6,6010))}),Promise.resolve();this.j=b;this.l.Ha(this.j,"play",function(){for(var b=0;b<c.J.length;b++)id(c,c.J[b]);c.ka=!0;c.J=[]});"webkitCurrentPlaybackTargetIsWireless"in this.j&&this.l.m(this.j,"webkitcurrentplaybacktargetiswirelesschanged",function(){return Zc(c)});b=this.j.setMediaKeys(this.s);b=b["catch"](function(b){return Promise.reject(new G(2,6,6003,b.message))});var d=jd(this);return Promise.all([b,
d]).then(function(){if(c.c)return Promise.reject();kd(c);c.a.initData.length||c.B.length||c.l.m(c.j,"encrypted",function(b){return ld(c,b.initDataType,new Uint8Array(b.initData))})})["catch"](function(b){if(!c.c)return Promise.reject(b)})};
function jd(b){return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:if(!(b.s&&b.a&&b.a.serverCertificate&&b.a.serverCertificate.length)){d.C(0);break}xa(d,3);return v(d,b.s.setServerCertificate(b.a.serverCertificate),5);case 5:(e=d.A)||D.u("Server certificates are not supported by the key system.  The server certificate has been ignored.");za(d,0);break;case 3:return f=Da(d),d["return"](Promise.reject(new G(2,6,6004,f.message)))}})})}
function md(b,c){return u(function e(){var f,g,h;return x(e,function(e){switch(e.o){case 1:return v(e,nd(b,c),2);case 2:f=e.A;if(!f)return D.N("Ignoring attempt to remove missing session",c),e["return"]();g=[];if(h=b.b.get(f))h.Va=new J,g.push(h.Va);D.N("Attempting to remove session",c);g.push(f.remove());return v(e,Promise.all(g),0)}})})}
function kd(b){var c=b.a?b.a.initData:[];c.forEach(function(c){return ld(b,c.initDataType,c.initData)});b.B.forEach(function(c){return nd(b,c)});c.length||b.B.length||b.v.resolve();return b.v}function ld(b,c,d){var e=b.b.values();e=r(e);for(var f=e.next();!f.done;f=e.next())if(M.Xa(d,f.value.initData)&&!Mc("Tizen 2")){D.debug("Ignoring duplicate init data.");return}od(b,c,d)}function pd(b){return b?b.keySystem:""}
function qd(b){b=b.b.keys();b=bb(b,function(b){return b.sessionId});return Array.from(b)}m.nc=function(){var b=Infinity,c=this.b.keys();c=r(c);for(var d=c.next();!d.done;d=c.next())d=d.value,isNaN(d.expiration)||(b=Math.min(b,d.expiration));return b};
function hd(b,c){for(var d=new Set,e=r(c),f=e.next();!f.done;f=e.next()){var g=r(f.value.drmInfos);for(f=g.next();!f.done;f=g.next())d.add(f.value)}e=r(d);for(f=e.next();!f.done;f=e.next())gd(f.value,Bc(b.f.servers),Bc(b.f.advanced||{}));g=b.H?"required":"optional";var h=b.H?["persistent-license"]:["temporary"];e=new Map;d=r(d);for(f=d.next();!f.done;f=d.next())f=f.value,e.set(f.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:g,sessionTypes:h,
label:f.keySystem,drmInfos:[]});d=r(c);for(f=d.next();!f.done;f=d.next()){f=f.value;g=f.audio;h=f.video;var k=g?Dc(g.mimeType,g.codecs):"",l=h?Dc(h.mimeType,h.codecs):"",n=r(f.drmInfos);for(f=n.next();!f.done;f=n.next()){f=f.value;var p=e.get(f.keySystem);p.drmInfos.push(f);f.distinctiveIdentifierRequired&&(p.distinctiveIdentifier="required");f.persistentStateRequired&&(p.persistentState="required");g&&p.audioCapabilities.push({robustness:f.audioRobustness||"",contentType:k});h&&p.videoCapabilities.push({robustness:f.videoRobustness||
"",contentType:l})}}return e}
function dd(b,c){if(1==c.size&&c.has(""))return Promise.reject(new G(2,6,6E3));for(var d=r(c.values()),e=d.next();!e.done;e=d.next())e=e.value,0==e.audioCapabilities.length&&delete e.audioCapabilities,0==e.videoCapabilities.length&&delete e.videoCapabilities;var f=d=new J;[!0,!1].forEach(function(b){var d=this;c.forEach(function(c,e){c.drmInfos.some(function(b){return!!b.licenseServerUri})==b&&(f=f["catch"](function(){if(!this.c)return navigator.requestMediaKeySystemAccess(e,[c])}.bind(d)))})}.bind(b));
f=f["catch"](function(){return Promise.reject(new G(2,6,6001))});f=f.then(function(b){if(this.c)return Promise.reject();this.w.clear();var d=b.getConfiguration(),e=d.videoCapabilities||[],f=r(d.audioCapabilities||[]);for(d=f.next();!d.done;d=f.next())this.w.add(d.value.contentType.toLowerCase());e=r(e);for(d=e.next();!d.done;d=e.next())this.w.add(d.value.contentType.toLowerCase());e=b.keySystem;d=c.get(b.keySystem);f=[];var g=[],p=[],q=[];rd(d.drmInfos,f,g,p,q);1<g.length&&D.u("Multiple unique server certificates found! Only the first will be used.");
1<f.length&&D.u("Multiple unique license server URIs found! Only the first will be used.");this.a={keySystem:e,licenseServerUri:f[0],distinctiveIdentifierRequired:"required"==d.distinctiveIdentifier,persistentStateRequired:"required"==d.persistentState,audioRobustness:(d.audioCapabilities?d.audioCapabilities[0].robustness:"")||"",videoRobustness:(d.videoCapabilities?d.videoCapabilities[0].robustness:"")||"",serverCertificate:g[0],initData:p,keyIds:q};return this.a.licenseServerUri?b.createMediaKeys():
Promise.reject(new G(2,6,6012,this.a.keySystem))}.bind(b)).then(function(b){if(this.c)return Promise.reject();D.info("Created MediaKeys object for key system",this.a.keySystem);this.s=b;this.O=!0}.bind(b))["catch"](function(b){if(!this.c)return this.a=null,this.w.clear(),b instanceof G?Promise.reject(b):Promise.reject(new G(2,6,6002,b.message))}.bind(b));d.reject();return f}
function ed(b){b=Bc(b.f.clearKeys);if(0==b.size)return null;var c=[],d=[];b.forEach(function(b,e){var f=M.vd(e),g=M.vd(b);f={kty:"oct",kid:M.gd(f,!1),k:M.gd(g,!1)};c.push(f);d.push(f.kid)});b=JSON.stringify({keys:c});var e=JSON.stringify({kids:d});e=[{initData:new Uint8Array(Tc(e)),initDataType:"keyids"}];return{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+window.btoa(b),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",
serverCertificate:null,initData:e,keyIds:[]}}
function nd(b,c){try{D.I("Attempting to load an offline session",c);var d=b.s.createSession("persistent-license")}catch(g){var e=new G(2,6,6005,g.message);b.g(e);return Promise.reject(e)}b.l.m(d,"message",b.cf.bind(b));b.l.m(d,"keystatuseschange",b.$e.bind(b));var f={initData:null,loaded:!1,Qd:Infinity,Va:null};b.b.set(d,f);return d.load(c).then(function(b){if(this.c)return Promise.reject();D.N("Loaded offline session",c,b);if(b)return f.loaded=!0,sd(this)&&this.v.resolve(),d;this.b["delete"](d);
this.g(new G(2,6,6013))}.bind(b),function(b){this.c||(this.b["delete"](d),this.g(new G(2,6,6005,b.message)))}.bind(b))}
function od(b,c,d){try{if(b.H){D.I("Creating new persistent session");var e=b.s.createSession("persistent-license")}else D.I("Creating new temporary session"),e=b.s.createSession()}catch(f){b.g(new G(2,6,6005,f.message));return}b.l.m(e,"message",b.cf.bind(b));b.l.m(e,"keystatuseschange",b.$e.bind(b));b.b.set(e,{initData:d,loaded:!1,Qd:Infinity,Va:null});try{d=b.f.initDataTransform(d,b.a)}catch(f){c=f;f instanceof G||(c=new G(2,6,6016,f));b.g(c);return}e.generateRequest(c,d)["catch"](function(c){if(!b.c){b.b["delete"](e);
if(c.errorCode&&c.errorCode.systemCode){var d=c.errorCode.systemCode;0>d&&(d+=Math.pow(2,32));d="0x"+d.toString(16)}b.g(new G(2,6,6006,c.message,c,d))}})}function td(b,c){if(pd(c).startsWith("com.apple.fps")){var d=c.serverCertificate,e=xc(b);b=zc(b,e,d)}return b}m.cf=function(b){this.j&&this.f.delayLicenseRequestUntilPlayed&&this.j.paused&&!this.ka?this.J.push(b):id(this,b)};
function id(b,c){var d=c.target;D.I("Sending license request for session",d.sessionId,"of type",c.messageType);var e=b.b.get(d),f=b.a.licenseServerUri,g=b.f.advanced[b.a.keySystem];"individualization-request"==c.messageType&&g&&g.individualizationServer&&(f=g.individualizationServer);f=lc([f],b.f.retryParameters);f.body=c.message;f.method="POST";f.licenseRequestType=c.messageType;f.sessionId=d.sessionId;"com.microsoft.playready"!=b.a.keySystem&&"com.chromecast.playready"!=b.a.keySystem||ud(f);b.a.keySystem.startsWith("com.apple.fps")&&
b.f.fairPlayTransform&&vd(f);var h=Date.now();b.G.Zb.request(2,f).promise.then(function(b){if(this.c)return Promise.reject();this.a.keySystem.startsWith("com.apple.fps")&&this.f.fairPlayTransform&&wd(b);this.K+=(Date.now()-h)/1E3;D.I("Updating session",d.sessionId);return d.update(b.data).then(function(){var b=this;this.G.onEvent(new B("drmsessionupdate"));e&&(e.Va&&e.Va.resolve(),(new F(function(){e.loaded=!0;sd(b)&&b.v.resolve()})).R(xd))}.bind(this))}.bind(b),function(b){this.c||(b=new G(2,6,6007,
b),this.g(b),e&&e.Va&&e.Va.reject(b))}.bind(b))["catch"](function(b){this.c||(b=new G(2,6,6008,b.message),this.g(b),e&&e.Va&&e.Va.reject(b))}.bind(b))}
function ud(b){var c=Sc(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){D.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].getElementsByTagName("name")[0].textContent]=d[e].getElementsByTagName("value")[0].textContent;b.body=M.Za(c.getElementsByTagName("Challenge")[0].textContent).buffer}else D.debug("PlayReady request is already unwrapped."),b.headers["Content-Type"]=
"text/xml; charset=utf-8"}function vd(b){var c=new Uint8Array(b.body);c="spc="+M.gd(c);b.headers["Content-Type"]="application/x-www-form-urlencoded";b.body=Tc(c)}function wd(b){try{var c=Qc(b.data)}catch(d){return}c=c.trim();"<ckc>"===c.substr(0,5)&&"</ckc>"===c.substr(-6)&&(c=c.slice(5,-6));try{c=JSON.parse(c).ckc}catch(d){}b.data=M.Za(c).buffer}
m.$e=function(b){b=b.target;D.N("Key status changed for session",b.sessionId);var c=this.b.get(b),d=!1;b.keyStatuses.forEach(function(b,e){if("string"==typeof e){var f=e;e=b;b=f}if("com.microsoft.playready"==this.a.keySystem&&16==e.byteLength&&(Mc("Trident/")||Kc())){f=new DataView(e);var g=f.getUint32(0,!0),l=f.getUint16(4,!0),n=f.getUint16(6,!0);f.setUint32(0,g,!1);f.setUint16(4,l,!1);f.setUint16(6,n,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==b&&(b="usable");"status-pending"!=
b&&(c.loaded=!0);"expired"==b&&(d=!0);f=M.hd(new Uint8Array(e));this.na.set(f,b)}.bind(this));var e=b.expiration-Date.now();(0>e||d&&1E3>e)&&c&&!c.Va&&(D.debug("Session has expired",b.sessionId),this.b["delete"](b),b.close()["catch"](function(){}));sd(this)&&(this.v.resolve(),this.L.R(yd))};function Wc(b){var c=b.na,d=b.Y;d.clear();c.forEach(function(b,c){return d.set(c,b)});c=Array.from(d.values());c.length&&c.every(function(b){return"expired"==b})&&b.g(new G(2,6,6014));b.G.Wc(Cc(d))}
function zd(){function b(b){return u(function h(){var c,f,n;return x(h,function(h){switch(h.o){case 1:return xa(h,2),v(h,navigator.requestMediaKeySystemAccess(b,d),4);case 4:return c=h.A,n=(f=c.getConfiguration().sessionTypes)?f.includes("persistent-license"):!1,Mc("Tizen 3")&&(n=!1),e.set(b,{persistentState:n}),v(h,c.createMediaKeys(),5);case 5:za(h,0);break;case 2:Da(h),e.set(b,null),w(h)}})})}var c=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],d=[{videoCapabilities:c,
persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:c}],e=new Map;c="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map(function(c){return b(c)});return Promise.all(c).then(function(){return Cc(e)})}
function Ad(b,c){var d=c.audio,e=c.video;if(d&&d.encrypted&&!Kc()&&!b.w.has(Dc(d.mimeType,d.codecs).toLowerCase())||e&&e.encrypted&&!Kc()&&!b.w.has(Dc(e.mimeType,e.codecs).toLowerCase()))return!1;var f=pd(b.a);return 0==c.drmInfos.length||c.drmInfos.some(function(b){return b.keySystem==f})}
function Bd(b,c){if(!b.length)return c;if(!c.length)return b;for(var d=[],e=0;e<b.length;e++)for(var f=0;f<c.length;f++)if(b[e].keySystem==c[f].keySystem){var g=b[e];f=c[f];var h=[];h=h.concat(g.initData||[]);h=h.concat(f.initData||[]);var k=[];k=k.concat(g.keyIds);k=k.concat(f.keyIds);d.push({keySystem:g.keySystem,licenseServerUri:g.licenseServerUri||f.licenseServerUri,distinctiveIdentifierRequired:g.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:g.persistentStateRequired||
f.persistentStateRequired,videoRobustness:g.videoRobustness||f.videoRobustness,audioRobustness:g.audioRobustness||f.audioRobustness,serverCertificate:g.serverCertificate||f.serverCertificate,initData:h,keyIds:k});break}return d}
function Cd(b){return u(function d(){var e;return x(d,function(d){switch(d.o){case 1:return e=new Promise(function(b,d){(new F(d)).R(Dd)}),xa(d,2),v(d,Promise.race([Promise.all([b.close(),b.closed]),e]),4);case 4:za(d,0);break;case 2:Da(d),D.u("Timeout waiting for session close"),w(d)}})})}
function Zc(b){return u(function d(){var e;return x(d,function(d){switch(d.o){case 1:return e=Array.from(b.b.keys()),b.b.clear(),v(d,Promise.all(e.map(function(b){return u(function k(){return x(k,function(d){switch(d.o){case 1:return D.I("Closing session",b.sessionId),xa(d,2),v(d,Cd(b),4);case 4:za(d,0);break;case 2:Da(d),w(d)}})})})),0)}})})}function Xc(b){b.b.forEach(function(c,d){var e=c.Qd,f=d.expiration;isNaN(f)&&(f=Infinity);f!=e&&(b.G.onExpirationUpdated(d.sessionId,f),c.Qd=f)})}
function sd(b){b=b.b.values();return cb(b,function(b){return b.loaded})}function fd(b,c){var d=[];c.forEach(function(b,c){d.push({keySystem:c,licenseServerUri:b,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var e=r(b),f=e.next();!f.done;f=e.next())f.value.drmInfos=d}
function rd(b,c,d,e,f){b.forEach(function(b){c.includes(b.licenseServerUri)||c.push(b.licenseServerUri);b.serverCertificate&&(d.some(function(c){return M.Xa(c,b.serverCertificate)})||d.push(b.serverCertificate));b.initData&&b.initData.forEach(function(b){e.some(function(c){return c.keyId&&c.keyId==b.keyId?!0:c.initDataType==b.initDataType&&M.Xa(c.initData,b.initData)})||e.push(b)});if(b.keyIds)for(var g=0;g<b.keyIds.length;++g)f.includes(b.keyIds[g])||f.push(b.keyIds[g])})}
function gd(b,c,d){if(b.keySystem&&("org.w3.clearkey"!=b.keySystem||!b.licenseServerUri)){c.size&&(c=c.get(b.keySystem)||"",b.licenseServerUri=c);b.keyIds||(b.keyIds=[]);if(d=d.get(b.keySystem))b.distinctiveIdentifierRequired||(b.distinctiveIdentifierRequired=d.distinctiveIdentifierRequired),b.persistentStateRequired||(b.persistentStateRequired=d.persistentStateRequired),b.videoRobustness||(b.videoRobustness=d.videoRobustness),b.audioRobustness||(b.audioRobustness=d.audioRobustness),b.serverCertificate||
(b.serverCertificate=d.serverCertificate);window.cast&&window.cast.__platform__&&"com.microsoft.playready"==b.keySystem&&(b.keySystem="com.chromecast.playready")}}var Dd=1,xd=5,yd=.5;function Ed(){this.a=new muxjs.mp4.CaptionParser;this.g=[];this.f={}}Ed.prototype.init=function(b){var c=muxjs.mp4.probe;b=new Uint8Array(b);this.g=c.videoTrackIds(b);this.f=c.timescale(b);this.a.init()};Ed.prototype.b=function(b,c){var d=new Uint8Array(b);(d=this.a.parse(d,this.g,this.f))&&d.captions&&c(d.captions);this.a.clearParsedCaptions()};Ed.prototype.c=function(){this.a.resetCaptionStream()};function Fd(){}Fd.prototype.init=function(){};Fd.prototype.b=function(){};Fd.prototype.c=function(){};function Gd(b){return!b||1==b.length&&1E-6>b.end(0)-b.start(0)?null:b.length?b.end(b.length-1):null}function Hd(b,c,d){d=void 0===d?0:d;return!b||!b.length||1==b.length&&1E-6>b.end(0)-b.start(0)||c>b.end(b.length-1)?!1:c+d>=b.start(0)}function Id(b,c){if(!b||!b.length||1==b.length&&1E-6>b.end(0)-b.start(0))return 0;for(var d=0,e=b.length-1;0<=e&&b.end(e)>c;--e)d+=b.end(e)-Math.max(b.start(e),c);return d}
function Jd(b){if(!b)return[];for(var c=[],d=0;d<b.length;d++)c.push({start:b.start(d),end:b.end(d)});return c};var Kd={Pf:function(b,c){return b.reduce(function(b,c,f){return c["catch"](b.bind(null,f))}.bind(null,c),Promise.reject())},nd:function(b,c){return b.concat(c)},Uc:function(){},jb:function(b){return null!=b}};function Ld(b,c){if(0==c.length)return b;var d=c.map(function(b){return new Bb(b)});return b.map(function(b){return new Bb(b)}).map(function(b){return d.map(b.resolve.bind(b))}).reduce(Kd.nd,[]).map(function(b){return b.toString()})}function Md(b,c){return{keySystem:b,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:c||[],keyIds:[]}}
var Nd={tb:"video",jc:"audio",Oa:"text",Mh:"image",Kh:"application"},Od=1/15;function Pd(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0});this.b=null;this.g=[];this.c=[];this.f=!1;this.a.on("data",this.l.bind(this));this.a.on("done",this.j.bind(this))}Pd.prototype.destroy=function(){this.a.dispose();this.a=null;return Promise.resolve()};function Qd(b,c){return window.muxjs&&"mp2t"==b.toLowerCase().split(";")[0].split("/")[1]?c?MediaSource.isTypeSupported(Rd(c,b)):MediaSource.isTypeSupported(Rd("audio",b))||MediaSource.isTypeSupported(Rd("video",b)):!1}
function Rd(b,c){var d=c.replace(/mp2t/i,"mp4");"audio"==b&&(d=d.replace("video","audio"));var e=/avc1\.(66|77|100)\.(\d+)/.exec(d);if(e){var f="avc1.",g=e[1],h=Number(e[2]);f=("66"==g?f+"4200":"77"==g?f+"4d00":f+"6400")+(h>>4).toString(16);f+=(h&15).toString(16);d=d.replace(e[0],f)}return d}function Sd(b,c){b.f=!0;b.b=new J;b.g=[];b.c=[];var d=new Uint8Array(c);b.a.push(d);b.a.flush();b.f&&b.b.reject(new G(2,3,3018));return b.b}
Pd.prototype.l=function(b){this.c=b.captions;var c=new Uint8Array(b.data.byteLength+b.initSegment.byteLength);c.set(b.initSegment,0);c.set(b.data,b.initSegment.byteLength);this.g.push(c)};Pd.prototype.j=function(){var b={data:M.concat.apply(null,this.g),captions:this.c};this.b.resolve(b);this.f=!1};function Td(b,c,d){this.startTime=b;this.direction=Ud;this.endTime=c;this.payload=d;this.region=new Vd;this.position=null;this.positionAlign=Wd;this.size=0;this.textAlign=Xd;this.writingMode=Yd;this.lineInterpretation=Zd;this.line=null;this.lineHeight="";this.lineAlign=$d;this.displayAlign=ae;this.fontSize=this.backgroundImage=this.backgroundColor=this.color="";this.fontWeight=be;this.fontStyle=ce;this.fontFamily="";this.textDecoration=[];this.wrapLine=!0;this.id="";this.nestedCues=[];this.spacer=
!1}A("shaka.text.Cue",Td);Td.prototype.clone=function(){var b=new Td(0,0,""),c;for(c in this)b[c]=this[c],b[c]&&b[c].constructor==Array&&(b[c]=b[c].slice());return b};function de(b,c){for(var d in b)if("nestedCues"==d){if(!gc(b.nestedCues,c.nestedCues,de))return!1}else if("region"==d||"cellResolution"==d)for(var e in b[d]){if(b[d][e]!=c[d][e])return!1}else if(Array.isArray(b[d])){if(!gc(b[d],c[d]))return!1}else if(b[d]!=c[d])return!1;return!0}var Wd="auto";
Td.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Wd};var Xd="center",ee={LEFT:"left",RIGHT:"right",CENTER:Xd,START:"start",END:"end"};Td.textAlign=ee;var ae="after",fe={BEFORE:"before",CENTER:"center",AFTER:ae};Td.displayAlign=fe;var Ud="ltr";Td.direction={HORIZONTAL_LEFT_TO_RIGHT:Ud,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Yd="horizontal-tb";Td.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Yd,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Zd=0;
Td.lineInterpretation={LINE_NUMBER:Zd,PERCENTAGE:1};var $d="start",ge={CENTER:"center",START:$d,END:"end"};Td.lineAlign=ge;var be=400;Td.fontWeight={NORMAL:be,BOLD:700};var ce="normal",he={NORMAL:ce,ITALIC:"italic",OBLIQUE:"oblique"};Td.fontStyle=he;Td.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};
function Vd(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=ie;this.scroll=je}A("shaka.text.CueRegion",Vd);var ie=1;Vd.units={PX:0,PERCENTAGE:ie,LINES:2};var je="";Vd.scrollMode={NONE:je,UP:"up"};function ke(b){this.g=null;this.c=b;this.f=this.v=0;this.j=Infinity;this.b=this.a=null;this.s="";this.l=new Map}var le={};A("shaka.text.TextEngine.registerParser",function(b,c){le[b]=c});A("shaka.text.TextEngine.unregisterParser",function(b){delete le[b]});function me(b){return le[b]||window.muxjs&&"application/cea-608"==b?!0:!1}ke.prototype.destroy=function(){this.c=this.g=null;this.l.clear();return Promise.resolve()};function ne(b,c){"application/cea-608"!=c&&(b.g=new le[c])}
ke.prototype.Rc=function(b){var c={periodStart:0,segmentStart:null,segmentEnd:0};try{return this.g.parseMedia(new Uint8Array(b),c)[0].startTime}catch(d){throw new G(2,2,2009,d);}};
function oe(b,c,d,e){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==d||null==e)this.g.parseInit(new Uint8Array(c));else{var b={periodStart:this.v,segmentStart:d,segmentEnd:e};b=this.g.parseMedia(new Uint8Array(c),b).filter(function(b){return b.startTime>=this.f&&b.startTime<this.j}.bind(this));this.c.append(b);null==this.a&&(this.a=Math.max(d,this.f));this.b=Math.min(e,this.j)}}.bind(b))}
ke.prototype.remove=function(b,c){return Promise.resolve().then(function(){!this.c||!this.c.remove(b,c)||null==this.a||c<=this.a||b>=this.b||(b<=this.a&&c>=this.b?this.a=this.b=null:b<=this.a&&c<this.b?this.a=c:b>this.a&&c>=this.b&&(this.b=b))}.bind(this))};function pe(b,c,d){b.s=c;if(c=b.l.get(c))for(var e=r(c.keys()),f=e.next();!f.done;f=e.next())(f=c.get(f.value).filter(function(b){return b.endTime<=d}))&&b.c.append(f)}
function qe(b,c,d,e,f){var g=d+" "+e,h=new Map;c=r(c);for(var k=c.next();!k.done;k=c.next()){var l=k.value;k=l.stream;h.has(k)||h.set(k,new Map);h.get(k).has(g)||h.get(k).set(g,[]);l.startTime+=f;l.endTime+=f;l.startTime>=b.f&&l.startTime<b.j&&(l=new Td(l.startTime,l.endTime,l.text),h.get(k).get(g).push(l),k==b.s&&b.c.append([l]))}f=r(h.keys());for(g=f.next();!g.done;g=f.next())for(g=g.value,b.l.has(g)||b.l.set(g,new Map),c=r(h.get(g).keys()),k=c.next();!k.done;k=c.next())k=k.value,l=h.get(g).get(k),
b.l.get(g).set(k,l);b.a=null==b.a?Math.max(d,b.f):Math.min(b.a,Math.max(d,b.f));b.b=Math.max(b.b,Math.min(e,b.j))};function re(b,c,d){this.f=b;this.g=d;this.b={};this.a=null;this.c={};this.l=new L;this.B=!1;this.s={};this.v=c;b=this.w=new J;c=new MediaSource;this.l.Ha(c,"sourceopen",b.resolve);this.f.src=se(c);this.j=c}var se=window.URL.createObjectURL;function te(b){var c=Dc(b.mimeType,b.codecs),d=Ec(b);return me(c)||MediaSource.isTypeSupported(d)||Qd(c,b.type)}m=re.prototype;
m.destroy=function(){var b=this;this.B=!0;var c=[],d;for(d in this.c){var e=this.c[d],f=e[0];this.c[d]=e.slice(0,1);f&&c.push(f.p["catch"](Kd.Uc));for(f=1;f<e.length;++f)e[f].p.reject()}this.a&&c.push(this.a.destroy());this.g&&c.push(this.g.destroy());for(var g in this.s)c.push(this.s[g].destroy());return Promise.all(c).then(function(){b.l&&(b.l.release(),b.l=null);b.f&&(b.f.removeAttribute("src"),b.f.load(),b.f=null);b.j=null;b.a=null;b.g=null;b.b={};b.s={};b.v=null;b.c={}})};
m.init=function(b,c){var d=this;return u(function f(){var g;return x(f,function(f){switch(f.o){case 1:return g=Nd,v(f,d.w,2);case 2:b.forEach(function(b,f){var h=Dc(b.mimeType,b.codecs);f==g.Oa?ue(d,h):(!c&&MediaSource.isTypeSupported(h)||!Qd(h,f)||(d.s[f]=new Pd,h=Rd(f,h)),h=d.j.addSourceBuffer(h),d.l.m(h,"error",d.wh.bind(d,f)),d.l.m(h,"updateend",d.bc.bind(d,f)),d.b[f]=h,d.c[f]=[])}),w(f)}})})};function ue(b,c){b.a||(b.a=new ke(b.g));ne(b.a,c)}
function ve(b){return b.j?"ended"==b.j.readyState:!0}function we(b,c){if("text"==c)var d=b.a.a;else d=xe(b,c),d=!d||1==d.length&&1E-6>d.end(0)-d.start(0)?null:1==d.length&&0>d.start(0)?0:d.length?d.start(0):null;return d}function ye(b,c){return"text"==c?b.a.b:Gd(xe(b,c))}function ze(b,c,d){if("text"==c)return b=b.a,null==b.b||b.b<d?0:b.b-Math.max(d,b.a);b=xe(b,c);return Id(b,d)}
m.wd=function(b){b.total=Jd(this.f.buffered);b.audio=Jd(xe(this,"audio"));b.video=Jd(xe(this,"video"));b.text=[];if(this.a){var c=this.a.a,d=this.a.b;null!=c&&null!=d&&b.text.push({start:c,end:d})}};function xe(b,c){try{return b.b[c].buffered}catch(d){return c in b.b&&D.error("failed to get buffered range for "+c,d),null}}
function Ae(b,c,d,e,f,g){if("text"==c)return oe(b.a,d,e,f);if(b.s[c])return Sd(b.s[c],d).then(function(b){this.a||ue(this,"text/vtt");b.captions&&b.captions.length&&qe(this.a,b.captions,e,f,this.b.video.timestampOffset);return Be(this,c,this.wf.bind(this,c,b.data.buffer))}.bind(b));g&&window.muxjs&&(b.a||ue(b,"text/vtt"),null==e&&null==f?b.v.init(d):b.v.b(d,function(c){c.length&&qe(b.a,c,e,f,b.b.video.timestampOffset)}));return Be(b,c,b.wf.bind(b,c,d))}
function Ce(b,c){var d=ye(b,"video")||0;pe(b.a,c,d)}m.remove=function(b,c,d){return"text"==b?this.a.remove(c,d):Be(this,b,this.xf.bind(this,b,c,d))};function De(b,c){if("text"==c){if(!b.a)return Promise.resolve();b.v.c();return b.a.remove(0,Infinity)}return Be(b,c,b.xf.bind(b,c,0,b.j.duration))}m.flush=function(b){return"text"==b?Promise.resolve():Be(this,b,this.Uf.bind(this,b))};
function Ee(b,c,d,e,f){return"text"==c?(b.a.v=d,b=b.a,b.f=e,b.j=f,Promise.resolve()):Promise.all([Be(b,c,b.If.bind(b,c)),Be(b,c,b.vh.bind(b,c,d)),Be(b,c,b.rh.bind(b,c,e,f))])}m.endOfStream=function(b){return Fe(this,function(){ve(this)||(b?this.j.endOfStream(b):this.j.endOfStream())}.bind(this))};m.Ua=function(b){return Fe(this,function(){this.j.duration=b}.bind(this))};m.ra=function(){return this.j.duration};m.wf=function(b,c){this.b[b].appendBuffer(c)};
m.xf=function(b,c,d){d<=c?this.bc(b):this.b[b].remove(c,d)};m.If=function(b){var c=this.b[b].appendWindowStart,d=this.b[b].appendWindowEnd;this.b[b].abort();this.b[b].appendWindowStart=c;this.b[b].appendWindowEnd=d;this.bc(b)};m.Uf=function(b){this.f.currentTime-=.001;this.bc(b)};m.vh=function(b,c){0>c&&(c+=.001);this.b[b].timestampOffset=c;this.bc(b)};m.rh=function(b,c,d){this.b[b].appendWindowStart=0;this.b[b].appendWindowEnd=d;this.b[b].appendWindowStart=c;this.bc(b)};
m.wh=function(b){this.c[b][0].p.reject(new G(2,3,3014,this.f.error?this.f.error.code:0))};m.bc=function(b){var c=this.c[b][0];c&&(c.p.resolve(),Ge(this,b))};function Be(b,c,d){if(b.B)return Promise.reject();d={start:d,p:new J};b.c[c].push(d);if(1==b.c[c].length)try{d.start()}catch(e){"QuotaExceededError"==e.name?d.p.reject(new G(2,3,3017,c)):d.p.reject(new G(2,3,3015,e)),Ge(b,c)}return d.p}
function Fe(b,c){if(b.B)return Promise.reject();var d=[],e;for(e in b.b){var f=new J,g={start:function(b){b.resolve()}.bind(null,f),p:f};b.c[e].push(g);d.push(f);1==b.c[e].length&&g.start()}return Promise.all(d).then(function(){try{c()}catch(l){var b=Promise.reject(new G(2,3,3015,l))}for(var d in this.b)Ge(this,d);return b}.bind(b),function(b){throw b;}.bind(b))}function Ge(b,c){b.c[c].shift();var d=b.c[c][0];if(d)try{d.start()}catch(e){d.p.reject(new G(2,3,3015,e)),Ge(b,c)}};var N={De:function(b,c){function d(b){var c="";b.video&&(c=Gc(b.video.codecs)[0]);var d="";b.audio&&(d=Gc(b.audio.codecs)[0]);return c+"-"+d}var e=b.periods.reduce(function(b,c){return b.concat(c.variants)},[]);e=N.Ie(e,c);var f=new $a;e=r(e);for(var g=e.next();!g.done;g=e.next()){g=g.value;var h=d(g);f.push(h,g)}var k=null,l=Infinity;f.forEach(function(b,c){for(var d=0,e=0,f=r(c),g=f.next();!g.done;g=f.next())d+=g.value.bandwidth||0,++e;d/=e;D.debug("codecs",b,"avg bandwidth",d);d<l&&(k=b,l=d)});
f=r(b.periods);for(e=f.next();!e.done;e=f.next())e=e.value,e.variants=e.variants.filter(function(b){if(d(b)==k)return!0;D.debug("Dropping Variant (better codec available)",b);return!1})},Jd:function(b,c,d){function e(b,c,d){return b>=c&&b<=d}var f=b.video;return f&&f.width&&f.height&&(!e(f.width,c.minWidth,Math.min(c.maxWidth,d.width))||!e(f.height,c.minHeight,Math.min(c.maxHeight,d.height))||!e(f.width*f.height,c.minPixels,c.maxPixels))||b&&b.video&&b.video.frameRate&&!e(b.video.frameRate,c.minFrameRate,
c.maxFrameRate)||!e(b.bandwidth,c.minBandwidth,c.maxBandwidth)?!1:!0},we:function(b,c,d){var e=!1;b.forEach(function(b){var f=b.allowedByApplication;b.allowedByApplication=N.Jd(b,c,d);f!=b.allowedByApplication&&(e=!0)});return e},filterNewPeriod:function(b,c,d,e){e.variants=e.variants.filter(function(e){if(b&&b.O&&!Ad(b,e))return D.debug("Dropping variant - not compatible with key system",e),!1;var f=e.audio;e=e.video;return f&&!te(f)?(D.debug("Dropping variant - audio not compatible with platform",
N.Tb(f)),!1):e&&!te(e)?(D.debug("Dropping variant - video not compatible with platform",N.Tb(e)),!1):f&&c&&!N.xe(f,c)?(D.debug("Droping variant - not compatible with active audio","active audio",N.Tb(c),"variant.audio",N.Tb(f)),!1):e&&d&&!N.xe(e,d)?(D.debug("Droping variant - not compatible with active video","active video",N.Tb(d),"variant.video",N.Tb(e)),!1):!0});e.textStreams=e.textStreams.filter(function(b){var c=me(Dc(b.mimeType,b.codecs));c||D.debug("Dropping text stream. Is not supported by the platform.",
b);return c})},xe:function(b,c){return b.mimeType!=c.mimeType||b.codecs.split(".")[0]!=c.codecs.split(".")[0]?!1:!0},ue:function(b){var c=b.audio,d=b.video,e=c?c.codecs:null,f=d?d.codecs:null,g=[];f&&g.push(f);e&&g.push(e);var h=[];d&&h.push(d.mimeType);c&&h.push(c.mimeType);h=h[0]||null;var k=[];c&&k.push(c.kind);d&&k.push(d.kind);k=k[0]||null;var l=new Set;c&&c.roles.forEach(function(b){return l.add(b)});d&&d.roles.forEach(function(b){return l.add(b)});b={id:b.id,active:!1,type:"variant",bandwidth:b.bandwidth,
language:b.language,label:null,kind:k,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:h,codecs:g.join(", "),audioCodec:e,videoCodec:f,primary:b.primary,roles:Array.from(l),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null};d&&(b.videoId=d.id,b.originalVideoId=d.originalId,b.width=d.width||null,b.height=d.height||null,b.frameRate=d.frameRate||
null,b.pixelAspectRatio=d.pixelAspectRatio||null,b.videoBandwidth=d.bandwidth||null);c&&(b.audioId=c.id,b.originalAudioId=c.originalId,b.channelsCount=c.channelsCount,b.audioSamplingRate=c.audioSamplingRate,b.audioBandwidth=c.bandwidth||null,b.label=c.label,b.audioRoles=c.roles);return b},fd:function(b){return{id:b.id,active:!1,type:"text",bandwidth:0,language:b.language,label:b.label,kind:b.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:b.mimeType,codecs:b.codecs||
null,audioCodec:null,videoCodec:null,primary:b.primary,roles:b.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:b.originalId}},Bd:function(b){b.__shaka_id||(b.__shaka_id=N.Kg++);return b.__shaka_id},Kg:0,Bg:function(b){var c=N.Oe(b);c.active="disabled"!=b.mode;c.type="text";c.originalTextId=b.id;"captions"==b.kind&&(c.mimeType="application/cea-608");b.kind&&(c.roles=
[b.kind]);return c},Ne:function(b){var c=N.Oe(b);c.active=b.enabled;c.type="variant";c.originalAudioId=b.id;"main"==b.kind&&(c.primary=!0);b.kind&&(c.roles=[b.kind],c.audioRoles=[b.kind]);return c},Oe:function(b){return{id:N.Bd(b),active:!1,type:"",bandwidth:0,language:E(b.language),label:b.label,kind:b.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,
audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}},Xb:function(b){return b.allowedByApplication&&b.allowedByKeySystem},qg:function(b){return b.filter(function(b){return N.Xb(b)})},Ie:function(b,c){var d=b.filter(function(b){return b.audio&&b.audio.channelsCount}),e=new Map;d=r(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=f.audio.channelsCount;e.has(g)||e.set(g,[]);e.get(g).push(f)}d=Array.from(e.keys());if(0==
d.length)return b;f=d.filter(function(b){return b<=c});return f.length?e.get(Math.max.apply(null,f)):e.get(Math.min.apply(null,d))},mc:function(b,c,d){var e=b,f=b.filter(function(b){return b.primary});f.length&&(e=f);var g=e.length?e[0].language:"";e=e.filter(function(b){return b.language==g});if(c){var h=ob(E(c),b.map(function(b){return b.language}));h&&(e=b.filter(function(b){return E(b.language)==h}))}if(d){b=N.He(e,d);if(b.length)return b;D.u("No exact match for the text role could be found.")}else if(b=
e.filter(function(b){return 0==b.roles.length}),b.length)return b;b=e.map(function(b){return b.roles}).reduce(Kd.nd,[]);return b.length?N.He(e,b[0]):e},He:function(b,c){return b.filter(function(b){return b.roles.includes(c)})},Me:function(b,c,d){for(var e=0;e<d.length;e++)if(d[e].audio==b&&d[e].video==c)return d[e];return null},Cg:function(b){return"audio"==b.type},Gg:function(b){return"video"==b.type},yg:function(b){var c=[];b.audio&&c.push(b.audio);b.video&&c.push(b.video);return c},Tb:function(b){return N.Cg(b)?
"type=audio codecs="+b.codecs+" bandwidth="+b.bandwidth+" channelsCount="+b.channelsCount+" audioSamplingRate="+b.audioSamplingRate:N.Gg(b)?"type=video codecs="+b.codecs+" bandwidth="+b.bandwidth+" frameRate="+b.frameRate+" width="+b.width+" height="+b.height:"unexpected stream type"}};function He(){this.j=null;this.f=!1;this.b=new wb;this.g=[];this.l=!1;this.a=this.c=null}A("shaka.abr.SimpleAbrManager",He);He.prototype.stop=function(){this.j=null;this.f=!1;this.g=[];this.c=null};He.prototype.stop=He.prototype.stop;He.prototype.init=function(b){this.j=b};He.prototype.init=He.prototype.init;
He.prototype.chooseVariant=function(){var b=Ie(this.a.restrictions,this.g),c=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.g.length&&!b.length&&(D.u("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),b=Ie(null,this.g),b=[b[0]]);for(var d=b[0]||null,e=0;e<b.length;++e){var f=b[e],g=f.bandwidth/this.a.bandwidthDowngradeTarget,h=(b[e+1]||{bandwidth:Infinity}).bandwidth/this.a.bandwidthUpgradeTarget;D.N("Bandwidth ranges:",(f.bandwidth/1E6).toFixed(3),
(g/1E6).toFixed(3),(h/1E6).toFixed(3));c>=g&&c<=h&&(d=f)}this.c=Date.now();return d};He.prototype.chooseVariant=He.prototype.chooseVariant;He.prototype.enable=function(){this.f=!0};He.prototype.enable=He.prototype.enable;He.prototype.disable=function(){this.f=!1};He.prototype.disable=He.prototype.disable;
He.prototype.segmentDownloaded=function(b,c){D.N("Segment downloaded:","deltaTimeMs="+b,"numBytes="+c,"lastTimeChosenMs="+this.c,"enabled="+this.f);var d=this.b;if(!(16E3>c)){var e=8E3*c/b,f=b/1E3;d.a+=c;ub(d.b,f,e);ub(d.c,f,e)}if(null!=this.c&&this.f)a:{D.N("Suggesting Streams...");if(!this.l){if(!(128E3<=this.b.a)){D.N("Still waiting for a good estimate...");break a}this.l=!0}else if(Date.now()-this.c<1E3*this.a.switchInterval){D.N("Still within switch interval...");break a}d=this.chooseVariant();
e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);D.debug("Calling switch_(), bandwidth="+Math.round(e/1E3)+" kbps");this.j(d)}};He.prototype.segmentDownloaded=He.prototype.segmentDownloaded;He.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)};He.prototype.getBandwidthEstimate=He.prototype.getBandwidthEstimate;He.prototype.setVariants=function(b){this.g=b};He.prototype.setVariants=He.prototype.setVariants;
He.prototype.configure=function(b){this.a=b};He.prototype.configure=He.prototype.configure;function Ie(b,c){b&&(c=c.filter(function(c){return N.Jd(c,b,{width:Infinity,height:Infinity})}));return c.sort(function(b,c){return b.bandwidth-c.bandwidth})};function Je(b,c){this.a=b;this.b=c}Je.prototype.toString=function(){return"v"+this.a+"."+this.b};function Ke(b,c){var d=new Je(2,6),e=Le,f=e.a,g=d.b-f.b;(0<(d.a-f.a||g)?e.c:e.b)(e.a,d,b,c)}function Me(b,c,d,e){D.ba([d,"has been deprecated and will be removed in",c,". We are currently at version",b,". Additional information:",e].join(" "))}function Ne(b,c,d,e){D.Hc([d,"has been deprecated and has been removed in",c,". We are now at version",b,". Additional information:",e].join(""))}var Le=null;var Oe="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Pe="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Qe=["loop","playbackRate"],Re=["pause","play"],Se="abrstatuschanged adaptation buffering drmsessionupdate emsg error expirationupdated largegap loading manifestparsed onstatechange onstateidle streaming textchanged texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged".split(" "),
Te={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},Ue={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Ve=[["getConfiguration","configure"]],We=[["isTextTrackVisible","setTextTrackVisibility"]],
Xe="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),Ye=["attach","detach","load","unload"];
function Ze(b){return JSON.stringify(b,function(b,d){if("function"!=typeof d){if(d instanceof Event||d instanceof B){var c={};for(g in d){var f=d[g];f&&"object"==typeof f?"detail"==g&&(c[g]=f):g in Event||(c[g]=f)}return c}if(d instanceof Error){var g=new Set(["name","message","stack"]);for(c in d)g.add(c);f=r(Object.getOwnPropertyNames(d));for(c=f.next();!c.done;c=f.next())g.add(c.value);f={};g=r(g);for(c=g.next();!c.done;c=g.next())c=c.value,f[c]=d[c];g={__type__:"Error",contents:f}}else if(d instanceof
TimeRanges)for(g={__type__:"TimeRanges",length:d.length,start:[],end:[]},c=0;c<d.length;++c)g.start.push(d.start(c)),g.end.push(d.end(c));else g=d instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(d)}:"number"==typeof d?isNaN(d)?"NaN":isFinite(d)?d:0>d?"-Infinity":"Infinity":d;return g}})}
function $e(b){return JSON.parse(b,function(b,d){if("NaN"==d)var c=NaN;else if("-Infinity"==d)c=-Infinity;else if("Infinity"==d)c=Infinity;else if(d&&"object"==typeof d&&"TimeRanges"==d.__type__)c=af(d);else if(d&&"object"==typeof d&&"Uint8Array"==d.__type__)c=new Uint8Array(d.entries);else if(d&&"object"==typeof d&&"Error"==d.__type__){c=d.contents;var f=Error(c.message),g;for(g in c)f[g]=c[g];c=f}else c=d;return c})}
function af(b){return{length:b.length,start:function(c){return b.start[c]},end:function(c){return b.end[c]}}};function bf(b,c,d,e,f,g){this.L=b;this.f=new F(c);this.O=d;this.s=!1;this.B=e;this.K=f;this.H=g;this.b=this.j=!1;this.J="";this.l=null;this.v=this.Rd.bind(this);this.w=this.Rg.bind(this);this.a={video:{},player:{}};this.G=0;this.c={};this.g=null;cf.add(this)}var df=!1,ef=null;m=bf.prototype;m.destroy=function(){cf["delete"](this);ff(this);ef&&gf(this);this.f&&(this.f.stop(),this.f=null);this.K=this.B=null;this.b=this.j=!1;this.w=this.v=this.g=this.c=this.a=this.l=null;return Promise.resolve()};
m.ha=function(){return this.b};m.bd=function(){return this.J};
m.init=function(){if(window.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.L.length){this.j=!0;this.f.gb();var b=new chrome.cast.SessionRequest(this.L);b=new chrome.cast.ApiConfig(b,hf.bind(this),jf.bind(this),"origin_scoped");chrome.cast.initialize(b,function(){D.debug("CastSender: init")},function(b){D.error("CastSender: init error",b)});df&&this.f.R(.02);(b=ef)&&b.status!=chrome.cast.SessionStatus.STOPPED?(D.debug("CastSender: re-using existing connection"),kf(this,b)):ef=null}};
m.be=function(b){this.l=b;this.b&&lf(this,{type:"appData",appData:this.l})};m.cast=function(b){if(!this.j)return Promise.reject(new G(1,8,8E3));if(!df)return Promise.reject(new G(1,8,8001));if(this.b)return Promise.reject(new G(1,8,8002));this.g=new J;chrome.cast.requestSession(this.Td.bind(this,b),this.Ze.bind(this));return this.g};m.Qb=function(){if(this.b){ff(this);if(ef){gf(this);try{ef.stop(function(){},function(){})}catch(b){}ef=null}this.Rd()}};
m.get=function(b,c){if("video"==b){if(Re.includes(c))return this.mf.bind(this,b,c)}else if("player"==b){if(Ue[c]&&!this.get("player","isLive")())return function(){};if(Xe.includes(c))return this.mf.bind(this,b,c);if(Ye.includes(c))return this.ih.bind(this,b,c);if(Te[c])return this.gf.bind(this,b,c)}return this.gf(b,c)};m.set=function(b,c,d){this.a[b][c]=d;lf(this,{type:"set",targetName:b,property:c,value:d})};
m.Td=function(b,c){D.debug("CastSender: onSessionInitiated");ef=c;c.addUpdateListener(this.v);c.addMessageListener("urn:x-cast:com.google.shaka.v2",this.w);this.Rd();lf(this,{type:"init",initState:b,appData:this.l});this.g.resolve()};m.Ze=function(b){var c=8003;switch(b.code){case "cancel":c=8004;break;case "timeout":c=8005;break;case "receiver_unavailable":c=8006}this.g.reject(new G(2,8,c,b))};m.gf=function(b,c){return this.a[b][c]};
m.mf=function(b,c,d){for(var e=[],f=2;f<arguments.length;++f)e[f-2]=arguments[f];lf(this,{type:"call",targetName:b,methodName:c,args:e})};m.ih=function(b,c,d){for(var e=[],f=2;f<arguments.length;++f)e[f-2]=arguments[f];f=new J;var g=this.G.toString();this.G++;this.c[g]=f;try{lf(this,{type:"asyncCall",targetName:b,methodName:c,args:e,id:g})}catch(h){f.reject(h)}return f};function hf(b){for(var c=r(cf),d=c.next();!d.done;d=c.next())kf(d.value,b)}
function kf(b,c){D.debug("CastSender: onExistingSessionJoined");var d=b.H();b.g=new J;b.s=!0;b.Td(d,c)}function jf(b){for(var c=r(cf),d=c.next();!d.done;d=c.next()){d=d.value;var e=b;D.debug("CastSender: receiver status",e);df="available"==e;d.f.gb()}}function gf(b){var c=ef;c.removeUpdateListener(b.v);c.removeMessageListener("urn:x-cast:com.google.shaka.v2",b.w)}
m.Rd=function(){var b=ef?"connected"==ef.status:!1;D.debug("CastSender: connection status",b);if(this.b&&!b){this.K();for(var c in this.a)this.a[c]={};ff(this)}this.J=(this.b=b)?ef.receiver.friendlyName:"";this.f.gb()};function ff(b){for(var c in b.c){var d=b.c[c];delete b.c[c];d.reject(new G(1,7,7E3))}}
m.Rg=function(b,c){var d=$e(c);D.N("CastSender: message",d);switch(d.type){case "event":var e=d.event;this.B(d.targetName,new B(e.type,e));break;case "update":e=d.update;for(var f in e){d=this.a[f]||{};for(var g in e[f])d[g]=e[f][g]}this.s&&(this.O(),this.s=!1);break;case "asyncComplete":if(f=d.id,d=d.error,g=this.c[f],delete this.c[f],g)if(d){f=new G(d.severity,d.category,d.code);for(e in d)f[e]=d[e];g.reject(f)}else g.resolve()}};
function lf(b,c){var d=Ze(c),e=ef;try{e.sendMessage("urn:x-cast:com.google.shaka.v2",d,function(){},D.error)}catch(f){throw D.error("Cast session sendMessage threw",f),d=new G(2,8,8005,f),b.B("player",new B("error",{detail:d})),b.Qb(),d;}}var cf=new Set;window.__onGCastApiAvailable=function(b){if(b){b=r(cf);for(var c=b.next();!c.done;c=b.next())c.value.init()}};function O(b,c,d){var e=this;ab.call(this);this.c=b;this.b=c;this.l=this.g=this.f=this.s=this.j=null;this.w=d;this.v=new Map;this.a=new bf(d,function(){return mf(e)},function(){return nf(e)},function(b,c){return of(e,b,c)},function(){return pf(e)},function(){return qf(e)});rf(this)}Za(O,ab);A("shaka.cast.CastProxy",O);
O.prototype.destroy=function(b){b&&this.a.Qb();this.l&&(this.l.release(),this.l=null);b=[];this.b&&(b.push(this.b.destroy()),this.b=null);this.a&&(b.push(this.a.destroy()),this.a=null);this.s=this.j=this.c=null;return Promise.all(b)};O.prototype.destroy=O.prototype.destroy;O.prototype.sc=function(){return this.j};O.prototype.getVideo=O.prototype.sc;O.prototype.$a=function(){return this.s};O.prototype.getPlayer=O.prototype.$a;O.prototype.ye=function(){return this.a.j&&df};O.prototype.canCast=O.prototype.ye;
O.prototype.ha=function(){return this.a.ha()};O.prototype.isCasting=O.prototype.ha;O.prototype.bd=function(){return this.a.bd()};O.prototype.receiverName=O.prototype.bd;O.prototype.cast=function(){var b=qf(this);return this.a.cast(b).then(function(){if(this.b)return this.b.re()}.bind(this))};O.prototype.cast=O.prototype.cast;O.prototype.be=function(b){this.a.be(b)};O.prototype.setAppData=O.prototype.be;
O.prototype.yf=function(){var b=this.a;if(b.b){var c=b.H();chrome.cast.requestSession(b.Td.bind(b,c),b.Ze.bind(b))}};O.prototype.suggestDisconnect=O.prototype.yf;
O.prototype.Ce=function(b){var c=this;return u(function e(){return x(e,function(e){switch(e.o){case 1:if(b==c.w)return e["return"]();c.w=b;c.a.Qb();return v(e,c.a.destroy(),2);case 2:c.a=null,c.a=new bf(b,function(){return mf(c)},function(){return nf(c)},function(b,e){return of(c,b,e)},function(){return pf(c)},function(){return qf(c)}),c.a.init(),w(e)}})})};O.prototype.changeReceiverId=O.prototype.Ce;O.prototype.Qb=function(){this.a.Qb()};O.prototype.forceDisconnect=O.prototype.Qb;
function rf(b){b.a.init();b.l=new L;Oe.forEach(function(b){this.l.m(this.c,b,this.H.bind(this))}.bind(b));Se.forEach(function(b){this.l.m(this.b,b,this.B.bind(this))}.bind(b));b.j={};for(var c in b.c)Object.defineProperty(b.j,c,{configurable:!1,enumerable:!0,get:b.G.bind(b,c),set:b.J.bind(b,c)});b.s={};sf(b,function(c){Object.defineProperty(b.s,c,{configurable:!1,enumerable:!0,get:function(){return tf(b,c)}})});uf(b);b.f=new ab;b.f.Ec=b.j;b.g=new ab;b.g.Ec=b.s}
function uf(b){var c=new Map;sf(b,function(d,e){if(c.has(e)){var f=c.get(e);d.length<f.length?b.v.set(d,f):b.v.set(f,d)}else c.set(e,d)})}
function sf(b,c){function d(b){return"constructor"==b||"function"!=typeof e[b]?!1:!f.has(b)}var e=b.b,f=new Set;for(g in e)d(g)&&(f.add(g),c(g,e[g]));var g=Object.getPrototypeOf(e);for(var h=Object.getPrototypeOf({});g&&g!=h;){for(var k=r(Object.getOwnPropertyNames(g)),l=k.next();!l.done;l=k.next())l=l.value,d(l)&&(f.add(l),c(l,e[l]));g=Object.getPrototypeOf(g)}}
function qf(b){var c={video:{},player:{},playerAfterLoad:{},manifest:b.b.Oc(),startTime:null};b.c.pause();Qe.forEach(function(b){c.video[b]=this.c[b]}.bind(b));b.c.ended||(c.startTime=b.c.currentTime);Ve.forEach(function(b){var d=b[1];b=this.b[b[0]]();c.player[d]=b}.bind(b));We.forEach(function(b){var d=b[1];b=this.b[b[0]]();c.playerAfterLoad[d]=b}.bind(b));return c}function mf(b){b.dispatchEvent(new B("caststatuschanged"))}function nf(b){b.f.dispatchEvent(new B(b.j.paused?"pause":"play"))}
function pf(b){Ve.forEach(function(b){var c=b[1];b=this.a.get("player",b[0])();this.b[c](b)}.bind(b));var c=b.a.get("player","getAssetUri")(),d=b.a.get("video","ended"),e=Promise.resolve(),f=b.c.autoplay,g=null;d||(g=b.a.get("video","currentTime"));c&&(b.c.autoplay=!1,e=b.b.load(c,g));var h={};Qe.forEach(function(b){h[b]=this.a.get("video",b)}.bind(b));e.then(function(){b.c&&(Qe.forEach(function(b){this.c[b]=h[b]}.bind(b)),We.forEach(function(b){var c=b[1];b=this.a.get("player",b[0])();this.b[c](b)}.bind(b)),
b.c.autoplay=f,c&&b.c.play())},function(c){b.b.dispatchEvent(new B("error",{detail:c}))})}O.prototype.G=function(b){if("addEventListener"==b)return this.f.addEventListener.bind(this.f);if("removeEventListener"==b)return this.f.removeEventListener.bind(this.f);if(this.a.ha()&&0==Object.keys(this.a.a.video).length){var c=this.c[b];if("function"!=typeof c)return c}return this.a.ha()?this.a.get("video",b):(b=this.c[b],"function"==typeof b&&(b=b.bind(this.c)),b)};
O.prototype.J=function(b,c){this.a.ha()?this.a.set("video",b,c):this.c[b]=c};O.prototype.H=function(b){this.a.ha()||this.f.dispatchEvent(new B(b.type,b))};
function tf(b,c){b.v.has(c)&&(c=b.v.get(c));if("addEventListener"==c)return b.g.addEventListener.bind(b.g);if("removeEventListener"==c)return b.g.removeEventListener.bind(b.g);if("getMediaElement"==c)return function(){return this.j}.bind(b);if("getSharedConfiguration"==c)return D.u("Can't share configuration across a network. Returning copy."),b.a.get("player","getConfiguration");if("getNetworkingEngine"==c)return b.a.ha()&&D.u("NOTE: getNetworkingEngine() is always local!"),b.b.pc.bind(b.b);if(b.a.ha()){if("getManifest"==
c||"drmInfo"==c)return function(){D.ba(c+"() does not work while casting!");return null};if("getManifestUri"==c)return Ke("getManifestUri",'Please use "getAssetUri" instead.'),tf(b,"getAssetUri");if("attach"==c||"detach"==c)return function(){D.ba(c+"() does not work while casting!");return Promise.resolve()}}return b.a.ha()&&0==Object.keys(b.a.a.video).length&&Te[c]||!b.a.ha()?b.b[c].bind(b.b):b.a.get("player",c)}O.prototype.B=function(b){this.a.ha()||this.g.dispatchEvent(b)};
function of(b,c,d){b.a.ha()&&("video"==c?b.f.dispatchEvent(d):"player"==c&&b.g.dispatchEvent(d))};function vf(b,c,d,e){var f=this;ab.call(this);this.a=b;this.b=c;this.c=new L;this.H={video:b,player:c};this.w=d||function(){};this.J=e||function(b){return b};this.B=!1;this.j=!0;this.g=0;this.v=!1;this.s=!0;this.l=this.f=null;this.G=new F(function(){wf(f)});xf(this)}Za(vf,ab);A("shaka.cast.CastReceiver",vf);vf.prototype.isConnected=function(){return this.B};vf.prototype.isConnected=vf.prototype.isConnected;vf.prototype.Eg=function(){return this.j};vf.prototype.isIdle=vf.prototype.Eg;
vf.prototype.destroy=function(){var b=this;return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:return b.c&&(b.c.release(),b.c=null),e=[],b.b&&(e.push(b.b.destroy()),b.b=null),b.G&&(b.G.stop(),b.G=null),b.a=null,b.H=null,b.w=null,b.B=!1,b.j=!0,b.f=null,b.l=null,v(d,Promise.all(e),2);case 2:f=cast.receiver.CastReceiverManager.getInstance(),f.stop(),w(d)}})})};vf.prototype.destroy=vf.prototype.destroy;
function xf(b){var c=cast.receiver.CastReceiverManager.getInstance();c.onSenderConnected=b.bf.bind(b);c.onSenderDisconnected=b.bf.bind(b);c.onSystemVolumeChanged=b.Tf.bind(b);b.l=c.getCastMessageBus("urn:x-cast:com.google.cast.media");b.l.onMessage=b.Mg.bind(b);b.f=c.getCastMessageBus("urn:x-cast:com.google.shaka.v2");b.f.onMessage=b.Wg.bind(b);c.start();Oe.forEach(function(b){this.c.m(this.a,b,this.hf.bind(this,"video"))}.bind(b));Se.forEach(function(b){this.c.m(this.b,b,this.hf.bind(this,"player"))}.bind(b));
cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?b.b.ee(3840,2160):b.b.ee(1920,1080);b.c.m(b.a,"loadeddata",function(){this.v=!0}.bind(b));b.c.m(b.b,"loading",function(){this.j=!1;yf(this)}.bind(b));b.c.m(b.a,"playing",function(){this.j=!1;yf(this)}.bind(b));b.c.m(b.a,"pause",function(){yf(this)}.bind(b));b.c.m(b.b,"unloading",function(){this.j=!0;yf(this)}.bind(b));b.c.m(b.a,"ended",function(){var b=this;(new F(function(){b.a&&b.a.ended&&
(b.j=!0,yf(b))})).R(5)}.bind(b))}m=vf.prototype;m.bf=function(){this.g=0;this.s=!0;this.B=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length;yf(this)};function yf(b){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new B("caststatuschanged")),zf(this)||Af(this))}.bind(b))}
function Bf(b,c,d){for(var e in c.player)b.b[e](c.player[e]);b.w(d);d=Promise.resolve();var f=b.a.autoplay;c.manifest&&(b.a.autoplay=!1,d=b.b.load(c.manifest,c.startTime));d.then(function(){if(b.b){for(var d in c.video)b.a[d]=c.video[d];for(var e in c.playerAfterLoad)b.b[e](c.playerAfterLoad[e]);b.a.autoplay=f;c.manifest&&(b.a.play(),Af(b))}},function(c){b.b.dispatchEvent(new B("error",{detail:c}))})}m.hf=function(b,c){this.b&&(wf(this),Cf(this,{type:"event",targetName:b,event:c},this.f))};
function wf(b){b.G.R(.5);var c={video:{},player:{}};Pe.forEach(function(b){c.video[b]=this.a[b]}.bind(b));if(b.b.W())for(var d in Ue)0==b.g%Ue[d]&&(c.player[d]=b.b[d]());for(var e in Te)0==b.g%Te[e]&&(c.player[e]=b.b[e]());if(d=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())c.video.volume=d.level,c.video.muted=d.muted;b.v&&(b.g+=1);Cf(b,{type:"update",update:c},b.f);zf(b)}function zf(b){return b.s&&(b.a.duration||b.b.W())?(Df(b),b.s=!1,!0):!1}
function Df(b,c){c=void 0===c?0:c;var d={contentId:b.b.Oc(),streamType:b.b.W()?"LIVE":"BUFFERED",contentType:""};b.b.W()||(d.duration=b.a.duration);Af(b,c,d)}m.Tf=function(){var b=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();b&&Cf(this,{type:"update",update:{video:{volume:b.level,muted:b.muted}}},this.f);Cf(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)};
m.Wg=function(b){var c=$e(b.data);D.debug("CastReceiver: message",c);switch(c.type){case "init":this.g=0;this.v=!1;this.s=!0;Bf(this,c.initState,c.appData);wf(this);break;case "appData":this.w(c.appData);break;case "set":var d=c.targetName,e=c.property;c=c.value;if("video"==d){var f=cast.receiver.CastReceiverManager.getInstance();if("volume"==e){f.setSystemVolumeLevel(c);break}else if("muted"==e){f.setSystemVolumeMuted(c);break}}this.H[d][e]=c;break;case "call":d=this.H[c.targetName];d[c.methodName].apply(d,
c.args);break;case "asyncCall":d=c.targetName;e=c.methodName;"player"==d&&"load"==e&&(this.g=0,this.v=!1);f=c.id;b=b.senderId;var g=this.H[d];c=g[e].apply(g,c.args);"player"==d&&"load"==e&&(c=c.then(function(){this.s=!0}.bind(this)));c.then(this.rf.bind(this,b,f,null),this.rf.bind(this,b,f))}};
m.Mg=function(b){var c=$e(b.data);D.debug("CastReceiver: message",c);switch(c.type){case "PLAY":this.a.play();Af(this);break;case "PAUSE":this.a.pause();Af(this);break;case "SEEK":b=c.currentTime;var d=c.resumeState;null!=b&&(this.a.currentTime=Number(b));d&&"PLAYBACK_START"==d?(this.a.play(),Af(this)):d&&"PLAYBACK_PAUSE"==d&&(this.a.pause(),Af(this));break;case "STOP":this.b.re().then(function(){this.b&&Af(this)}.bind(this));break;case "GET_STATUS":Df(this,Number(c.requestId));break;case "VOLUME":d=
c.volume;b=d.level;d=d.muted;var e=this.a.volume,f=this.a.muted;null!=b&&(this.a.volume=Number(b));null!=d&&(this.a.muted=d);e==this.a.volume&&f==this.a.muted||Af(this);break;case "LOAD":this.g=0;this.s=this.v=!1;b=c.media;d=c.currentTime;e=this.J(b.contentId);f=c.autoplay||!0;this.w(b.customData);f&&(this.a.autoplay=!0);this.b.load(e,d).then(function(){this.b&&Df(this)}.bind(this))["catch"](function(b){var d="LOAD_FAILED";7==b.category&&7E3==b.code&&(d="LOAD_CANCELLED");Cf(this,{requestId:Number(c.requestId),
type:d},this.l)}.bind(this));break;default:D.u("Unrecognized message type from the generic Chromecast controller!",c.type),Cf(this,{requestId:Number(c.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.l)}};m.rf=function(b,c,d){this.b&&Cf(this,{type:"asyncComplete",id:c,error:d},this.f,b)};function Cf(b,c,d,e){b.B&&(b=Ze(c),e?d.getCastChannel(e).send(b):d.broadcast(b))}
function Af(b,c,d){c=void 0===c?0:c;d=void 0===d?null:d;var e=b.a.playbackRate;var f=Ef;f=b.j?f.IDLE:b.b.Wb()?f.Cf:b.a.paused?f.Ef:f.Ff;e={mediaSessionId:0,playbackRate:e,playerState:f,currentTime:b.a.currentTime,supportedMediaCommands:63,volume:{level:b.a.volume,muted:b.a.muted}};d&&(e.media=d);Cf(b,{requestId:c,type:"MEDIA_STATUS",status:[e]},b.l)}var Ef={IDLE:"IDLE",Ff:"PLAYING",Cf:"BUFFERING",Ef:"PAUSED"};function P(b,c){this.T=b;this.b=c==Ff;this.a=0}A("shaka.util.DataViewReader",P);var Ff=1;P.Endianness={Lh:0,Nh:Ff};P.prototype.Ra=function(){return this.a<this.T.byteLength};P.prototype.hasMoreData=P.prototype.Ra;P.prototype.va=function(){return this.a};P.prototype.getPosition=P.prototype.va;P.prototype.eg=function(){return this.T.byteLength};P.prototype.getLength=P.prototype.eg;P.prototype.Ea=function(){try{var b=this.T.getUint8(this.a);this.a+=1;return b}catch(c){Gf()}};P.prototype.readUint8=P.prototype.Ea;
P.prototype.xc=function(){try{var b=this.T.getUint16(this.a,this.b);this.a+=2;return b}catch(c){Gf()}};P.prototype.readUint16=P.prototype.xc;P.prototype.M=function(){try{var b=this.T.getUint32(this.a,this.b);this.a+=4;return b}catch(c){Gf()}};P.prototype.readUint32=P.prototype.M;P.prototype.lf=function(){try{var b=this.T.getInt32(this.a,this.b);this.a+=4;return b}catch(c){Gf()}};P.prototype.readInt32=P.prototype.lf;
P.prototype.fc=function(){try{if(this.b){var b=this.T.getUint32(this.a,!0);var c=this.T.getUint32(this.a+4,!0)}else c=this.T.getUint32(this.a,!1),b=this.T.getUint32(this.a+4,!1)}catch(d){Gf()}if(2097151<c)throw new G(2,3,3001);this.a+=8;return c*Math.pow(2,32)+b};P.prototype.readUint64=P.prototype.fc;P.prototype.Gb=function(b){this.a+b>this.T.byteLength&&Gf();var c=new Uint8Array(this.T.buffer,this.T.byteOffset+this.a,b);this.a+=b;return c};P.prototype.readBytes=P.prototype.Gb;
P.prototype.V=function(b){this.a+b>this.T.byteLength&&Gf();this.a+=b};P.prototype.skip=P.prototype.V;P.prototype.nf=function(b){this.a<b&&Gf();this.a-=b};P.prototype.rewind=P.prototype.nf;P.prototype.seek=function(b){(0>b||b>this.T.byteLength)&&Gf();this.a=b};P.prototype.seek=P.prototype.seek;P.prototype.Vd=function(){for(var b=this.a;this.Ra()&&0!=this.T.getUint8(this.a);)this.a+=1;b=new Uint8Array(this.T.buffer,this.T.byteOffset+b,this.a-b);this.a+=1;return Qc(b)};
P.prototype.readTerminatedString=P.prototype.Vd;function Gf(){throw new G(2,3,3E3);};function Q(){this.c=[];this.b=[];this.a=!1}A("shaka.util.Mp4Parser",Q);Q.prototype.P=function(b,c){var d=Hf(b);this.c[d]=0;this.b[d]=c;return this};Q.prototype.box=Q.prototype.P;Q.prototype.za=function(b,c){var d=Hf(b);this.c[d]=1;this.b[d]=c;return this};Q.prototype.fullBox=Q.prototype.za;Q.prototype.stop=function(){this.a=!0};Q.prototype.stop=Q.prototype.stop;
Q.prototype.parse=function(b,c){var d=new Uint8Array(b);d=new P(new DataView(d.buffer,d.byteOffset,d.byteLength),0);for(this.a=!1;d.Ra()&&!this.a;)this.Yc(0,d,c)};Q.prototype.parse=Q.prototype.parse;
Q.prototype.Yc=function(b,c,d){var e=c.va(),f=c.M(),g=c.M();D.N("Parsing MP4 box",If(g));switch(f){case 0:f=c.T.byteLength-e;break;case 1:f=c.fc()}var h=this.b[g];if(h){var k=null,l=null;1==this.c[g]&&(l=c.M(),k=l>>>24,l&=16777215);g=e+f;d&&g>c.T.byteLength&&(g=c.T.byteLength);g-=c.va();c=0<g?c.Gb(g):new Uint8Array(0);c=new P(new DataView(c.buffer,c.byteOffset,c.byteLength),0);h({parser:this,partialOkay:d||!1,version:k,flags:l,reader:c,size:f,start:e+b})}else c.V(Math.min(e+f-c.va(),c.T.byteLength-
c.va()))};Q.prototype.parseNext=Q.prototype.Yc;function Jf(b){for(var c=null!=b.flags?12:8;b.reader.Ra()&&!b.parser.a;)b.parser.Yc(b.start+c,b.reader,b.partialOkay)}Q.children=Jf;function Kf(b){for(var c=null!=b.flags?12:8,d=b.reader.M();0<d&&!b.parser.a;--d)b.parser.Yc(b.start+c,b.reader,b.partialOkay)}Q.sampleDescription=Kf;function Lf(b){return function(c){b(c.reader.Gb(c.reader.T.byteLength-c.reader.va()))}}Q.allData=Lf;
function Hf(b){for(var c=0,d=0;d<b.length;d++)c=c<<8|b.charCodeAt(d);return c}function If(b){return String.fromCharCode(b>>24&255,b>>16&255,b>>8&255,b&255)}Q.typeToString=If;function Mf(b){var c=this;this.a=[];this.b=[];this.data=[];(new Q).P("moov",Jf).za("pssh",function(b){if(1<b.version)D.u("Unrecognized PSSH version found!");else{var d=b.reader.T;d=new Uint8Array(d.buffer,d.byteOffset-12,b.size);c.data.push(d);c.a.push(M.hd(b.reader.Gb(16)));if(0<b.version){d=b.reader.M();for(var f=0;f<d;++f){var g=M.hd(b.reader.Gb(16));c.b.push(g)}}}}).parse(b);0==this.data.length&&D.u("No pssh box found!")}
function Nf(b){if(!b)return b;var c=new Mf(b);if(1>=c.data.length)return b;b=[];var d={};c=r(c.data);for(var e=c.next();!e.done;d={Sc:d.Sc},e=c.next())d.Sc=e.value,b.some(function(b){return function(c){return M.Xa(c,b.Sc)}}(d))||b.push(d.Sc);return M.concat.apply(M,Na(b))};var R={Nc:function(b,c){var d=R.$(b,c);return 1!=d.length?null:d[0]},td:function(b,c,d){b=R.Je(b,c,d);return 1!=b.length?null:b[0]},$:function(b,c){return Array.prototype.filter.call(b.childNodes,function(b){return b instanceof Element&&b.tagName==c})},Je:function(b,c,d){return Array.prototype.filter.call(b.childNodes,function(b){return b instanceof Element&&b.localName==d&&b.namespaceURI==c})},getAttributeNS:function(b,c,d){return b.hasAttributeNS(c,d)?b.getAttributeNS(c,d):null},Pc:function(b){return Array.prototype.every.call(b.childNodes,
function(b){return b.nodeType==Node.TEXT_NODE||b.nodeType==Node.CDATA_SECTION_NODE})?b.textContent.trim():null},S:function(b,c,d,e){e=void 0===e?null:e;var f=null;b=b.getAttribute(c);null!=b&&(f=d(b));return null==f?e:f},$g:function(b){if(!b)return null;/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(b)&&(b+="Z");b=Date.parse(b);return isNaN(b)?null:Math.floor(b/1E3)},eb:function(b){if(!b)return null;var c=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(b);
if(!c)return D.u("Invalid duration string:",b),null;b=31536E3*Number(c[1]||null)+2592E3*Number(c[2]||null)+86400*Number(c[3]||null)+3600*Number(c[4]||null)+60*Number(c[5]||null)+Number(c[6]||null);return isFinite(b)?b:null},$c:function(b){var c=/([0-9]+)-([0-9]+)/.exec(b);if(!c)return null;b=Number(c[1]);if(!isFinite(b))return null;c=Number(c[2]);return isFinite(c)?{start:b,end:c}:null},parseInt:function(b){b=Number(b);return 0===b%1?b:null},Zc:function(b){b=Number(b);return 0===b%1&&0<b?b:null},
cc:function(b){b=Number(b);return 0===b%1&&0<=b?b:null},parseFloat:function(b){b=Number(b);return isNaN(b)?null:b},Rf:function(b){var c;b=(c=b.match(/^(\d+)\/(\d+)$/))?Number(c[1])/Number(c[2]):Number(b);return isNaN(b)?null:b},ef:function(b,c){var d=new DOMParser;try{var e=d.parseFromString(b,"text/xml")}catch(g){}if(e&&e.documentElement.tagName==c)var f=e.documentElement;return f&&0<f.getElementsByTagName("parsererror").length?null:f},df:function(b,c){try{var d=Qc(b);return R.ef(d,c)}catch(e){}}};var Of=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");
function Pf(b,c,d){var e=Qf(b),f=null;b=[];var g=[],h=new Set(e.map(function(b){return b.keyId}));h["delete"](null);if(1<h.size)throw new G(2,4,4010);d||(g=e.filter(function(b){return"urn:mpeg:dash:mp4protection:2011"==b.pf?(f=b.init||f,!1):!0}),g.length&&(b=Rf(f,c,g),0==b.length&&(b=[Md("",f)])));if(e.length&&(d||!g.length))for(b=[],c=r(Of.values()),d=c.next();!d.done;d=c.next())d=d.value,"org.w3.clearkey"!=d&&b.push(Md(d,f));if(h=Array.from(h)[0]||null)for(c=r(b),d=c.next();!d.done;d=c.next())for(d=
r(d.value.initData),e=d.next();!e.done;e=d.next())e.value.keyId=h;return{Fe:h,Oh:f,drmInfos:b,Ke:!0}}function Sf(b,c,d,e){var f=Pf(b,c,e);if(d.Ke){b=1==d.drmInfos.length&&!d.drmInfos[0].keySystem;c=0==f.drmInfos.length;if(0==d.drmInfos.length||b&&!c)d.drmInfos=f.drmInfos;d.Ke=!1}else if(0<f.drmInfos.length&&(d.drmInfos=d.drmInfos.filter(function(b){return f.drmInfos.some(function(c){return c.keySystem==b.keySystem})}),0==d.drmInfos.length))throw new G(2,4,4008);return f.Fe||d.Fe}
function Tf(b){var c=0,d=(new DataView(b)).getUint32(c,!0);c+=4;if(d!==b.byteLength)return D.u("PlayReady Object with invalid length encountered."),[];c+=2;d=[];for(var e=new DataView(b);c<b.byteLength-1;){var f=e.getUint16(c,!0);c+=2;var g=e.getUint16(c,!0);c+=2;var h=new Uint8Array(b,c,g);d.push({type:f,value:h});c+=g}return d}
function Uf(b){b=r(b.getElementsByTagName("DATA"));for(var c=b.next();!c.done;c=b.next()){c=r(c.value.childNodes);for(var d=c.next();!d.done;d=c.next())if(d=d.value,d instanceof Element&&"LA_URL"==d.tagName)return d.textContent}return""}
function Rf(b,c,d){var e=[];d=r(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=Of.get(f.pf);if(g){var h;if(h=R.td(f.node,"urn:microsoft:playready","pro")){h=M.Za(h.textContent);var k=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=h.length,n=k.length+16+l,p=new ArrayBuffer(n),q=new Uint8Array(p);p=new DataView(p);var t=0;p.setUint32(t,n);t+=4;p.setUint32(t,1886614376);t+=4;p.setUint32(t,0);t+=4;q.set(k,t);t+=k.length;p.setUint32(t,l);t+=4;q.set(h,t);h=[{initData:q,
initDataType:"cenc",keyId:f.keyId}]}else h=null;h=Md(g,f.init||b||h);if(g=Vf.get(g))h.licenseServerUri=g(f);e.push(h)}else for(f=c(f.node)||[],f=r(f),g=f.next();!g.done;g=f.next())e.push(g.value)}return e}
var Vf=(new Map).set("com.widevine.alpha",function(b){return(b=R.td(b.node,"urn:microsoft","laurl"))?b.getAttribute("licenseUrl")||"":""}).set("com.microsoft.playready",function(b){b=R.td(b.node,"urn:microsoft:playready","pro");if(!b)return"";b=M.Za(b.textContent);b=Tf(b.buffer).filter(function(b){return 1===b.type})[0];if(!b)return"";b=Sc(b.value,!0);return(b=R.ef(b,"WRMHEADER"))?Uf(b):""});function Qf(b){var c=[];b=r(b);for(var d=b.next();!d.done;d=b.next())(d=Wf(d.value))&&c.push(d);return c}
function Wf(b){var c=b.getAttribute("schemeIdUri"),d=R.getAttributeNS(b,"urn:mpeg:cenc:2013","default_KID"),e=R.Je(b,"urn:mpeg:cenc:2013","pssh").map(R.Pc);if(!c)return D.error("Missing required schemeIdUri attribute on","ContentProtection element",b),null;c=c.toLowerCase();if(d&&(d=d.replace(/-/g,"").toLowerCase(),d.includes(" ")))throw new G(2,4,4009);var f=[];try{f=e.map(function(b){return{initDataType:"cenc",initData:M.Za(b),keyId:null}})}catch(g){throw new G(2,4,4007);}return{node:b,pf:c,keyId:d,
init:0<f.length?f:null}};function Xf(b,c,d,e,f){var g={RepresentationID:c,Number:d,Bandwidth:e,Time:f};return b.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(c,d,e,f){if("$$"==c)return"$";var h=g[d];if(null==h)return D.u("URL template does not have an available substitution for identifier",'"'+d+'":',b),c;"RepresentationID"==d&&e&&(D.u("URL template should not contain a width specifier for identifier",'"RepresentationID":',b),e=void 0);"Time"==d&&(h=Math.round(h));switch(f){case void 0:case "d":case "i":case "u":c=
h.toString();break;case "o":c=h.toString(8);break;case "x":c=h.toString(16);break;case "X":c=h.toString(16).toUpperCase();break;default:c=h.toString()}e=window.parseInt(e,10)||1;return Array(Math.max(0,e-c.length)+1).join("0")+c})}
function Yf(b,c){var d=Zf(b,c,"timescale"),e=1;d&&(e=R.Zc(d)||1);d=Zf(b,c,"duration");(d=R.Zc(d||""))&&(d/=e);var f=Zf(b,c,"startNumber"),g=Number(Zf(b,c,"presentationTimeOffset"))||0,h=R.cc(f||"");if(null==f||null==h)h=1;var k=$f(b,c,"SegmentTimeline");f=null;if(k){f=e;var l=b.ea.duration||Infinity;k=R.$(k,"S");for(var n=[],p=-g,q=0;q<k.length;++q){var t=k[q],y=R.S(t,"t",R.cc),C=R.S(t,"d",R.cc),z=R.S(t,"r",R.parseInt);null!=y&&(y-=g);if(!C){D.u('"S" element must have a duration:','ignoring the remaining "S" elements.',
t);break}y=null!=y?y:p;z=z||0;if(0>z)if(q+1<k.length){z=R.S(k[q+1],"t",R.cc);if(null==z){D.u('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:','ignoring the remaining "S" elements.',t);break}else if(y>=z){D.u('An "S" element cannot have a negative repeat','if its start time exceeds the next "S" element\'s start time:','ignoring the remaining "S" elements.',t);break}z=Math.ceil((z-y)/C)-1}else{if(Infinity==l){D.u('The last "S" element cannot have a negative repeat',
"if the Period has an infinite duration:",'ignoring the last "S" element.',t);break}else if(y/f>=l){D.u('The last "S" element cannot have a negative repeat',"if its start time exceeds the Period's duration:",'igoring the last "S" element.',t);break}z=Math.ceil((l*f-y)/C)-1}0<n.length&&y!=p&&(Math.abs((y-p)/f)>=Od&&D.u("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",t),n[n.length-1].end=y/f);for(t=0;t<=z;++t)p=y+C,n.push({start:y/f,end:p/f,Hh:y}),y=p}f=n}return{timescale:e,
sa:d,Jb:h,Fa:g/e||0,se:g,X:f}}function Zf(b,c,d){return[c(b.F),c(b.oa),c(b.Da)].filter(Kd.jb).map(function(b){return b.getAttribute(d)}).reduce(function(b,c){return b||c})}function $f(b,c,d){return[c(b.F),c(b.oa),c(b.Da)].filter(Kd.jb).map(function(b){return R.Nc(b,d)}).reduce(function(b,c){return b||c})}
function ag(b,c,d,e,f,g){for(var h=R.getAttributeNS(b,"http://www.w3.org/1999/xlink","href"),k=R.getAttributeNS(b,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=0;l<b.attributes.length;l++){var n=b.attributes[l];"http://www.w3.org/1999/xlink"==n.namespaceURI&&(b.removeAttributeNS(n.namespaceURI,n.localName),--l)}if(5<=g)return Wb(new G(2,4,4028));if("onLoad"!=k)return Wb(new G(2,4,4027));var p=Ld([e],[h]);return f.request(0,lc(p,c)).ma(function(e){e=R.df(e.data,b.tagName);if(!e)return Wb(new G(2,
4,4001,h));for(;b.childNodes.length;)b.removeChild(b.childNodes[0]);for(;e.childNodes.length;){var k=e.childNodes[0];e.removeChild(k);b.appendChild(k)}for(k=0;k<e.attributes.length;k++){var l=e.attributes[k].nodeName,n=e.getAttribute(l);b.setAttribute(l,n)}return bg(b,c,d,p[0],f,g+1)})}
function bg(b,c,d,e,f,g){g=void 0===g?0:g;if(R.getAttributeNS(b,"http://www.w3.org/1999/xlink","href")){var h=ag(b,c,d,e,f,g);d&&(h=h.ma(void 0,function(){return bg(b,c,d,e,f,g)}));return h}h=[];for(var k=0;k<b.childNodes.length;k++){var l=b.childNodes[k];l instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==R.getAttributeNS(l,"http://www.w3.org/1999/xlink","href")?(b.removeChild(l),--k):"SegmentTimeline"!=l.tagName&&h.push(bg(l,c,d,e,f,g)))}return $b(h).ma(function(){return b})};function cg(b,c,d){this.c=b;this.b=c;this.a=d}A("shaka.media.InitSegmentReference",cg);cg.prototype.pd=function(){return this.c()};cg.prototype.createUris=cg.prototype.pd;cg.prototype.zd=function(){return this.b};cg.prototype.getStartByte=cg.prototype.zd;cg.prototype.xd=function(){return this.a};cg.prototype.getEndByte=cg.prototype.xd;function S(b,c,d,e,f,g){this.position=b;this.startTime=c;this.endTime=d;this.c=e;this.b=f;this.a=g}A("shaka.media.SegmentReference",S);S.prototype.va=function(){return this.position};
S.prototype.getPosition=S.prototype.va;S.prototype.Rc=function(){return this.startTime};S.prototype.getStartTime=S.prototype.Rc;S.prototype.cg=function(){return this.endTime};S.prototype.getEndTime=S.prototype.cg;S.prototype.pd=function(){return this.c()};S.prototype.createUris=S.prototype.pd;S.prototype.zd=function(){return this.b};S.prototype.getStartByte=S.prototype.zd;S.prototype.xd=function(){return this.a};S.prototype.getEndByte=S.prototype.xd;function dg(b,c,d,e){var f,g=(new Q).za("sidx",function(b){f=eg(c,e,d,b)});b&&g.parse(b);if(f)return f;D.error('Invalid box type, expected "sidx".');throw new G(2,3,3004);}
function eg(b,c,d,e){var f=[];e.reader.V(4);var g=e.reader.M();if(0==g)throw D.error("Invalid timescale."),new G(2,3,3005);if(0==e.version){var h=e.reader.M();var k=e.reader.M()}else h=e.reader.fc(),k=e.reader.fc();e.reader.V(2);var l=e.reader.xc();b=b+e.size+k;for(k=0;k<l;k++){var n=e.reader.M(),p=(n&2147483648)>>>31;n&=2147483647;var q=e.reader.M();e.reader.V(4);if(1==p)throw D.error("Heirarchical SIDXs are not supported."),new G(2,3,3006);f.push(new S(f.length,h/g-c,(h+q)/g-c,function(){return d},
b,b+n-1));h+=q;b+=n}e.parser.stop();return f};function fg(b){this.a=b}A("shaka.media.SegmentIndex",fg);fg.prototype.destroy=function(){this.a=null;return Promise.resolve()};fg.prototype.destroy=fg.prototype.destroy;fg.prototype.find=function(b){for(var c=this.a.length-1;0<=c;--c){var d=this.a[c];if(b>=d.startTime&&b<d.endTime)return d.position}return this.a.length&&b<this.a[0].startTime?this.a[0].position:null};fg.prototype.find=fg.prototype.find;
fg.prototype.get=function(b){if(0==this.a.length)return null;b-=this.a[0].position;return 0>b||b>=this.a.length?null:this.a[b]};fg.prototype.get=fg.prototype.get;fg.prototype.offset=function(b){for(var c=0;c<this.a.length;++c)this.a[c].startTime+=b,this.a[c].endTime+=b};fg.prototype.offset=fg.prototype.offset;
fg.prototype.Kd=function(b){for(var c=[],d=0,e=0;d<this.a.length&&e<b.length;){var f=this.a[d],g=b[e];f.startTime<g.startTime?(c.push(f),d++):(f.startTime>g.startTime?0==d?c.push(g):D.u("Refusing to rewrite original references on update!"):(.1<Math.abs(f.endTime-g.endTime)?c.push(new S(f.position,g.startTime,g.endTime,g.c,g.b,g.a)):c.push(f),d++),e++)}for(;d<this.a.length;)c.push(this.a[d++]);if(c.length)for(d=c[c.length-1].position+1;e<b.length;)f=b[e++],f=new S(d++,f.startTime,f.endTime,f.c,f.b,
f.a),c.push(f);else c=b;this.a=c};fg.prototype.merge=fg.prototype.Kd;fg.prototype.rd=function(b){for(var c=0;c<this.a.length;++c)if(this.a[c].endTime>b){this.a.splice(0,c);return}this.a=[]};fg.prototype.evict=fg.prototype.rd;function gg(b,c){for(;b.a.length;)if(b.a[b.a.length-1].startTime>=c)b.a.pop();else break;for(;b.a.length;)if(0>=b.a[0].endTime)b.a.shift();else break;if(0!=b.a.length){var d=b.a[b.a.length-1];b.a[b.a.length-1]=new S(d.position,d.startTime,c,d.c,d.b,d.a)}};function hg(b){this.b=b;this.a=new P(b,0);ig||(ig=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}var ig;hg.prototype.Ra=function(){return this.a.Ra()};
function jg(b){var c=kg(b);if(7<c.length)throw new G(2,3,3002);for(var d=0,e=0;e<c.length;e++)d=256*d+c[e];c=d;d=kg(b);a:{e=M.Xa;for(var f=0;f<ig.length;f++)if(e(d,ig[f])){e=!0;break a}e=!1}if(e)d=b.b.byteLength-b.a.va();else{if(8==d.length&&d[1]&224)throw new G(2,3,3001);e=d[0]&(1<<8-d.length)-1;for(f=1;f<d.length;f++)e=256*e+d[f];d=e}d=b.a.va()+d<=b.b.byteLength?d:b.b.byteLength-b.a.va();e=new DataView(b.b.buffer,b.b.byteOffset+b.a.va(),d);b.a.V(d);return new lg(c,e)}
function kg(b){var c=b.a.Ea(),d;for(d=1;8>=d&&!(c&1<<8-d);d++);if(8<d)throw new G(2,3,3002);var e=new Uint8Array(d);e[0]=c;for(c=1;c<d;c++)e[c]=b.a.Ea();return e}function lg(b,c){this.id=b;this.a=c}function mg(b){if(8<b.a.byteLength)throw new G(2,3,3002);if(8==b.a.byteLength&&b.a.getUint8(0)&224)throw new G(2,3,3001);for(var c=0,d=0;d<b.a.byteLength;d++){var e=b.a.getUint8(d);c=256*c+e}return c};function ng(){}
ng.prototype.parse=function(b,c,d,e){var f;c=new hg(new DataView(c));if(440786851!=jg(c).id)throw D.error("Not an EBML element."),new G(2,3,3008);var g=jg(c);if(408125543!=g.id)throw D.error("Not a Segment element."),new G(2,3,3009);c=g.a.byteOffset;g=new hg(g.a);for(f=null;g.Ra();){var h=jg(g);if(357149030==h.id){f=h;break}}if(!f)throw D.error("Not an Info element."),new G(2,3,3010);g=new hg(f.a);f=1E6;for(h=null;g.Ra();){var k=jg(g);if(2807729==k.id)f=mg(k);else if(17545==k.id)if(h=k,4==h.a.byteLength)h=
h.a.getFloat32(0);else if(8==h.a.byteLength)h=h.a.getFloat64(0);else throw new G(2,3,3003);}if(null==h)throw new G(2,3,3011);g=f/1E9;f=h*g;b=jg(new hg(new DataView(b)));if(475249515!=b.id)throw D.error("Not a Cues element."),new G(2,3,3007);return og(b,c,g,f,d,e)};
function og(b,c,d,e,f,g){function h(){return f}var k=[];b=new hg(b.a);for(var l=null,n=null;b.Ra();){var p=jg(b);if(187==p.id){var q=pg(p);q&&(p=d*q.Ih,q=c+q.hh,null!=l&&k.push(new S(k.length,l-g,p-g,h,n,q-1)),l=p,n=q)}}null!=l&&k.push(new S(k.length,l-g,e-g,h,n,null));return k}
function pg(b){var c=new hg(b.a);b=jg(c);if(179!=b.id)throw D.u("Not a CueTime element."),new G(2,3,3013);b=mg(b);c=jg(c);if(183!=c.id)throw D.u("Not a CueTrackPositions element."),new G(2,3,3012);c=new hg(c.a);for(var d=0;c.Ra();){var e=jg(c);if(241==e.id){d=mg(e);break}}return{Ih:b,hh:d}};function qg(b,c){var d=$f(b,c,"Initialization");if(!d)return null;var e=b.F.Ga,f=d.getAttribute("sourceURL");f&&(e=Ld(b.F.Ga,[f]));f=0;var g=null;if(d=R.S(d,"range",R.$c))f=d.start,g=d.end;return new cg(function(){return e},f,g)}
function rg(b,c){var d=Number(Zf(b,sg,"presentationTimeOffset"))||0,e=Zf(b,sg,"timescale"),f=1;e&&(f=R.Zc(e)||1);d=d/f||0;e=qg(b,sg);var g=b.F.contentType;f=b.F.mimeType.split("/")[1];if("text"!=g&&"mp4"!=f&&"webm"!=f)throw D.error("SegmentBase specifies an unsupported container type.",b.F),new G(2,4,4006);if("webm"==f&&!e)throw D.error("SegmentBase does not contain sufficient segment information:","the SegmentBase uses a WebM container,","but does not contain an Initialization element.",b.F),new G(2,
4,4005);g=$f(b,sg,"RepresentationIndex");var h=Zf(b,sg,"indexRange"),k=b.F.Ga;h=R.$c(h||"");if(g){var l=g.getAttribute("sourceURL");l&&(k=Ld(b.F.Ga,[l]));h=R.S(g,"range",R.$c,h)}if(!h)throw D.error("SegmentBase does not contain sufficient segment information:","the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",b.F),new G(2,4,4002);f=tg(b,c,e,k,h.start,h.end,f,d);return{createSegmentIndex:f.createSegmentIndex,findSegmentPosition:f.findSegmentPosition,getSegmentReference:f.getSegmentReference,
initSegmentReference:e,Fa:d}}function tg(b,c,d,e,f,g,h,k){var l=b.presentationTimeline,n=!b.Ob||!b.ea.Ed,p=b.ea.start,q=b.ea.duration,t=c,y=null;return{createSegmentIndex:function(){var b=[t(e,f,g),"webm"==h?t(d.c(),d.b,d.a):null];t=null;return Promise.all(b).then(function(b){var c=b[0];b=b[1]||null;c="mp4"==h?dg(c,f,e,k):(new ng).parse(c,b,e,k);l.$b(c,p);y=new fg(c);n&&gg(y,q)})},findSegmentPosition:function(b){return y.find(b)},getSegmentReference:function(b){return y.get(b)}}}
function sg(b){return b.yc};function ug(b,c){var d=qg(b,vg);var e=wg(b);var f=Yf(b,vg),g=f.Jb;0==g&&(D.u("SegmentList@startNumber must be > 0"),g=1);var h=0;f.sa?h=f.sa*(g-1):f.X&&0<f.X.length&&(h=f.X[0].start);e={sa:f.sa,startTime:h,Jb:g,Fa:f.Fa,X:f.X,Db:e};if(!e.sa&&!e.X&&1<e.Db.length)throw D.u("SegmentList does not contain sufficient segment information:","the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",b.F),new G(2,4,4002);if(!e.sa&&!b.ea.duration&&!e.X&&1==e.Db.length)throw D.u("SegmentList does not contain sufficient segment information:",
"the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",b.F),new G(2,4,4002);if(e.X&&0==e.X.length)throw D.u("SegmentList does not contain sufficient segment information:","the SegmentList has an empty timeline.",b.F),new G(2,4,4002);g=f=null;b.Da.id&&b.F.id&&(g=b.Da.id+","+b.F.id,f=c[g]);h=xg(b.ea.duration,e.Jb,b.F.Ga,e);f?(f.Kd(h),g=b.presentationTimeline.rc(),f.rd(g-b.ea.start)):(b.presentationTimeline.$b(h,b.ea.start),f=new fg(h),g&&
b.Ob&&(c[g]=f));b.Ob&&b.ea.Ed||gg(f,b.ea.duration);return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:f.find.bind(f),getSegmentReference:f.get.bind(f),initSegmentReference:d,Fa:e.Fa}}function vg(b){return b.ob}
function xg(b,c,d,e){var f=e.Db.length;e.X&&e.X.length!=e.Db.length&&(f=Math.min(e.X.length,e.Db.length),D.u("The number of items in the segment timeline and the number of segment","URLs do not match, truncating",e.Db.length,"to",f));for(var g=[],h=e.startTime,k=0;k<f;k++){var l=e.Db[k],n=Ld(d,[l.Ig]),p=void 0;p=null!=e.sa?h+e.sa:e.X?e.X[k].end:h+b;g.push(new S(k+c,h,p,function(b){return b}.bind(null,n),l.start,l.end));h=p}return g}
function wg(b){return[b.F.ob,b.oa.ob,b.Da.ob].filter(Kd.jb).map(function(b){return R.$(b,"SegmentURL")}).reduce(function(b,d){return 0<b.length?b:d}).map(function(c){c.getAttribute("indexRange")&&!b.Qe&&(b.Qe=!0,D.u("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate."));var d=c.getAttribute("media");c=R.S(c,"mediaRange",R.$c,{start:0,end:null});return{Ig:d,start:c.start,end:c.end}})};function yg(b,c,d,e){var f=zg(b);var g=Yf(b,Ag);var h=Zf(b,Ag,"media"),k=Zf(b,Ag,"index");g={sa:g.sa,timescale:g.timescale,Jb:g.Jb,Fa:g.Fa,se:g.se,X:g.X,Id:h,vc:k};h=g.vc?1:0;h+=g.X?1:0;h+=g.sa?1:0;if(0==h)throw D.error("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",b.F),new G(2,4,4002);1!=h&&(D.u("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,",
"a SegmentTimeline or a segment duration.",b.F),g.vc?(D.info("Using the index URL template by default."),g.X=null):D.info("Using the SegmentTimeline by default."),g.sa=null);if(!g.vc&&!g.Id)throw D.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate's media URL template is missing.",b.F),new G(2,4,4002);if(g.vc){d=b.F.mimeType.split("/")[1];if("mp4"!=d&&"webm"!=d)throw D.error("SegmentTemplate specifies an unsupported container type.",b.F),new G(2,4,4006);
if("webm"==d&&!f)throw D.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate uses a WebM container,","but does not contain an initialization URL template.",b.F),new G(2,4,4005);e=Xf(g.vc,b.F.id,null,b.bandwidth||null,null);e=Ld(b.F.Ga,[e]);b=tg(b,c,f,e,0,null,d,g.Fa)}else g.sa?(e||(b.presentationTimeline.Nd(g.sa),b.presentationTimeline.Od(b.ea.start)),b=Bg(b,g)):(h=c=null,b.Da.id&&b.F.id&&(h=b.Da.id+","+b.F.id,c=d[h]),k=Cg(b,g),e=!b.Ob||!b.ea.Ed,c?(e&&gg(new fg(k),
b.ea.duration),c.Kd(k),d=b.presentationTimeline.rc(),c.rd(d-b.ea.start)):(b.presentationTimeline.$b(k,b.ea.start),c=new fg(k),h&&b.Ob&&(d[h]=c)),e&&gg(c,b.ea.duration),b={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:c.find.bind(c),getSegmentReference:c.get.bind(c)});return{createSegmentIndex:b.createSegmentIndex,findSegmentPosition:b.findSegmentPosition,getSegmentReference:b.getSegmentReference,initSegmentReference:f,Fa:g.Fa}}function Ag(b){return b.Ac}
function Bg(b,c){var d=b.ea.duration,e=c.sa,f=c.Jb,g=c.timescale,h=c.Id,k=b.bandwidth||null,l=b.F.id,n=b.F.Ga;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(b){return 0>b||d&&b>=d?null:Math.floor(b/e)},getSegmentReference:function(b){var c=b*e,p=c+e;d&&(p=Math.min(p,d));return 0>p||d&&c>=d?null:new S(b,c,p,function(){var d=Xf(h,l,b+f,k,c*g);return Ld(n,[d])},0,null)}}}
function Cg(b,c){for(var d=[],e=0;e<c.X.length;e++){var f=e+c.Jb;d.push(new S(f,c.X[e].start,c.X[e].end,function(b,c,d,e,f,p){b=Xf(b,c,f,d,p);return Ld(e,[b]).map(function(b){return b.toString()})}.bind(null,c.Id,b.F.id,b.bandwidth||null,b.F.Ga,f,c.X[e].Hh+c.se),0,null))}return d}function zg(b){var c=Zf(b,Ag,"initialization");if(!c)return null;var d=b.F.id,e=b.bandwidth||null,f=b.F.Ga;return new cg(function(){var b=Xf(c,d,null,e,null);return Ld(f,[b])},0,null)};var U={dc:{},wc:{},Xd:function(b,c){U.wc[b]=c}};A("shaka.media.ManifestParser.registerParserByExtension",U.Xd);U.gc=function(b,c){U.dc[b]=c};A("shaka.media.ManifestParser.registerParserByMime",U.gc);
U.eh=function(){var b={};if(Hc()){for(var c in U.dc)b[c]=!0;for(var d in U.wc)b[d]=!0}c={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};d=r(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var e=d.next();!e.done;e=d.next())e=e.value,b[e]=Hc()?!!U.dc[e]:Ic(e);for(var f in c)b[f]=Hc()?!!U.wc[f]:Ic(c[f]);return b};
U.create=function(b,c,d,e){return u(function g(){var h,k;return x(g,function(g){switch(g.o){case 1:return xa(g,2),v(g,U.dg(b,c,d,e),4);case 4:return h=g.A,g["return"](new h);case 2:throw k=Da(g),k.severity=2,k;}})})};
U.dg=function(b,c,d,e){return u(function g(){var h,k,l,n,p;return x(g,function(g){switch(g.o){case 1:h=U;if(e){if(k=h.dc[e.toLowerCase()])return g["return"](k);D.u("Could not determine manifest type using MIME type ",e)}if(l=h.getExtension(b)){if(n=h.wc[l])return g["return"](n);D.u("Could not determine manifest type for extension ",l)}else D.u("Could not find extension for ",b);if(e){g.C(2);break}return v(g,h.og(b,c,d),3);case 3:if(e=g.A){if(p=U.dc[e])return g["return"](p);D.u("Could not determine manifest type using MIME type",
e)}case 2:throw new G(2,4,4E3,b);}})})};U.og=function(b,c,d){return u(function f(){var g,h,k;return x(f,function(f){switch(f.o){case 1:return g=lc([b],d),g.method="HEAD",v(f,c.request(0,g).promise,2);case 2:return h=f.A,k=h.headers["content-type"],f["return"](k?k.toLowerCase().split(";").shift():"")}})})};U.getExtension=function(b){b=(new Bb(b)).Ca.split("/").pop().split(".");return 1==b.length?"":b.pop().toLowerCase()};
U.isSupported=function(b,c){return Hc()?c in U.dc||U.getExtension(b)in U.wc?!0:!1:!1};function V(b,c,d){this.f=b;this.ad=c;this.j=this.g=Infinity;this.a=1;this.b=this.c=null;this.s=0;this.v=!0;this.l=0;this.w=void 0===d?!0:d}A("shaka.media.PresentationTimeline",V);V.prototype.ra=function(){return this.g};V.prototype.getDuration=V.prototype.ra;V.prototype.mg=function(){return this.a};V.prototype.getMaxSegmentDuration=V.prototype.mg;V.prototype.Ua=function(b){this.g=b};V.prototype.setDuration=V.prototype.Ua;V.prototype.sg=function(){return this.f};
V.prototype.getPresentationStartTime=V.prototype.sg;V.prototype.sf=function(b){this.s=b};V.prototype.setClockOffset=V.prototype.sf;V.prototype.Bc=function(b){this.v=b};V.prototype.setStatic=V.prototype.Bc;V.prototype.ie=function(b){this.j=b};V.prototype.setSegmentAvailabilityDuration=V.prototype.ie;V.prototype.sh=function(b){this.ad=b};V.prototype.setDelay=V.prototype.sh;V.prototype.ag=function(){return this.ad};V.prototype.getDelay=V.prototype.ag;
V.prototype.$b=function(b,c){if(0!=b.length){var d=b[b.length-1].endTime+c;this.Od(b[0].startTime+c);this.a=b.reduce(function(b,c){return Math.max(b,c.endTime-c.startTime)},this.a);this.b=Math.max(this.b,d);null!=this.f&&this.w&&(this.f=(Date.now()+this.s)/1E3-this.b-this.a);D.I("notifySegments:","maxSegmentDuration="+this.a)}};V.prototype.notifySegments=V.prototype.$b;V.prototype.Od=function(b){this.c=null==this.c?b:Math.min(this.c,b)};V.prototype.notifyMinSegmentStartTime=V.prototype.Od;
V.prototype.Nd=function(b){this.a=Math.max(this.a,b);D.I("notifyNewSegmentDuration:","maxSegmentDuration="+this.a)};V.prototype.notifyMaxSegmentDuration=V.prototype.Nd;V.prototype.offset=function(b){null!=this.c&&(this.c+=b);null!=this.b&&(this.b+=b)};V.prototype.offset=V.prototype.offset;V.prototype.W=function(){return Infinity==this.g&&!this.v};V.prototype.isLive=V.prototype.W;V.prototype.Bb=function(){return Infinity!=this.g&&!this.v};V.prototype.isInProgress=V.prototype.Bb;
V.prototype.rc=function(){if(Infinity==this.j)return this.l;var b=this.Sb()-this.j;return Math.max(this.l,b)};V.prototype.getSegmentAvailabilityStart=V.prototype.rc;V.prototype.vf=function(b){this.l=b};V.prototype.setUserSeekStart=V.prototype.vf;V.prototype.Sb=function(){return this.W()||this.Bb()?Math.min(Math.max(0,(Date.now()+this.s)/1E3-this.a-this.f),this.g):this.g};V.prototype.getSegmentAvailabilityEnd=V.prototype.Sb;
V.prototype.qc=function(b){var c=Math.max(this.c,this.l);if(Infinity==this.j)return c;var d=this.Sb()-this.j;b=Math.min(d+b,this.ab());return Math.max(c,b)};V.prototype.getSafeSeekRangeStart=V.prototype.qc;V.prototype.Rb=function(){return this.qc(0)};V.prototype.getSeekRangeStart=V.prototype.Rb;V.prototype.ab=function(){var b=this.W()||this.Bb()?this.ad:0;return Math.max(0,this.Sb()-b)};V.prototype.getSeekRangeEnd=V.prototype.ab;
V.prototype.Af=function(){return null==this.f||null!=this.b&&this.w?!1:!0};V.prototype.usingPresentationStartTime=V.prototype.Af;function Dg(b,c,d,e){b=lc(b,e);if(0!=c||null!=d)b.headers.Range=d?"bytes="+c+"-"+d:"bytes="+c+"-";return b};function Eg(){var b=this;this.b=this.a=null;this.f=[];this.c=null;this.s=[];this.j=1;this.v={};this.w=0;this.B=new tb(5);this.l=new F(function(){Fg(b)});this.g=new hc}A("shaka.dash.DashParser",Eg);m=Eg.prototype;m.configure=function(b){this.a=b};m.start=function(b,c){var d=this;return u(function f(){var g;return x(f,function(f){switch(f.o){case 1:return d.f=[b],d.b=c,v(f,Gg(d),2);case 2:g=f.A;d.b&&Hg(d,g);if(!d.b)throw new G(2,7,7001);return f["return"](d.c)}})})};
m.stop=function(){this.a=this.b=null;this.f=[];this.c=null;this.s=[];this.v={};null!=this.l&&(this.l.stop(),this.l=null);return this.g.destroy()};m.update=function(){Gg(this)["catch"](function(b){if(this.b)this.b.onError(b)}.bind(this))};m.onExpirationUpdated=function(){};
function Gg(b){var c=Date.now(),d=b.b.networkingEngine.request(0,lc(b.f,b.a.retryParameters));ic(b.g,d);return d.promise.then(function(c){if(b.b)return c.uri&&!b.f.includes(c.uri)&&b.f.unshift(c.uri),Ig(b,c.data,c.uri)}).then(function(){var d=(Date.now()-c)/1E3;ub(b.B,1,d);return d})}function Ig(b,c,d){c=R.df(c,"MPD");if(!c)throw new G(2,4,4001,d);c=bg(c,b.a.retryParameters,b.a.dash.xlinkFailGracefully,d,b.b.networkingEngine);ic(b.g,c);return c.promise.then(function(c){return Jg(b,c,d)})}
function Jg(b,c,d){return u(function f(){var g,h,k,l,n,p,q,t,y,C,z,H,I,T,Aa,ja,fb,Qa,ta,gb,na,Ba,Ra,Wa,Ca,hb,xb;return x(f,function(f){switch(f.o){case 1:l=Kd;n=R;p=[d];q=n.$(c,"Location").map(n.Pc).filter(l.jb);0<q.length&&(t=Ld(p,q),p=b.f=t);y=n.$(c,"BaseURL").map(n.Pc);C=Ld(p,y);z=b.a.dash.ignoreMinBufferTime;H=0;z||(H=n.S(c,"minBufferTime",n.eb));b.w=n.S(c,"minimumUpdatePeriod",n.eb,-1);I=n.S(c,"availabilityStartTime",n.$g);T=n.S(c,"timeShiftBufferDepth",n.eb);Aa=n.S(c,"maxSegmentDuration",n.eb);
ja=c.getAttribute("type")||"static";fb=b.a.dash.ignoreSuggestedPresentationDelay;Qa=null;fb||(Qa=n.S(c,"suggestedPresentationDelay",n.eb));b.c?ta=b.c.presentationTimeline:(gb=Math.max(b.a.dash.defaultPresentationDelay,1.5*H),na=null!=Qa?Qa:gb,ta=new V(I,na,b.a.dash.autoCorrectDrift));Ba={Ob:"static"!=ja,presentationTimeline:ta,Da:null,ea:null,oa:null,F:null,bandwidth:0,Qe:!1};for(var Mb=Ba,Nb=C,Ob=R.S(c,"mediaPresentationDuration",R.eb),yb=[],La=0,zb=R.$(c,"Period"),Ja=0;Ja<zb.length;Ja++){var Ya=
zb[Ja];La=R.S(Ya,"start",R.eb,La);var sc=R.S(Ya,"duration",R.eb),ib=null;if(Ja!=zb.length-1){var Xa=R.S(zb[Ja+1],"start",R.eb);null!=Xa&&(ib=Xa-La)}else null!=Ob&&(ib=Ob-La);Xa=Od;ib&&sc&&Math.abs(ib-sc)>Xa&&D.u("There is a gap/overlap between Periods",Ya);null==ib&&(ib=sc);Ya=Kg(b,Mb,Nb,{start:La,duration:ib,node:Ya,Ed:null==ib||Ja==zb.length-1});yb.push(Ya);sc=Mb.Da.id;b.s.includes(sc)||(b.s.push(sc),b.c&&(b.b.filterNewPeriod(Ya),b.c.periods.push(Ya)));if(null==ib){Ja!=zb.length-1&&D.u("Skipping Period",
Ja+1,"and any subsequent Periods:","Period",Ja+1,"does not have a valid start time.",yb[Ja+1]);La=null;break}La+=ib}null==b.c&&b.b.filterAllPeriods(yb);null!=Ob?(La!=Ob&&D.u("@mediaPresentationDuration does not match the total duration of all","Periods."),g=yb,h=Ob,k=!1):(g=yb,h=La,k=!0);Ra=h;Wa=g;ta.Bc("static"==ja);"static"!=ja&&k||ta.Ua(Ra||Infinity);(Ca=ta.W())&&!isNaN(b.a.availabilityWindowOverride)&&(T=b.a.availabilityWindowOverride);null==T&&(T=Infinity);ta.ie(T);ta.Nd(Aa||1);if(b.c){f.C(0);
break}b.c={presentationTimeline:ta,periods:Wa,offlineSessionIds:[],minBufferTime:H||0};if(!ta.Af()){f.C(0);break}hb=n.$(c,"UTCTiming");return v(f,Lg(b,C,hb),4);case 4:xb=f.A;if(!b.b)return f["return"]();ta.sf(xb);w(f)}})})}
function Kg(b,c,d,e){c.Da=Mg(e.node,null,d);c.ea=e;c.Da.id||(D.info("No Period ID given for Period with start time "+e.start+",  Assigning a default"),c.Da.id="__shaka_period_"+e.start);R.$(e.node,"EventStream").forEach(b.ah.bind(b,e.start,e.duration));d=R.$(e.node,"AdaptationSet").map(b.Zg.bind(b,c)).filter(Kd.jb);if(c.Ob){c=[];for(var f=r(d),g=f.next();!g.done;g=f.next()){g=r(g.value.kh);for(var h=g.next();!h.done;h=g.next())c.push(h.value)}if(c.length!=(new Set(c)).size)throw new G(2,4,4018);}var k=
d.filter(function(b){return!b.pe});d.filter(function(b){return b.pe}).forEach(function(b){var c=b.streams[0],d=b.pe;k.forEach(function(b){b.id==d&&b.streams.forEach(function(b){b.trickModeVideo=c})})});c=Ng(k,"video");f=Ng(k,"audio");if(!c.length&&!f.length)throw new G(2,4,4004);d=b.a.disableAudio;if(!f.length||d)f=[null];d=b.a.disableVideo;if(!c.length||d)c=[null];d=[];for(g=0;g<f.length;g++)for(h=0;h<c.length;h++)Og(b,f[g],c[h],d);c=[];if(!b.a.disableText)for(b=Ng(k,"text"),f=0;f<b.length;f++)c.push.apply(c,
b[f].streams);return{startTime:e.start,textStreams:c,variants:d}}function Ng(b,c){return b.filter(function(b){return b.contentType==c})}
function Og(b,c,d,e){if(c||d)if(c&&d){var f=c.drmInfos;var g=d.drmInfos;if(f.length&&g.length?0<Bd(f,g).length:1){g=Bd(c.drmInfos,d.drmInfos);for(var h=0;h<c.streams.length;h++)for(var k=0;k<d.streams.length;k++)f=(d.streams[k].bandwidth||0)+(c.streams[h].bandwidth||0),f={id:b.j++,language:c.language,primary:c.Hd||d.Hd,audio:c.streams[h],video:d.streams[k],bandwidth:f,drmInfos:g,allowedByApplication:!0,allowedByKeySystem:!0},e.push(f)}}else for(g=c||d,h=0;h<g.streams.length;h++)f=g.streams[h].bandwidth||
0,f={id:b.j++,language:g.language||"und",primary:g.Hd,audio:c?g.streams[h]:null,video:d?g.streams[h]:null,bandwidth:f,drmInfos:g.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},e.push(f)}
m.Zg=function(b,c){b.oa=Mg(c,b.Da,null);if("image"==b.oa.contentType)return D.u("Skipping Image AdaptationSet",b.oa),null;var d=!1,e=R.$(c,"Role"),f=e.map(function(b){return b.getAttribute("value")}).filter(Kd.jb),g=void 0,h="text"==b.oa.contentType;h&&(g="subtitle");for(var k=0;k<e.length;k++){var l=e[k].getAttribute("schemeIdUri");if(null==l||"urn:mpeg:dash:role:2011"==l)switch(l=e[k].getAttribute("value"),l){case "main":d=!0;break;case "caption":case "subtitle":g=l}}var n=null,p=!1;R.$(c,"EssentialProperty").forEach(function(b){"http://dashif.org/guidelines/trickmode"==
b.getAttribute("schemeIdUri")?n=b.getAttribute("value"):p=!0});k=R.$(c,"Accessibility");var q=new Map;e={};k=r(k);for(l=k.next();!l.done;e={lc:e.lc},l=k.next()){var t=l.value;l=t.getAttribute("schemeIdUri");t=t.getAttribute("value");"urn:scte:dash:cc:cea-608:2015"==l||"urn:scte:dash:cc:cea-708:2015"==l?(e.lc=1,null!=t?t.split(";").forEach(function(b){return function(c){if(c.includes("=")){c=c.split("=");var d=c[0].startsWith("CC")?c[0]:"CC"+c[0];c=c[1].split(",")[0].split(":").pop()}else d="CC"+b.lc,
b.lc+=2;q.set(d,E(c))}}(e)):q.set("CC1","und")):"urn:mpeg:dash:role:2011"==l&&null!=t&&(f.push(t),"captions"==t&&(g="caption"))}if(p)return null;e=R.$(c,"ContentProtection");var y=Pf(e,this.a.dash.customScheme,this.a.dash.ignoreDrmInfo);e=E(c.getAttribute("lang")||"und");k=c.getAttribute("label");(l=R.$(c,"Label"))&&l.length&&(l=l[0],l.textContent&&(k=l.textContent));l=R.$(c,"Representation");f=l.map(this.bh.bind(this,b,y,g,e,k,d,f,q)).filter(function(b){return!!b});if(0==f.length){if(this.a.dash.ignoreEmptyAdaptationSet||
h)return null;throw new G(2,4,4003);}b.oa.contentType&&"application"!=b.oa.contentType||(b.oa.contentType=Pg(f[0].mimeType,f[0].codecs),f.forEach(function(c){c.type=b.oa.contentType}));f.forEach(function(b){y.drmInfos.forEach(function(c){b.keyId&&c.keyIds.push(b.keyId)})});h=l.map(function(b){return b.getAttribute("id")}).filter(Kd.jb);return{id:b.oa.id||"__fake__"+this.j++,contentType:b.oa.contentType,language:e,Hd:d,streams:f,drmInfos:y.drmInfos,pe:n,kh:h}};
m.bh=function(b,c,d,e,f,g,h,k,l){b.F=Mg(l,b.oa,null);if(!Qg(b.F))return D.u("Skipping Representation",b.F),null;b.bandwidth=R.S(l,"bandwidth",R.Zc)||0;var n=b.F.contentType;n="text"==n||"application"==n;try{var p=this.lh.bind(this);if(b.F.yc)var q=rg(b,p);else if(b.F.ob)q=ug(b,this.v);else if(b.F.Ac)q=yg(b,p,this.v,!!this.c);else{var t=b.F.Ga,y=b.ea.duration||0;q={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(b){return 0<=b&&b<y?1:null},getSegmentReference:function(b){return 1!=
b?null:new S(1,0,y,function(){return t},0,null)},initSegmentReference:null,Fa:0}}}catch(C){if(n&&4002==C.code)return null;throw C;}l=R.$(l,"ContentProtection");l=Sf(l,this.a.dash.customScheme,c,this.a.dash.ignoreDrmInfo);return{id:this.j++,originalId:b.F.id,createSegmentIndex:q.createSegmentIndex,findSegmentPosition:q.findSegmentPosition,getSegmentReference:q.getSegmentReference,initSegmentReference:q.initSegmentReference,presentationTimeOffset:q.Fa,mimeType:b.F.mimeType,codecs:b.F.codecs,frameRate:b.F.frameRate,
pixelAspectRatio:b.F.pixelAspectRatio,bandwidth:b.bandwidth,width:b.F.width,height:b.F.height,kind:d,encrypted:0<c.drmInfos.length,keyId:l,language:e,label:f,type:b.oa.contentType,primary:g,trickModeVideo:null,emsgSchemeIdUris:b.F.emsgSchemeIdUris,roles:h,channelsCount:b.F.Pd,audioSamplingRate:b.F.audioSamplingRate,closedCaptions:k}};
function Fg(b){u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:return D.info("Updating manifest..."),e=0,xa(d,2),v(d,Gg(b),4);case 4:e=d.A;za(d,3);break;case 2:f=Da(d),b.b&&(f.severity=1,b.b.onError(f));case 3:if(!b.b)return d["return"]();Hg(b,e);w(d)}})})}function Hg(b,c){0>b.w||b.l.R(Math.max(3,b.w-c,vb(b.B)))}
function Mg(b,c,d){c=c||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,Pd:null,audioSamplingRate:null};d=d||c.Ga;var e=R.cc,f=R.Rf,g=R.$(b,"BaseURL").map(R.Pc),h=b.getAttribute("contentType")||c.contentType,k=b.getAttribute("mimeType")||c.mimeType,l=b.getAttribute("codecs")||c.codecs;f=R.S(b,"frameRate",f)||c.frameRate;var n=b.getAttribute("sar")||c.pixelAspectRatio,p=R.$(b,"InbandEventStream"),q=c.emsgSchemeIdUris.slice();p=r(p);for(var t=p.next();!t.done;t=p.next())t=
t.value.getAttribute("schemeIdUri"),q.includes(t)||q.push(t);p=R.$(b,"AudioChannelConfiguration");p=Rg(p)||c.Pd;t=R.S(b,"audioSamplingRate",e)||c.audioSamplingRate;h||(h=Pg(k,l));return{Ga:Ld(d,g),yc:R.Nc(b,"SegmentBase")||c.yc,ob:R.Nc(b,"SegmentList")||c.ob,Ac:R.Nc(b,"SegmentTemplate")||c.Ac,width:R.S(b,"width",e)||c.width,height:R.S(b,"height",e)||c.height,contentType:h,mimeType:k,codecs:l,frameRate:f,pixelAspectRatio:n,emsgSchemeIdUris:q,id:b.getAttribute("id"),Pd:p,audioSamplingRate:t}}
function Rg(b){for(var c=0;c<b.length;++c){var d=b[c],e=d.getAttribute("schemeIdUri");if(e&&(d=d.getAttribute("value")))switch(e){case "urn:mpeg:dash:outputChannelPositionList:2012":return d.trim().split(/ +/).length;case "urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case "urn:dts:dash:audio_channel_configuration:2012":var f=parseInt(d,10);if(!f){D.u("Channel parsing failure! Ignoring scheme and value",e,d);continue}return f;case "tag:dolby.com,2014:dash:audio_channel_configuration:2011":case "urn:dolby:dash:audio_channel_configuration:2011":f=
parseInt(d,16);if(!f){D.u("Channel parsing failure! Ignoring scheme and value",e,d);continue}for(b=0;f;)f&1&&++b,f>>=1;return b;default:D.u("Unrecognized audio channel scheme:",e,d)}}return null}
function Qg(b){var c=b.yc?1:0;c+=b.ob?1:0;c+=b.Ac?1:0;if(0==c){if("text"==b.contentType||"application"==b.contentType)return!0;D.u("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',b);return!1}1!=c&&(D.u("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",
b),b.yc?(D.info("Using SegmentBase by default."),b.ob=null):D.info("Using SegmentList by default."),b.Ac=null);return!0}
function Sg(b,c,d,e){c=Ld(c,[d]);c=lc(c,b.a.retryParameters);c.method=e;c=b.b.networkingEngine.request(4,c);ic(b.g,c);return c.promise.then(function(b){if("HEAD"==e){if(!b.headers||!b.headers.date)return D.u("UTC timing response is missing","expected date header"),0;b=b.headers.date}else b=Qc(b.data);b=Date.parse(b);return isNaN(b)?(D.u("Unable to parse date from UTC timing response"),0):b-Date.now()})}
function Lg(b,c,d){d=d.map(function(b){return{scheme:b.getAttribute("schemeIdUri"),value:b.getAttribute("value")}});var e=b.a.dash.clockSyncUri;!d.length&&e&&d.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:e});return Kd.Pf(d,function(b){var d=b.scheme;b=b.value;switch(d){case "urn:mpeg:dash:utc:http-head:2014":case "urn:mpeg:dash:utc:http-head:2012":return Sg(this,c,b,"HEAD");case "urn:mpeg:dash:utc:http-xsdate:2014":case "urn:mpeg:dash:utc:http-iso:2014":case "urn:mpeg:dash:utc:http-xsdate:2012":case "urn:mpeg:dash:utc:http-iso:2012":return Sg(this,
c,b,"GET");case "urn:mpeg:dash:utc:direct:2014":case "urn:mpeg:dash:utc:direct:2012":return d=Date.parse(b),isNaN(d)?0:d-Date.now();case "urn:mpeg:dash:utc:http-ntp:2014":case "urn:mpeg:dash:utc:ntp:2014":case "urn:mpeg:dash:utc:sntp:2014":return D.ba("NTP UTCTiming scheme is not supported"),Promise.reject();default:return D.ba("Unrecognized scheme in UTCTiming element",d),Promise.reject()}}.bind(b))["catch"](function(){D.ba("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!");
return 0})}m.ah=function(b,c,d){var e=R.cc,f=d.getAttribute("schemeIdUri")||"",g=d.getAttribute("value")||"",h=R.S(d,"timescale",e)||1;R.$(d,"Event").forEach(function(d){var k=R.S(d,"presentationTime",e)||0,n=R.S(d,"duration",e)||0;k=k/h+b;n=k+n/h;null!=c&&(k=Math.min(k,b+c),n=Math.min(n,b+c));d={schemeIdUri:f,value:g,startTime:k,endTime:n,id:d.getAttribute("id")||"",eventElement:d};this.b.onTimelineRegionAdded(d)}.bind(this))};
m.lh=function(b,c,d){b=Dg(b,c,d,this.a.retryParameters);b=this.b.networkingEngine.request(1,b);ic(this.g,b);return b.promise.then(function(b){return b.data})};function Pg(b,c){return me(Dc(b,c))?"text":b.split("/")[0]}U.Xd("mpd",Eg);U.gc("application/dash+xml",Eg);U.gc("video/vnd.mpeg.dash.mpd",Eg);function Tg(b,c,d,e){this.b=b;this.type=c;this.a=d;this.segments=e||null}function Ug(b,c,d,e){this.id=b;this.name=c;this.a=d;this.value=void 0===e?null:e}Ug.prototype.toString=function(){function b(b){return b.name+"="+(isNaN(Number(b.value))?'"'+b.value+'"':b.value)}var c="#"+this.name,d=this.a?this.a.map(b):[];this.value&&d.unshift(this.value);0<d.length&&(c+=":"+d.join(","));return c};function Vg(b,c){this.name=b;this.value=c}
Ug.prototype.getAttribute=function(b){var c=this.a.filter(function(c){return c.name==b});return c.length?c[0]:null};function Wg(b,c,d){return(b=b.getAttribute(c))?b.value:d||null}function Xg(b,c){this.b=c;this.a=b};var Yg={Pb:function(b,c){return b.filter(function(b){return b.name==c})},xb:function(b,c){var d=Yg.Pb(b,c);return d.length?d[0]:null},ud:function(b,c,d){return b.filter(function(b){var e=b.getAttribute("TYPE");b=b.getAttribute("GROUP-ID");return e.value==c&&b.value==d})},od:function(b,c){return Ld([b],[c])[0]},Dd:function(b){return/^#(?!EXT)/m.test(b)}};function Zg(b){this.b=b;this.a=0}function $g(b){ah(b,/[ \t]+/gm)}function ah(b,c){c.lastIndex=b.a;var d=c.exec(b.b);d=null==d?null:{position:d.index,length:d[0].length,oh:d};if(b.a==b.b.length||null==d||d.position!=b.a)return null;b.a+=d.length;return d.oh}function bh(b){return b.a==b.b.length?null:(b=ah(b,/[^ \t\n]*/gm))?b[0]:null};function ch(){this.a=0}
function dh(b,c,d){c=Qc(c);c=c.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var e=c.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(e[0]))throw new G(2,4,4015);c=0;for(var f=1;f<e.length;f++)if(!Yg.Dd(e[f])){var g=eh(b,e[f]);--b.a;if(fh.includes(g.name)){c=1;break}else"EXT-X-STREAM-INF"==g.name&&(f+=1)}f=[];for(g=1;g<e.length;)if(Yg.Dd(e[g]))g+=1;else{var h=eh(b,e[g]);if(gh.includes(h.name)){if(1!=c)throw new G(2,4,4017);e=e.splice(g,e.length-g);b=hh(b,d,e,f);return new Tg(d,c,f,b)}f.push(h);g+=1;"EXT-X-STREAM-INF"==
h.name&&(h.a.push(new Vg("URI",e[g])),g+=1)}return new Tg(d,c,f)}function hh(b,c,d,e){var f=[],g=[];d.forEach(function(d){if(/^(#EXT)/.test(d))d=eh(b,d),fh.includes(d.name)?e.push(d):g.push(d);else{if(Yg.Dd(d))return[];d=Yg.od(c,d.trim());f.push(new Xg(d,g));g=[]}});return f}
function eh(b,c){var d=b.a++,e=c.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!e)throw new G(2,4,4016,c);var f=e[1],g=e[2];e=[];var h;if(g){g=new Zg(g);var k;(k=ah(g,/^([^,=]+)(?:,|$)/g))&&(h=k[1]);for(var l=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;k=ah(g,l);)e.push(new Vg(k[1],k[2]||k[3]))}return new Ug(d,f,e,h)}var fh="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),gh="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function ih(b){try{var c=ih.parse(b);return Yb({uri:b,Ud:b,data:c.data,headers:{"content-type":c.contentType}})}catch(d){return Wb(d)}}A("shaka.net.DataUriPlugin",ih);
ih.parse=function(b){var c=b.split(":");if(2>c.length||"data"!=c[0])throw D.error("Bad data URI, failed to parse scheme"),new G(2,1,1004,b);c=c.slice(1).join(":").split(",");if(2>c.length)throw D.error("Bad data URI, failed to extract encoding and MIME type"),new G(2,1,1004,b);var d=c[0];b=window.decodeURIComponent(c.slice(1).join(","));c=d.split(";");d=c[0];var e=!1;1<c.length&&"base64"==c[c.length-1]&&(e=!0,c.pop());return{data:e?M.Za(b).buffer:Tc(b),contentType:d}};kc("data",ih);function jh(){var b=this;this.a=this.f=null;this.Z=1;this.H=new Map;this.O=new Set;this.b=new Map;this.c=null;this.B="";this.w=new ch;this.L=0;this.j=new F(function(){kh(b)});this.g=lh;this.v=null;this.G=0;this.J=Infinity;this.l=new hc;this.K=[];this.s=new Map;this.Y=!1}A("shaka.hls.HlsParser",jh);m=jh.prototype;m.configure=function(b){this.a=b};
m.start=function(b,c){var d=this;return u(function f(){var g,h;return x(f,function(f){switch(f.o){case 1:return d.f=c,v(f,mh(d,lc([b],d.a.retryParameters),0),2);case 2:return g=f.A,d.B=g.uri,v(f,nh(d,g.data),3);case 3:return h=d.L,0<h&&d.j.R(h),f["return"](d.v)}})})};m.stop=function(){this.j&&(this.j.stop(),this.j=null);var b=[];this.l&&(b.push(this.l.destroy()),this.l=null);this.a=this.f=null;this.H.clear();this.O.clear();this.b.clear();this.v=null;return Promise.all(b)};
m.update=function(){if(this.g!=oh.ub){for(var b=[],c=r(this.b.values()),d=c.next();!d.done;d=c.next())b.push(ph(this,d.value));return Promise.all(b)}};
function ph(b,c){return u(function e(){var f,g,h,k,l,n,p,q,t,y,C;return x(e,function(e){switch(e.o){case 1:return f=Yg,g=oh,h=c.Jf,v(e,mh(b,lc([h],b.a.retryParameters),0),2);case 2:k=e.A;l=dh(b.w,k.data,k.uri);if(1!=l.type)throw new G(2,4,4017);p=(n=f.xb(l.a,"EXT-X-MEDIA-SEQUENCE"))?Number(n.value):0;q=c.stream;return v(e,qh(b,c.jd,l,p,q.mimeType,q.codecs),3);case 3:t=e.A;c.zc.a=t;y=t[t.length-1];if(C=f.xb(l.a,"EXT-X-ENDLIST"))rh(b,g.ub),b.c.Ua(y.endTime);w(e)}})})}m.onExpirationUpdated=function(){};
function nh(b,c){return u(function e(){var f,g,h,k,l,n,p,q,t,y,C;return x(e,function(e){switch(e.o){case 1:f=dh(b.w,c,b.B);if(0!=f.type)throw new G(2,4,4022);return v(e,sh(b,f),2);case 2:g=e.A;if(!b.f)throw new G(2,7,7001);if(b.Y&&0==g.variants.length)throw D.info("No stream is created, because we don't support AES-128","encryption yet"),new G(2,4,4034);b.f.filterAllPeriods([g]);h=Infinity;k=0;l=Infinity;for(var H=r(b.b.values()),z=H.next();!z.done;z=H.next())n=z.value,h=Math.min(h,n.Ld),k=Math.max(k,
n.Ld),"text"!=n.stream.type&&(l=Math.min(l,n.duration));b.g!=oh.ub?(b.c=new V(0,3*b.G),b.c.Bc(!1)):(b.c=new V(null,0),b.c.Bc(!0));th(b);if(b.g!=oh.ub){b.L=b.J;p=oh;b.g==p.ve&&(q=b.c.ad,isNaN(b.a.availabilityWindowOverride)||(q=b.a.availabilityWindowOverride),b.c.ie(q));for(t=0;95443.7176888889<=k;)t+=95443.7176888889,k-=95443.7176888889;if(t)for(D.debug("Offsetting live streams by",t,"to compensate for rollover"),H=r(b.b.values()),z=H.next();!z.done;z=H.next())y=z.value,95443.7176888889>y.Ld?(D.I("Offset applied to",
y.stream.type),y.stream.presentationTimeOffset=-t,y.zc.offset(t)):D.I("Offset NOT applied to",y.stream.type)}else for(b.c.Ua(l),b.c.offset(-h),H=r(b.b.values()),z=H.next();!z.done;z=H.next())C=z.value,C.stream.presentationTimeOffset=h,C.zc.offset(-h),gg(C.zc,l);b.v={presentationTimeline:b.c,periods:[g],offlineSessionIds:[],minBufferTime:0};w(e)}})})}
function sh(b,c){return u(function e(){var f,g,h,k,l,n,p,q,t,y,C,z;return x(e,function(e){switch(e.o){case 1:return f=Yg,g=Kd,h=c.a,k=f.Pb(c.a,"EXT-X-MEDIA"),l=k.filter(function(b){return"SUBTITLES"==uh(b,"TYPE")}.bind(b)),n=l.map(function(b){var c=this;return u(function ja(){var e;return x(ja,function(f){switch(f.o){case 1:if(c.a.disableText)return f["return"](null);xa(f,2);return v(f,vh(c,b),4);case 4:return f["return"](f.A);case 2:e=Da(f);if(c.a.hls.ignoreTextStreamFailures)return f["return"](null);
throw e;}})})}.bind(b)),p=k.filter(function(b){return"CLOSED-CAPTIONS"==uh(b,"TYPE")}),wh(b,p),v(e,Promise.all(n),2);case 2:return q=e.A,t=f.Pb(h,"EXT-X-STREAM-INF"),y=t.map(function(b){return xh(this,b,c)}.bind(b)),v(e,Promise.all(y),3);case 3:return C=e.A,z=C.reduce(g.nd,[]),z=z.filter(function(b){return null!=b}),e["return"]({startTime:0,variants:z,textStreams:q.filter(function(b){return null!=b})})}})})}
function xh(b,c,d){return u(function f(){var g,h,k,l,n,p,q,t,y,C,z,H,I,T,Aa,ja,fb,Qa,ta,gb,na,Ba,Ra,Wa,Ca,hb,xb,Xa,Mb;return x(f,function(f){switch(f.o){case 1:g=Nd;h=Yg;k=[];b.a.disableVideo||k.push("avc1.42E01E");b.a.disableAudio||k.push("mp4a.40.2");l=k.join(",");n=Wg(c,"CODECS",l);p=yh(n.split(/\s*,\s*/));q=c.getAttribute("RESOLUTION");y=t=null;C=Wg(c,"FRAME-RATE");z=Number(uh(c,"BANDWIDTH"));q&&(H=q.value.split("x"),t=H[0],y=H[1]);I=h.Pb(d.a,"EXT-X-MEDIA");I=I.filter(function(b){return"CLOSED-CAPTIONS"!=
uh(b,"TYPE")});I=I.filter(function(b){var c=Wg(b,"URI")||"";return"SUBTITLES"==(Wg(b,"TYPE")||"")||""!=c});T=Wg(c,"AUDIO");Aa=Wg(c,"VIDEO");T?I=h.ud(I,"AUDIO",T):Aa&&(I=h.ud(I,"VIDEO",Aa));if(ja=zh(g.Oa,p)){if(fb=Wg(c,"SUBTITLES"))if(Qa=h.ud(I,"SUBTITLES",fb),Qa.length&&(ta=b.H.get(Qa[0].id)))ta.stream.codecs=ja;dc(p,ja)}gb=I.map(function(b){return Ah(this,b,p)}.bind(b));na=[];Ba=[];return v(f,Promise.all(gb),2);case 2:Wa=f.A;Wa=Wa.filter(function(b){return null!=b});T?na=Wa:Aa&&(Ba=Wa);D.debug("Guessing stream type for",
c.toString());hb=!1;na.length||Ba.length?na.length?(Xa=uh(c,"URI"),Mb=na[0].jd,Xa==Mb?(D.debug("Guessing audio-only."),Ca=g.jc,hb=!0):(D.debug("Guessing video."),Ca=g.tb)):(D.debug("Guessing audio."),Ca=g.jc):1==p.length?(xb=zh(g.tb,p),q||C||xb?(D.debug("Guessing video-only."),Ca=g.tb):(D.debug("Guessing audio-only."),Ca=g.jc)):(D.debug("Guessing multiplexed audio+video."),Ca=g.tb,p=[p.join(",")]);if(hb){f.C(3);break}return v(f,Bh(b,c,p,Ca),4);case 4:Ra=f.A;case 3:if(Ra)Ra.stream.type==g.jc?na=[Ra]:
Ba=[Ra];else if(null===Ra)return D.debug("streamInfo is null"),f["return"]([]);Ba&&Ch(Ba);na&&Ch(na);return f["return"](Dh(b,na,Ba,z,t,y,C))}})})}function Ch(b){b.forEach(function(b){if(b){var c=b.stream.codecs.split(",");c=c.filter(function(b){return"mp4a.40.34"!=b});b.stream.codecs=c.join(",")}})}
function Dh(b,c,d,e,f,g,h){d.forEach(function(b){if(b=b.stream)b.width=Number(f)||void 0,b.height=Number(g)||void 0,b.frameRate=Number(h)||void 0}.bind(b));var k=b.a?b.a.disableAudio:!1;if(!c.length||k)c=[null];k=b.a?b.a.disableVideo:!1;if(!d.length||k)d=[null];k=[];c=r(c);for(var l=c.next();!l.done;l=c.next()){l=l.value;for(var n=r(d),p=n.next();!p.done;p=n.next()){var q=p.value;p=l?l.stream:null;var t=q?q.stream:null,y=l?l.drmInfos:null,C=q?q.drmInfos:null;q=(q?q.jd:"")+" - "+(l?l.jd:"");var z=
void 0;if(p&&t)if(y.length&&C.length?0<Bd(y,C).length:1)z=Bd(y,C);else{D.u("Incompatible DRM info in HLS variant.  Skipping.");continue}else p?z=y:t&&(z=C);b.O.has(q)?D.debug("Skipping variant which only differs in text streams."):(p=Eh(b,p,t,e,z),k.push(p),b.O.add(q))}}return k}function Eh(b,c,d,e,f){return{id:b.Z++,language:c?c.language:"und",primary:!!c&&c.primary||!!d&&d.primary,audio:c,video:d,bandwidth:e,drmInfos:f,allowedByApplication:!0,allowedByKeySystem:!0}}
function vh(b,c){return u(function e(){var f;return x(e,function(e){switch(e.o){case 1:return uh(c,"TYPE"),v(e,Ah(b,c,[]),2);case 2:return f=e.A,e["return"](f.stream)}})})}function wh(b,c){for(var d=r(c),e=d.next();!e.done;e=d.next()){e=e.value;uh(e,"TYPE");var f=Wg(e,"LANGUAGE")||"und";f=E(f);var g=uh(e,"GROUP-ID");e=uh(e,"INSTREAM-ID");b.s.get(g)||b.s.set(g,new Map);b.s.get(g).set(e,f)}}
function Ah(b,c,d){return u(function f(){var g,h,k,l,n,p,q,t,y,C,z;return x(f,function(f){switch(f.o){case 1:g=uh(c,"URI");if(b.b.has(g))return f["return"](b.b.get(g));h=uh(c,"TYPE").toLowerCase();k=Nd;"subtitles"==h&&(h=k.Oa);l=E(Wg(c,"LANGUAGE","und"));n=Wg(c,"NAME");p=c.getAttribute("DEFAULT");q="YES"==p;t=Wg(c,"CHANNELS");if("audio"==h)if(t){var H=t.split("/")[0];H=parseInt(H,10)}else H=null;else H=null;y=H;C=Wg(c,"CHARACTERISTICS");return v(f,Fh(b,g,d,h,l,q,n,y,null,C),2);case 2:z=f.A;if(b.b.has(g))return f["return"](b.b.get(g));
if(null==z)return f["return"](null);b.H.set(c.id,z);b.b.set(g,z);return f["return"](z)}})})}
function Bh(b,c,d,e){return u(function g(){var h,k,l,n,p;return x(g,function(g){switch(g.o){case 1:h=Nd;k=uh(c,"URI");if(b.b.has(k))return g["return"](b.b.get(k));l=Wg(c,"CLOSED-CAPTIONS");n=null;e==h.tb&&l&&"NONE"!=l&&(n=b.s.get(l));return v(g,Fh(b,k,d,e,"und",!1,null,null,n,null),2);case 2:p=g.A;if(null==p)return g["return"](null);if(b.b.has(k))return g["return"](b.b.get(k));b.b.set(k,p);return g["return"](p)}})})}
function Fh(b,c,d,e,f,g,h,k,l,n){return u(function q(){var t,y,C,z,H,I,T,Aa,ja,fb,Qa,ta,gb,na,Ba,Ra,Wa,Ca,hb,xb,Xa,Mb,Nb,Ob,yb,La,zb;return x(q,function(q){switch(q.o){case 1:return t=Yg,y=t.od(b.B,c),v(q,mh(b,lc([y],b.a.retryParameters),0),2);case 2:C=q.A;y=C.uri;z=dh(b.w,C.data,y);if(1!=z.type)throw new G(2,4,4017);H=[];z.segments.forEach(function(b){b=t.Pb(b.b,"EXT-X-KEY");H.push.apply(H,b)});I=!1;T=[];Aa=null;for(var Ya=r(H),Ja=Ya.next();!Ja.done;Ja=Ya.next())if(ja=Ja.value,fb=uh(ja,"METHOD"),
"NONE"!=fb){I=!0;if("AES-128"==fb)return D.u("Unsupported HLS Encryption",fb),b.Y=!0,q["return"](null);Qa=uh(ja,"KEYFORMAT");(gb=(ta=Gh[Qa])?ta(ja):null)?(gb.keyIds.length&&(Aa=gb.keyIds[0]),T.push(gb)):D.u("Unsupported HLS KEYFORMAT",Qa)}if(I&&!T.length)throw new G(2,4,4026);Hh(b,z);na=Ih(e,d);return v(q,Jh(b,e,na,z),3);case 3:return Ba=q.A,Kh.includes(Ba)&&(na=""),Wa=(Ra=t.xb(z.a,"EXT-X-MEDIA-SEQUENCE"))?Number(Ra.value):0,xa(q,4),v(q,qh(b,c,z,Wa,Ba,na),6);case 6:Ca=q.A;za(q,5);break;case 4:hb=
Da(q);if(4035==hb.code)return D.ba("Skipping unsupported HLS stream",Ba,c),q["return"](null);throw hb;case 5:return xb=Ca[0].startTime,Xa=Ca[Ca.length-1].endTime,Mb=Xa-xb,Nb=new fg(Ca),Ob=Lh(z),yb=void 0,"text"==e&&(yb="subtitle"),La=[],n&&La.push(n),zb={id:b.Z++,originalId:h,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:Nb.find.bind(Nb),getSegmentReference:Nb.get.bind(Nb),initSegmentReference:Ob,presentationTimeOffset:0,mimeType:Ba,codecs:na,kind:yb,encrypted:I,keyId:Aa,language:f,
label:h,type:e,primary:g,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:La,channelsCount:k,audioSamplingRate:null,closedCaptions:l},q["return"]({stream:zb,zc:Nb,drmInfos:T,jd:c,Jf:y,Ld:xb,Ph:Xa,duration:Mb})}})})}
function Hh(b,c){var d=oh,e=Yg.xb(c.a,"EXT-X-PLAYLIST-TYPE"),f=Yg.xb(c.a,"EXT-X-ENDLIST");f=e&&"VOD"==e.value||f;e=e&&"EVENT"==e.value&&!f;e=!f&&!e;f?rh(b,d.ub):(e?rh(b,d.ve):rh(b,d.Df),d=Mh(c.a,"EXT-X-TARGETDURATION"),d=Number(d.value),b.G=Math.max(d,b.G),b.J=Math.min(d,b.J))}
function Lh(b){var c=Yg.Pb(b.a,"EXT-X-MAP");if(!c.length)return null;if(1<c.length)throw new G(2,4,4020);c=c[0];var d=uh(c,"URI"),e=Yg.od(b.b,d);b=0;d=null;if(c=Wg(c,"BYTERANGE"))b=c.split("@"),c=Number(b[0]),b=Number(b[1]),d=b+c-1;return new cg(function(){return[e]},b,d)}
function Nh(b,c,d,e){var f=c.b,g=c.a;c=Mh(f,"EXTINF").value.split(",");c=e+Number(c[0]);var h=0,k=null;if(f=Yg.xb(f,"EXT-X-BYTERANGE"))h=f.value.split("@"),f=Number(h[0]),h=h[1]?Number(h[1]):b.a+1,k=h+f-1;return new S(d,e,c,function(){return[g]},h,k)}function th(b){b.c&&(b.K.forEach(function(c){b.c.$b(c,0)}),b.K=[])}
function qh(b,c,d,e,f,g){return u(function k(){var l,n,p,q,t,y,C,z,H,I,T;return x(k,function(k){switch(k.o){case 1:return l=d.segments,n=[],p=l[0].a,q=Nh(null,l[0],e,0),t=Lh(d),v(k,Oh(b,c,t,q,f,g),2);case 2:y=k.A;D.debug("First segment",p.split("/").pop(),"starts at",y);for(var ja=0;ja<l.length;++ja)C=l[ja],z=n[n.length-1],H=0==ja?y:z.endTime,I=e+ja,T=Nh(z,C,I,H),n.push(T);b.K.push(n);th(b);return k["return"](n)}})})}
function Ph(b,c){return u(function e(){var f,g,h,k,l,n;return x(e,function(e){switch(e.o){case 1:f=1;g=Dg(c.c(),c.b,c.b+2048-1,b.a.retryParameters);h=Dg(c.c(),c.b,c.a,b.a.retryParameters);if(b.a.hls.useFullSegmentsForStartTime)return e["return"](mh(b,h,f));xa(e,2);return v(e,mh(b,g,f),4);case 4:return k=e.A,e["return"](k);case 2:l=Da(e);if(7001==l.code)throw l;D.ba("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",
g.uris[0]);return v(e,mh(b,h,f),5);case 5:return n=e.A,e["return"](n)}})})}
function Oh(b,c,d,e,f,g){return u(function k(){var l,n,p,q,t,y,C,z,H;return x(k,function(k){switch(k.o){case 1:if(b.v){l=b.b.get(c);n=l.zc;if(p=n.get(e.position))return D.I("Found segment start time in previous manifest"),k["return"](p.startTime);D.debug("Unable to find segment start time in previous manifest!")}D.I("Fetching segment to find start time");f=f.toLowerCase();if(Kh.includes(f))throw D.ba("Raw formats are not yet supported.  Skipping "+f),new G(1,4,4035);if("video/webm"==f)throw D.ba("WebM in HLS is not yet supported.  Skipping."),
new G(1,4,4035);if("video/mp4"!=f&&"audio/mp4"!=f){k.C(2);break}q=[Ph(b,e)];d&&q.push(Ph(b,d));return v(k,Promise.all(q),3);case 3:return t=k.A,y=t[0],C=t[1]||t[0],k["return"](Qh(c,y.uri,y.data,C.data));case 2:if("video/mp2t"!=f){k.C(4);break}return v(k,Ph(b,e),5);case 5:return z=k.A,k["return"](Rh(c,z.uri,z.data));case 4:if("application/mp4"!=f&&!f.startsWith("text/")){k.C(6);break}return v(k,Ph(b,e),7);case 7:return H=k.A,k["return"](Sh(f,g,H.data));case 6:throw new G(2,4,4030,c);}})})}
function Qh(b,c,d,e){var f=0;(new Q).P("moov",Jf).P("trak",Jf).P("mdia",Jf).za("mdhd",function(b){b.reader.V(0==b.version?8:16);f=b.reader.M();b.parser.stop()}).parse(e,!0);if(!f)throw D.error("Unable to find timescale in init segment!"),new G(2,4,4030,b,c);var g=0,h=!1;(new Q).P("moof",Jf).P("traf",Jf).za("tfdt",function(b){g=(0==b.version?b.reader.M():b.reader.fc())/f;h=!0;b.parser.stop()}).parse(d,!0);if(!h)throw new G(2,4,4030,b,c);return g}
function Rh(b,c,d){function e(){g.seek(h+188);k=g.Ea();71!=k&&(g.seek(h+192),k=g.Ea());71!=k&&(g.seek(h+204),k=g.Ea());71!=k&&f();g.nf(1)}function f(){throw new G(2,4,4030,b,c);}for(var g=new P(new DataView(d),0),h=0,k=0;;)if(h=g.va(),k=g.Ea(),71!=k&&f(),d=g.xc(),8191==(d&8191))e();else if(d&16384)if(d=(g.Ea()&48)>>4,0!=d&&2!=d||f(),3==d&&(d=g.Ea(),g.V(d)),1!=g.M()>>8)e();else{g.V(3);d=g.Ea()>>6;0!=d&&1!=d||f();0==g.Ea()&&f();d=g.Ea();var l=g.xc(),n=g.xc();return(1073741824*((d&14)>>1)+((l&65534)<<
14|(n&65534)>>1))/9E4}else e()}function Sh(b,c,d){b=Dc(b,c);if(!me(b))return 0;c=new ke(null);ne(c,b);return c.Rc(d)}function yh(b){var c=new Set,d=[];b=r(b);for(var e=b.next();!e.done;e=b.next()){e=e.value;var f=Gc(e)[0];c.has(f)?D.debug("Ignoring duplicate codec"):(d.push(e),c.add(f))}return d}function zh(b,c){for(var d=Th[b],e=0;e<d.length;e++)for(var f=0;f<c.length;f++)if(d[e].test(c[f].trim()))return c[f].trim();return"text"==b?"":null}
function Ih(b,c){if(1==c.length)return c[0];var d=zh(b,c);if(null!=d)return d;throw new G(2,4,4025,c);}
function Jh(b,c,d,e){return u(function g(){var h,k,l,n,p,q,t,y,C;return x(g,function(g){switch(g.o){case 1:h=Nd;k=e.segments[0].a;l=new Bb(k);n=l.Ca.split(".").pop();p=Uh[c];if(q=p[n])return g["return"](q);if(c==h.Oa)return d&&"vtt"!=d&&"wvtt"!=d?g["return"]("application/mp4"):g["return"]("text/vtt");t=lc([k],b.a.retryParameters);t.method="HEAD";return v(g,mh(b,t,1),2);case 2:y=g.A;C=y.headers["content-type"];if(!C)throw new G(2,4,4021,n);return g["return"](C.split(";")[0])}})})}
function uh(b,c){var d=b.getAttribute(c);if(!d)throw new G(2,4,4023,c);return d.value}function Mh(b,c){var d=Yg.xb(b,c);if(!d)throw new G(2,4,4024,c);return d}
var Th={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Kh=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],Uh={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",
m4s:"application/mp4",m4i:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function kh(b){u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:D.info("Updating manifest...");if(!b.f)return d["return"]();xa(d,2);return v(d,b.update(),4);case 4:e=b.L;b.j.R(e);za(d,0);break;case 2:f=Da(d);if(!b.f)return d["return"]();f.severity=1;b.f.onError(f);b.j.R(.1);w(d)}})})}function rh(b,c){b.g=c;b.c&&b.c.Bc(b.g==oh.ub);b.g!=oh.ub||b.j.stop()}
function mh(b,c,d){if(!b.l)throw new G(2,7,7001);c=b.f.networkingEngine.request(d,c);ic(b.l,c);return c.promise}
var Gh={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(b){var c=uh(b,"METHOD");Ke("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227");var d=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(!d.includes(c))return D.error("Widevine in HLS is only supported with [",d.join(", "),"], not",c),null;c=uh(b,"URI");c=ih.parse(c);c=new Uint8Array(c.data);c=Md("com.widevine.alpha",[{initDataType:"cenc",initData:c}]);if(b=Wg(b,"KEYID"))c.keyIds=[b.toLowerCase().substr(2)];
return c}},lh="VOD",oh={ub:lh,Df:"EVENT",ve:"LIVE"};U.Xd("m3u8",jh);U.gc("application/x-mpegurl",jh);U.gc("application/vnd.apple.mpegurl",jh);function Vh(){this.a=new Map}function Wh(b,c,d){Xh(b,c).text=d}function Xh(b,c){b.a.has(c)||b.a.set(c,new Yh);return b.a.get(c)}function Yh(){this.text=this.variant=null};function Zh(b,c){this.a=b;this.b=new Set([b]);c=c||[];for(var d=r(c),e=d.next();!e.done;e=d.next())this.add(e.value)}Zh.prototype.add=function(b){if($h(this.a,b))return this.b.add(b),!0;D.u("Rejecting variant - not compatible with root.");return!1};
function $h(b,c){var d;if(!(d=!!b.audio!=!!c.audio||!!b.video!=!!c.video||b.language!=c.language)&&(d=b.audio&&c.audio)){d=b.audio;var e=c.audio;d=!(d.channelsCount==e.channelsCount&&ai(d,e)&&bi(d.roles,e.roles))}!d&&(d=b.video&&c.video)&&(d=b.video,e=c.video,d=!(ai(d,e)&&bi(d.roles,e.roles)));return d?!1:!0}Zh.prototype.values=function(){return this.b.values()};
function ai(b,c){if(b.mimeType!=c.mimeType)return!1;var d=b.codecs.split(",").map(function(b){return Gc(b)[0]}),e=c.codecs.split(",").map(function(b){return Gc(b)[0]});if(d.length!=e.length)return!1;d.sort();e.sort();for(var f=0;f<d.length;f++)if(d[f]!=e[f])return!1;return!0}function bi(b,c){var d=new Set(b),e=new Set(c);d["delete"]("main");e["delete"]("main");if(d.size!=e.size)return!1;d=r(d);for(var f=d.next();!f.done;f=d.next())if(!e.has(f.value))return!1;return!0};function ci(b){this.a=b;this.b=new di(b.language,"",b.audio&&b.audio.channelsCount?b.audio.channelsCount:0,"")}ci.prototype.create=function(b){var c=this,d=b.filter(function(b){return $h(c.a,b)});return d.length?new Zh(d[0],d):this.b.create(b)};function di(b,c,d,e,f){this.f=b;this.c=c;this.a=d;this.b=void 0===e?"":e;this.g=void 0===f?"":f}
di.prototype.create=function(b){var c=[];c=ei(b,this.f);var d=b.filter(function(b){return b.primary});c=c.length?c:d.length?d:b;this.c&&(b=fi(c,this.c,this.g),b.length?c=b:D.u("No exact match for variant role could be found."));this.a&&(b=N.Ie(c,this.a),b.length?c=b:D.u("No exact match for the channel count could be found."));this.b&&(b=gi(c,this.b),b.length?c=b:D.u("No exact match for variant label could be found."));b=new Zh(c[0]);c=r(c);for(d=c.next();!d.done;d=c.next())d=d.value,$h(b.a,d)&&b.add(d);
return b};function ei(b,c){var d=E(c),e=ob(d,b.map(function(b){return nb(b)}));return e?b.filter(function(b){return e==nb(b)}):[]}function fi(b,c,d){return b.filter(function(b){if(d){var e=b[d];return e&&e.roles.includes(c)}e=b.audio;b=b.video;return e&&0<=e.roles.indexOf(c)||b&&0<=b.roles.indexOf(c)})}function gi(b,c){return b.filter(function(b){return b.audio?b.audio.label.toLowerCase()==c.toLowerCase():!1})};function hi(){this.a=ii;this.b=(new Map).set(ii,2).set(ji,1)}function ki(b,c,d){b.b.set(ii,d).set(ji,c)}var ji=0,ii=1;function li(b,c){this.g=b;this.j=mi(b);this.a=b.a.currentTime;this.f=Date.now()/1E3;this.b=!1;this.l=c;this.c=function(){}}li.prototype.release=function(){this.g=null;this.c=function(){}};function ni(b,c){b.c=c}function oi(b){this.a=b}function mi(b){if(b.a.paused||0==b.a.playbackRate||0==b.a.buffered.length)var c=!1;else a:{c=b.a.buffered;b=b.a.currentTime;for(var d=0;d<c.length;d++){var e=c.start(d),f=c.end(d);if(!(b<e-.1||b>f-.5)){c=!0;break a}}c=!1}return c};function pi(b,c,d,e,f){var g=this;this.a=b;this.B=c;this.w=d;this.s=f;this.f=new L;this.l=!1;this.v=b.readyState;this.c=!1;this.b=e;this.j=!1;this.f.m(b,"waiting",function(){return qi(g)});this.g=(new F(function(){qi(g)})).Ia(.25)}pi.prototype.release=function(){this.f&&(this.f.release(),this.f=null);null!=this.g&&(this.g.stop(),this.g=null);this.b&&(this.b.release(),this.b=null);this.a=this.B=this.s=null};pi.prototype.Sd=function(){this.j=!0;qi(this)};
function qi(b){if(0!=b.a.readyState){if(b.a.seeking){if(!b.l)return}else b.l=!1;if(!b.a.paused){b.a.readyState!=b.v&&(b.c=!1,b.v=b.a.readyState);var c;if(!(c=!b.b)){c=b.b;var d=c.g,e=mi(d),f=d.a.currentTime,g=Date.now()/1E3;if(c.a!=f||c.j!=e)c.f=g,c.a=f,c.j=e,c.b=!1;f=g-c.f;if(e=f>=c.l&&e&&!c.b)c.c(c.a,f),c.b=!0,c.a=d.a.currentTime;c=!e}if(c){g=b.w.smallGapLimit;c=b.a.currentTime;d=b.a.buffered;a:{if(d&&d.length&&!(1==d.length&&1E-6>d.end(0)-d.start(0)))for(e=Kc()||Mc("Trident/")||Mc("Tizen")||Mc("CrKey")?
.5:.1,f=0;f<d.length;f++)if(d.start(f)>c&&(0==f||d.end(f-1)-c<=e)){e=f;break a}e=null}if(null!=e&&(0!=e||b.j)){f=d.start(e);var h=b.B.ab();if(!(f>=h)){h=f-c;g=h<=g;var k=!1;if(!(.001>h)){if(!g&&!b.c){b.c=!0;var l=new B("largegap",{currentTime:c,gapSize:h});l.cancelable=!0;b.s(l);b.w.jumpLargeGaps&&!l.defaultPrevented?k=!0:D.info("Ignoring large gap at",c,"size",h)}if(g||k)0==e?D.info("Jumping forward",h,"seconds because of gap before start time of",f):D.info("Jumping forward",h,"seconds because of gap starting at",
d.end(e-1),"and ending at",f),b.a.currentTime=f}}}}}}};function ri(b){var c=this;this.c=b;this.a=new Set;this.b=(new F(function(){si(c,!1)})).Ia(.25)}ri.prototype.release=function(){this.b.stop();for(var b=r(this.a),c=b.next();!c.done;c=b.next())c.value.release();this.a.clear()};function si(b,c){for(var d=r(b.a),e=d.next();!e.done;e=d.next())e.value.g(b.c.currentTime,c)};function ti(b){var c=[];b=r(b);for(var d=b.next();!d.done;d=b.next()){d=r(d.value.variants);for(var e=d.next();!e.done;e=d.next())c.push(e.value)}return c}function ui(b,c){for(var d=null,e=r(b),f=e.next();!f.done;f=e.next())f=f.value,c>=f.startTime&&(d=f);return d};function vi(b){this.c=b;this.a=null;this.b=function(){}}vi.prototype.release=function(){this.a=this.c=null;this.b=function(){}};vi.prototype.g=function(b){var c=this.a,d=this.c.periods;b=ui(d,b)||d[0];c!=b&&this.b(b);this.a=b};function wi(b,c){b.b=c};function xi(b){var c=this;this.a=b;this.f=!1;this.c=this.a.Qc();this.b=new F(function(){c.a.Ue(.25*c.c)})}xi.prototype.release=function(){this.b&&(this.b.stop(),this.b=null);this.a=null};xi.prototype.set=function(b){this.c=b;yi(this)};function yi(b){b.b.stop();var c=b.f?0:b.c;if(0<=c)try{b.a.Qc()!=c&&b.a.fe(c);return}catch(d){}b.b.Ia(.25);0!=b.a.Qc()&&b.a.fe(0)};/*

 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function zi(b,c,d,e){c==HTMLMediaElement.HAVE_NOTHING||b.readyState>=c?e():(c=Ai.get(c),d.Ha(b,c,e))}var Ai=new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Bi(b,c,d){var e=this;this.a=b;this.g=c;this.f=d;this.j=!1;this.b=new L;this.c=new Ci(b);zi(this.a,HTMLMediaElement.HAVE_METADATA,this.b,function(){Di(e,e.f)})}Bi.prototype.release=function(){this.b&&(this.b.release(),this.b=null);null!=this.c&&(this.c.release(),this.c=null);this.g=function(){};this.a=null};function Ei(b){return b.j?b.a.currentTime:b.f}function Fi(b,c){0<b.a.readyState?Gi(b.c,c):zi(b.a,HTMLMediaElement.HAVE_METADATA,b.b,function(){Di(b,b.f)})}
function Di(b,c){.001>Math.abs(b.a.currentTime-c)?Hi(b):(b.b.Ha(b.a,"seeking",function(){Hi(b)}),Gi(b.c,0==b.a.currentTime?c:b.a.currentTime))}function Hi(b){b.j=!0;b.b.m(b.a,"seeking",function(){return b.g()})}function Ci(b){var c=this;this.b=b;this.j=10;this.g=this.c=this.f=0;this.a=new F(function(){0>=c.f?(D.u(["Failed to move playhead from",c.c,"to",c.g].join(" ")),c.a.stop()):c.b.currentTime!=c.c?c.a.stop():(c.b.currentTime=c.g,c.f--)})}
Ci.prototype.release=function(){this.a&&(this.a.stop(),this.a=null);this.b=null};function Gi(b,c){b.c=b.b.currentTime;b.g=c;b.f=b.j;b.b.currentTime=c;b.a.Ia(.1)};function Ii(b){function c(){null==d.c?d.f=!0:(d.b.Ha(d.a,"seeking",function(){d.f=!0}),d.a.currentTime=Math.max(0,d.a.currentTime+d.c))}var d=this;this.a=b;this.f=!1;this.c=null;this.b=new L;zi(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,function(){c()})}Ii.prototype.release=function(){this.b&&(this.b.release(),this.b=null);this.a=null};Ii.prototype.v=function(b){this.c=this.f?this.c:b};Ii.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0};Ii.prototype.w=function(){};
function Ji(b,c,d,e,f,g){var h=this;this.c=b;this.a=c.presentationTimeline;this.G=c.minBufferTime||0;this.j=d;this.B=f;this.s=null;this.f=new pi(b,c.presentationTimeline,d,Ki(b,d),g);this.b=new Bi(b,function(){a:{var b=h.f;b.l=!0;b.j=!1;b.c=!1;b=Ei(h.b);var c=Li(h,b);if(.001<Math.abs(c-b)){var d=Date.now()/1E3;if(!h.s||h.s<d-1){h.s=d;Fi(h.b,c);b=void 0;break a}}D.I("Seek to "+b);h.B();b=void 0}return b},Mi(this,e));this.l=(new F(function(){if(0!=h.c.readyState&&!h.c.paused){var b=Ei(h.b),c=h.a.Rb(),
d=h.a.ab();3>d-c&&(c=d-3);b<c&&(c=Li(h,b),D.info("Jumping forward "+(c-b)+" seconds to catch up with the seek range."),h.c.currentTime=c)}})).Ia(.25)}Ji.prototype.release=function(){this.b&&(this.b.release(),this.b=null);this.f&&(this.f.release(),this.f=null);this.l&&(this.l.stop(),this.l=null);this.c=this.b=this.a=this.j=null;this.B=function(){}};Ji.prototype.v=function(b){Fi(this.b,b)};Ji.prototype.g=function(){var b=Ei(this.b);return 0<this.c.readyState&&!this.c.paused?Ni(this,b):b};
function Mi(b,c){null==c?c=Infinity>b.a.ra()?b.a.Rb():b.a.ab():0>c&&(c=b.a.ab()+c);return Oi(b,Ni(b,c))}Ji.prototype.w=function(){this.f.Sd()};function Oi(b,c){var d=b.a.ra();return c>=d?d-b.j.durationBackoff:c}
function Li(b,c){var d=Hd.bind(null,b.c.buffered),e=Math.max(b.G,b.j.rebufferingGoal),f=b.j.safeSeekOffset,g=b.a.Rb(),h=b.a.ab(),k=b.a.ra();3>h-g&&(g=h-3);var l=b.a.qc(e),n=b.a.qc(f);e=b.a.qc(e+f);if(c>=k)return D.I("Playhead past duration."),Oi(b,c);if(c>h)return D.I("Playhead past end."),h;if(c<g){if(d(n))return D.I("Playhead before start & start is buffered"),n;D.I("Playhead before start & start is unbuffered");return e}if(c>=l||d(c))return D.I("Playhead in safe region or in buffered region."),
c;D.I("Playhead outside safe region & in unbuffered region.");return e}function Ni(b,c){var d=b.a.Rb();if(c<d)return d;d=b.a.ab();return c>d?d:c}function Ki(b,c){if(!c.stallEnabled)return null;var d=c.stallSkip,e=new li(new oi(b),c.stallThreshold);ni(e,function(c,e){D.debug("Stall detected at "+c+" for "+e+" seconds.");d?(D.debug("Seeking forward "+d+" seconds to break stall."),b.currentTime+=d):(D.debug("Pausing and unpausing to break stall."),b.pause(),b.play())});return e};function Pi(b){var c=this;this.b=function(){};this.a=new Set;this.f=b;this.c=(new F(function(){for(var b=c.f(),e=r(c.a),f=e.next();!f.done;f=e.next())f=f.value,f.endTime<b.start&&c.a["delete"](f)})).Ia(2)}Pi.prototype.release=function(){this.b=function(){};this.a.clear();this.c.stop()};function Qi(b,c){b.b=c};function Ri(b){var c=this;this.j=b;this.f=new Map;this.a=function(){};this.b=function(){};this.c=function(){};this.l=[{Mb:null,Lb:Si,Ab:function(b,e){return c.a(b,e)}},{Mb:Ti,Lb:Si,Ab:function(b,e){return c.a(b,e)}},{Mb:Ui,Lb:Si,Ab:function(b,e){return c.a(b,e)}},{Mb:Si,Lb:Ti,Ab:function(b,e){return c.b(b,e)}},{Mb:Si,Lb:Ui,Ab:function(b,e){return c.b(b,e)}},{Mb:Ti,Lb:Ui,Ab:function(b,e){return c.c(b,e)}},{Mb:Ui,Lb:Ti,Ab:function(b,e){return c.c(b,e)}}]}
Ri.prototype.release=function(){this.j=null;this.f.clear();this.a=function(){};this.b=function(){};this.c=function(){}};Ri.prototype.g=function(b,c){for(var d=r(this.j.a),e=d.next();!e.done;e=d.next()){e=e.value;var f=this.f.get(e),g=b<e.startTime?Ti:b>e.endTime?Ui:Si;this.f.set(e,g);for(var h=r(this.l),k=h.next();!k.done;k=h.next())k=k.value,k.Mb==f&&k.Lb==g&&k.Ab(e,c)}};function Vi(b,c,d,e){b.a=c;b.b=d;b.c=e}var Ti=1,Si=2,Ui=3;function Wi(b,c){this.a=c;this.c=b;this.g=null;this.s=1;this.B=Promise.resolve();this.j=[];this.l=new Map;this.b=new Map;this.w=!1;this.J=null;this.H=this.f=this.v=!1;this.G=0}Wi.prototype.destroy=function(){var b=this;return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:e=[];for(var g=r(b.b.values()),k=g.next();!k.done;k=g.next())f=k.value,Xi(f),e.push(Yi(f));return v(d,Promise.all(e),2);case 2:b.b.clear(),b.l.clear(),b.a=null,b.c=null,b.B=null,b.j=null,b.g=null,b.f=!0,w(d)}})})};
Wi.prototype.configure=function(b){this.g=b;this.J=new Sb({maxAttempts:Math.max(b.retryParameters.maxAttempts,2),baseDelay:b.retryParameters.baseDelay,backoffFactor:b.retryParameters.backoffFactor,fuzzFactor:b.retryParameters.fuzzFactor,timeout:0},!0)};
Wi.prototype.start=function(){var b=this;return u(function d(){var e,f,g;return x(d,function(d){switch(d.o){case 1:return e=b.a.yb(),f=Zi(b,e),g=b.a.Ye(b.c.periods[f]),g.variant||g.text?v(d,$i(b,g.variant?g.variant.audio:null,g.variant?g.variant.video:null,g.text,e),2):(D.error("init: no Streams chosen"),d["return"](new G(2,5,5005)));case 2:if(b.f)return d["return"]();D.debug("init: completed initial Stream setup");b.a&&b.a.Og&&(D.I("init: calling onInitialStreamsSetup()..."),b.a.Og());w(d)}})})};
function aj(b){return bj(b,"audio")}function cj(b){return bj(b,"video")}function bj(b,c){var d=b.b.get(c);return d?d.mb||d.stream:null}
function dj(b,c){return u(function e(){var f,g,h,k,l,n,p,q,t,y;return x(e,function(e){switch(e.o){case 1:return f=Nd,v(e,De(b.a.U,f.Oa),2);case 2:return b.G++,b.H=!1,g=b.G,h=b.a.U,k=new Map,l=new Set,k.set(f.Oa,c),l.add(c),v(e,h.init(k,!1),3);case 3:return b.f?e["return"]():v(e,ej(b,l),4);case 4:if(b.f)return e["return"]();p=(n=b.a.U.g.isTextVisible())||b.g.alwaysStreamText;b.G!=g||b.b.has(f.Oa)||b.H||!p||(q=b.a.yb(),t=Zi(b,q),y=fj(c,t,0),b.b.set(f.Oa,y),gj(b,y,0));w(e)}})})}
function hj(b){b.H=!0;var c=b.b.get("text");c&&(Xi(c),Yi(c)["catch"](function(){}),b.b["delete"]("text"))}function ij(b,c){var d=b.b.get("video");if(d){var e=d.stream;if(e)if(D.debug("setTrickPlay",c),c){var f=e.trickModeVideo;f&&!d.mb&&(D.debug("Engaging trick mode stream",f),jj(b,f,!1,0,!1),d.mb=e)}else if(e=d.mb)D.debug("Restoring non-trick-mode stream",e),d.mb=null,jj(b,e,!0,0,!1)}}
function kj(b,c,d,e){var f=!1;if(c.video){var g=jj(b,c.video,d,e,!1);f=f||g}c.audio&&(b=jj(b,c.audio,d,e,!1),f=f||b);return f}
function jj(b,c,d,e,f){var g=b.b.get(c.type);if(!g&&"text"==c.type&&b.g.ignoreTextStreamFailures)return dj(b,c),!0;if(!g)return!1;var h=lj(b,c),k=Array.from(b.b.values()).every(function(b){return b.Ba==g.Ba});if(d&&h!=g.Ba&&k)return D.debug("switch: switching to stream in another Period; clearing buffer and changing Periods"),b.b.forEach(function(c){mj(b,c)}),!0;g.mb&&(D.debug("switch during trick play mode",c),c.trickModeVideo?(g.mb=c,c=c.trickModeVideo,D.debug("switch found trick play stream",c)):
(g.mb=null,D.debug("switch found no special trick play stream")));k=b.j[h];if(!k||!k.hc)return!1;k=b.l.get(c.id);if(!k||!k.hc)return!1;if(g.stream==c&&!f)return D.debug("switch: Stream "+nj(g)+" already active"),!1;"text"==c.type&&ue(b.a.U,Dc(c.mimeType,c.codecs));g.stream=c;g.Tc=!0;D.debug("switch: switching to Stream "+nj(g));oj(b,g,h)&&(D.info("Aborting current segment request to switch."),g.Fb.abort());d&&(g.vb?g.kd=!0:g.kb?(g.qb=!0,g.Kc=e,g.kd=!0):(Xi(g),pj(b,g,!0,e)["catch"](function(c){if(b.a)b.a.onError(c)})));
return!0}function oj(b,c,d){if(!c.Fb)return!1;var e=b.a.yb(),f=ye(b.a.U,c.type),g=qj(b,c,e,f,d);d=g?g.a?g.a-g.b:null:null;g&&!d&&(d=(g.endTime-g.Rc())*c.stream.bandwidth/8);if(isNaN(d))return!1;(g=c.stream.initSegmentReference)&&(d+=(g.a?g.a-g.b:null)||0);g=b.a.getBandwidthEstimate();return 8*d/g<f-e-Math.max(b.c.minBufferTime||0,b.g.rebufferingGoal)||c.Fb.b.a>d?!0:!1}
function rj(b){function c(c){var f=b.a.U;"text"==c?(c=f.a,c=null==c.a||null==c.b?!1:d>=c.a&&d<c.b):(c=xe(f,c),c=Hd(c,d,e));return c}var d=b.a.yb(),e=b.g.smallGapLimit,f=!1,g=Zi(b,d);if(cb(b.b.values(),function(b){return b.Ba==g}))for(var h=r(b.b.keys()),k=h.next();!k.done;k=h.next())k=k.value,c(k)||(mj(b,b.b.get(k)),f=!0);else cb(b.b.keys(),c)||(D.debug("(all): seeked: unbuffered seek: clearing all buffers"),b.b.forEach(function(c){mj(b,c)}),f=!0);f||D.debug("(all): seeked: buffered seek: presentationTime="+
d)}function mj(b,c){var d=nj(c);c.vb?D.debug(d,"clear: already clearing the buffer"):c.qb?D.debug(d,"clear: already waiting"):c.kb?(D.debug(d,"clear: currently updating"),c.qb=!0,c.Kc=0):null==we(b.a.U,c.type)?(D.debug(d,"clear: nothing buffered"),null==c.hb&&gj(b,c,0)):(D.debug(d,"clear: handling right now"),Xi(c),pj(b,c,!1,0)["catch"](function(c){if(b.a)b.a.onError(c)}))}
function $i(b,c,d,e,f){return u(function h(){var k,l,n,p,q,t,y;return x(h,function(h){switch(h.o){case 1:return k=b.a.yb(),l=Zi(b,k),n=Nd,p=new Map,q=new Set,c&&(p.set(n.jc,c),q.add(c)),d&&(p.set(n.tb,d),q.add(d)),e&&(p.set(n.Oa,e),q.add(e)),t=b.a.U,y=b.g.forceTransmuxTS,v(h,t.init(p,y),2);case 2:if(b.f)return h["return"]();sj(b);return v(h,ej(b,q),3);case 3:if(b.f)return h["return"]();p.forEach(function(c,d){if(!b.b.has(d)){var e=fj(c,l,f);b.b.set(d,e);gj(b,e,0)}});w(h)}})})}
function fj(b,c,d){return{stream:b,type:b.type,Yb:null,cb:null,mb:null,Tc:!0,Ba:c,endOfStream:!1,kb:!1,hb:null,qb:!1,Kc:0,kd:!1,vb:!1,Wd:!1,tc:!1,Zd:d||0,Fb:null}}
function tj(b,c){var d=b.j[c];if(d)return D.debug("(all) Period "+c+" is being or has been set up"),d.promise;D.debug("(all) setting up Period "+c);d={promise:new J,hc:!1};b.j[c]=d;for(var e=new Set,f=r(b.c.periods[c].variants),g=f.next();!g.done;g=f.next())g=g.value,g.video&&e.add(g.video),g.video&&g.video.trickModeVideo&&e.add(g.video.trickModeVideo),g.audio&&e.add(g.audio);f=r(b.c.periods[c].textStreams);for(g=f.next();!g.done;g=f.next())e.add(g.value);b.B=b.B.then(function(){if(!this.f)return ej(this,
e)}.bind(b)).then(function(){this.f||(this.j[c].promise.resolve(),this.j[c].hc=!0,D.I("(all) setup Period "+c))}.bind(b))["catch"](function(b){this.f||(this.j[c].promise["catch"](function(){}),this.j[c].promise.reject(),delete this.j[c],D.u("(all) failed to setup Period "+c),this.a.onError(b))}.bind(b));return d.promise}
function ej(b,c){return u(function e(){var f,g,h,k,l,n,p;return x(e,function(e){switch(e.o){case 1:f=[];for(var q=r(c),y=q.next();!y.done;y=q.next())g=y.value,(h=b.l.get(g.id))?(D.debug("(all) Stream "+g.id+" is being or has been set up"),f.push(h.promise)):(D.I("(all) setting up Stream "+g.id),b.l.set(g.id,{promise:new J,hc:!1}),f.push(g.createSegmentIndex()));xa(e,2);return v(e,Promise.all(f),4);case 4:if(b.f)return e["return"]();za(e,3);break;case 2:k=Da(e);if(b.f)return e["return"]();e=r(c);for(y=
e.next();!y.done;y=e.next())l=y.value,b.l.get(l.id).promise["catch"](function(){}),b.l.get(l.id).promise.reject(),b.l["delete"](l.id);throw k;case 3:q=r(c);for(y=q.next();!y.done;y=q.next())n=y.value,p=b.l.get(n.id),p.hc||(p.promise.resolve(),p.hc=!0,D.I("(all) setup Stream "+n.id));w(e)}})})}function sj(b){var c=b.c.presentationTimeline.ra();Infinity>c?b.a.U.Ua(c):b.a.U.Ua(Math.pow(2,32))}
function uj(b,c){if(!b.f){var d=nj(c);if(!c.kb&&null!=c.hb&&!c.vb)if(c.hb=null,c.qb)D.debug(d,"skipping update and clearing the buffer"),pj(b,c,c.kd,c.Kc);else{try{var e=vj(b,c);null!=e&&(gj(b,c,e),c.tc=!1)}catch(f){wj(b,f);return}e=Array.from(b.b.values());xj(b,c);b.w&&e.every(function(b){return b.endOfStream})&&(D.I(d,"calling endOfStream()..."),b.a.U.endOfStream().then(function(){if(!this.f){var b=this.a.U.ra();0!=b&&b<this.c.presentationTimeline.ra()&&this.c.presentationTimeline.Ua(b)}}.bind(b)))}}}
function vj(b,c){if(yj(c))return Ce(b.a.U,c.stream.originalId||""),null;var d=nj(c),e=b.a.yb(),f=zj(b,c,e);D.N(d,"timeNeeded="+f);var g=lj(b,c.stream),h=Zi(b,f),k=ze(b.a.U,c.type,e);D.N(d,"update_:","presentationTime="+e,"bufferedAhead="+k);var l=Math.max(b.c.minBufferTime||0,b.g.rebufferingGoal,b.g.bufferingGoal)*b.s;if(f>=b.c.presentationTimeline.ra())return D.debug(d,"buffered to end of presentation"),c.endOfStream=!0,"video"==c.type&&(f=b.b.get("text"))&&"application/cea-608"==f.stream.mimeType&&
(f.endOfStream=!0),null;c.endOfStream=!1;c.Ba=h;if(h!=g)return D.debug(d,"need Period "+h,"presentationTime="+e,"timeNeeded="+f,"currentPeriodIndex="+g),null;if(k>=l)return D.N(d,"buffering goal met"),.5;d=ye(b.a.U,c.type);d=qj(b,c,e,d,g);if(!d)return 1;var n=Infinity;Array.from(b.b.values()).forEach(function(c){yj(c)||(c=zj(b,c,e),n=Math.min(n,c))});if(f>=n+b.c.presentationTimeline.a)return 1;c.Zd=0;Aj(b,c,e,g,d);return null}
function zj(b,c,d){if(!c.Yb||!c.cb)return Math.max(d,c.Zd);d=lj(b,c.Yb);return b.c.periods[d].startTime+c.cb.endTime}
function qj(b,c,d,e,f){var g=nj(c);if(c.cb&&c.stream==c.Yb)return e=c.cb.position+1,D.N(g,"next position known:","position="+e),Bj(b,c,f,e);c.cb?(D.I(g,"next position unknown: another Stream buffered"),g=lj(b,c.Yb),g=Cj(b,c,b.c.periods[g].startTime+c.cb.endTime,f)):(D.I(g,"next position unknown: nothing buffered"),g=Cj(b,c,e||d,f));if(null==g)return null;d=null;null==e&&(d=Bj(b,c,f,Math.max(0,g-1)));return d||Bj(b,c,f,g)}
function Cj(b,c,d,e){var f=nj(c);b=b.c.periods[e];D.debug(f,"looking up segment:","presentationTime="+d,"currentPeriod.startTime="+b.startTime);d=Math.max(0,d-b.startTime);c=c.stream.findSegmentPosition(d);null==c&&D.u(f,"cannot find segment:","currentPeriod.startTime="+b.startTime,"lookupTime="+d);return c}
function Bj(b,c,d,e){var f=nj(c);d=b.c.periods[d];c=c.stream.getSegmentReference(e);if(!c)return D.I(f,"segment does not exist:","currentPeriod.startTime="+d.startTime,"position="+e),null;e=b.c.presentationTimeline;b=e.rc();e=e.Sb();return d.startTime+c.endTime<b||d.startTime+c.startTime>e?(D.N(f,"segment is not available:","currentPeriod.startTime="+d.startTime,"reference.startTime="+c.startTime,"reference.endTime="+c.endTime,"availabilityStart="+b,"availabilityEnd="+e),null):c}
function Aj(b,c,d,e,f){var g=nj(c),h=b.c.periods[e];D.I(g,"fetchAndAppend_:","presentationTime="+d,"currentPeriod.startTime="+h.startTime,"reference.position="+f.position,"reference.startTime="+f.startTime,"reference.endTime="+f.endTime);var k=c.stream,l=b.c.presentationTimeline.ra(),n=b.c.periods[e+1];e=Dj(b,c,e,Math.max(0,h.startTime-.1),n?n.startTime+.01:l);c.kb=!0;c.Tc=!1;D.N(g,"fetching segment");l=Ej(b,c,f);Promise.all([e,l]).then(function(b){if(!this.f&&!this.v)return Fj(this,c,d,h,k,f,b[1])}.bind(b)).then(function(){this.f||
this.v||(c.kb=!1,c.Wd=!1,c.qb||this.a.Sd(),gj(this,c,0),Gj(this,c,k),D.I(g,"finished fetch and append"))}.bind(b))["catch"](function(b){this.f||this.v||(c.kb=!1,"text"==c.type&&this.g.ignoreTextStreamFailures?(1001==b.code?D.u(g,"Text stream failed to download. Proceeding without it."):D.u(g,"Text stream failed to parse. Proceeding without it."),this.b["delete"]("text")):7001==b.code?(c.kb=!1,c.hb=null,gj(this,c,0)):3017==b.code?Hj(this,c,b):(D.error(g,"failed fetch and append: code="+b.code),c.tc=
!0,b.severity=2,wj(this,b)))}.bind(b))}
function Hj(b,c,d){var e=nj(c);if(Array.from(b.b.values()).some(function(b){return b!=c&&b.Wd}))D.debug(e,"MediaSource threw QuotaExceededError:","waiting for another stream to recover...");else{var f=Math.round(100*b.s);if(20<f)b.s-=.2;else if(4<f)b.s-=.04;else{D.error(e,"MediaSource threw QuotaExceededError too many times");c.tc=!0;b.v=!0;b.a.onError(d);return}D.u(e,"MediaSource threw QuotaExceededError:","reducing buffering goals by "+(100-Math.round(100*b.s))+"%");c.Wd=!0}gj(b,c,4)}
function Dj(b,c,d,e,f){if(!c.Tc)return Promise.resolve();var g=nj(c);d=b.c.periods[d].startTime-c.stream.presentationTimeOffset;D.I(g,"setting timestamp offset to "+d);D.I(g,"setting append window start to "+e);D.I(g,"setting append window end to "+f);e=Ee(b.a.U,c.type,d,e,f);if(!c.stream.initSegmentReference)return e;D.I(g,"fetching init segment");b=Ej(b,c,c.stream.initSegmentReference).then(function(b){if(!this.f)return D.I(g,"appending init segment"),Ae(this.a.U,c.type,b,null,null,c.stream.closedCaptions&&
0<c.stream.closedCaptions.size)}.bind(b))["catch"](function(b){c.Tc=!0;return Promise.reject(b)});return Promise.all([e,b])}
function Fj(b,c,d,e,f,g,h){var k=nj(c),l=f.closedCaptions&&0<f.closedCaptions.size;null!=f.emsgSchemeIdUris&&0<f.emsgSchemeIdUris.length&&(new Q).za("emsg",b.K.bind(b,e,g,f.emsgSchemeIdUris)).parse(h);return Ij(b,c,d).then(function(){if(!this.f)return D.I(k,"appending media segment"),Ae(this.a.U,c.type,h,g.startTime+e.startTime,g.endTime+e.startTime,l)}.bind(b)).then(function(){if(!this.f)return D.N(k,"appended media segment"),c.Yb=f,c.cb=g,Promise.resolve()}.bind(b))}
Wi.prototype.K=function(b,c,d,e){var f=e.reader.Vd(),g=e.reader.Vd(),h=e.reader.M(),k=e.reader.M(),l=e.reader.M(),n=e.reader.M();e=e.reader.Gb(e.reader.T.byteLength-e.reader.va());b=b.startTime+c.startTime+k/h;if(d.includes(f))if("urn:mpeg:dash:event:2012"==f)this.a.Pg();else this.a.onEvent(new B("emsg",{detail:{startTime:b,endTime:b+l/h,schemeIdUri:f,value:g,timescale:h,presentationTimeDelta:k,eventDuration:l,id:n,messageData:e}}))};
function Ij(b,c,d){var e=nj(c);D.N(e,"checking buffer length");var f=Math.max(b.g.bufferBehind,b.c.presentationTimeline.a),g=we(b.a.U,c.type);if(null==g)return D.N(e,"buffer behind okay because nothing buffered:","presentationTime="+d,"bufferBehind="+f),Promise.resolve();var h=d-g,k=h-f;if(0>=k)return D.N(e,"buffer behind okay:","presentationTime="+d,"bufferedBehind="+h,"bufferBehind="+f,"underflow="+-k),Promise.resolve();D.I(e,"buffer behind too large:","presentationTime="+d,"bufferedBehind="+h,
"bufferBehind="+f,"overflow="+k);return b.a.U.remove(c.type,g,g+k).then(function(){this.f||D.I(e,"evicted "+k+" seconds")}.bind(b))}
function Gj(b,c,d){if(!b.w){var e=nj(c);c=Array.from(b.b.values());if(1!=c.length||"text"!=c[0].type)b.w=c.every(function(b){return"text"==b.type?!0:!b.qb&&!b.vb&&b.cb});if(b.w){D.debug(e,"startup complete");d=lj(b,d);b.j[d]||tj(b,d).then(function(){this.f||(D.I(e,"calling onCanSwitch()..."),this.a.Xe())}.bind(b))["catch"](Kd.Uc);for(d=0;d<b.c.periods.length;++d)tj(b,d)["catch"](Kd.Uc);b.a.Xg&&(D.I(e,"calling onStartupComplete()..."),b.a.Xg())}}}
function xj(b,c){var d=nj(c),e=lj(b,c.stream);if(c.Ba!=e){var f=c.Ba,g=Array.from(b.b.values());g.every(function(b){return b.Ba==f||yj(b)})?g.every(Jj)?(D.debug(d,"all need Period "+f),tj(b,f).then(function(){if(!this.f)if(g.every(function(b){var c=Jj(b),d=lj(this,b.stream);return yj(b)?!0:c&&b.Ba==f&&d!=f}.bind(this))){var b=this.c.periods[f];D.I(d,"calling onChooseStreams()...");var c=this.a.Ye(b),e=new Map;c.variant&&c.variant.video&&e.set("video",c.variant.video);c.variant&&c.variant.audio&&e.set("audio",
c.variant.audio);c.text&&e.set("text",c.text);c=r(this.b.keys());for(var n=c.next();!n.done;n=c.next())if(n=n.value,!e.has(n)&&"text"!=n){D.error(d,"invalid Streams chosen: missing "+n+" Stream");this.a.onError(new G(2,5,5005));return}c=r(Array.from(e.keys()));for(n=c.next();!n.done;n=c.next())if(n=n.value,!this.b.has(n))if("text"==n)$i(this,null,null,e.get("text"),b.startTime),e["delete"](n);else{D.error(d,"invalid Streams chosen: unusable "+n+" Stream");this.a.onError(new G(2,5,5005));return}c=
r(Array.from(this.b.keys()));for(n=c.next();!n.done;n=c.next()){n=n.value;var p=this.b.get(n),q=e.get(n);if(q){var t=yj(p);t&&(p.Ba=f,p.Zd=b.startTime);jj(this,q,!1,0,!1);t&&yj(p)||gj(this,this.b.get(n),0)}else this.b["delete"](n)}D.I(d,"calling onCanSwitch()...");this.a.Xe()}else D.debug(d,"ignoring transition to Period",f,"since another is happening")}.bind(b))["catch"](Kd.Uc)):D.debug(d,"all MediaStates need Period "+f+", but not all MediaStates are idle"):D.debug(d,"not all MediaStates need Period "+
f)}}function yj(b){return b&&"text"==b.type&&"application/cea-608"==b.stream.mimeType}function Jj(b){return!b.kb&&null==b.hb&&!b.qb&&!b.vb}function Zi(b,c){var d=ui(b.c.periods,c+Od);return d?b.c.periods.indexOf(d):0}
function lj(b,c){for(var d=b.c.periods,e=0;e<d.length;e++){for(var f=d[e],g=new Set,h=r(f.variants),k=h.next();!k.done;k=h.next())k=k.value,k.audio&&g.add(k.audio),k.video&&g.add(k.video),k.video&&k.video.trickModeVideo&&g.add(k.video.trickModeVideo);f=r(f.textStreams);for(h=f.next();!h.done;h=f.next())g.add(h.value);if(g.has(c))return e}return-1}
function Ej(b,c,d){var e=Dg(d.c(),d.b,d.a,b.g.retryParameters);D.N("fetching: reference=",d);b=b.a.Zb.request(1,e);c.Fb=b;return b.promise.then(function(b){c.Fb=null;return b.data})}
function pj(b,c,d,e){return u(function g(){var h,k,l,n;return x(g,function(g){switch(g.o){case 1:return h=nj(c),c.qb=!1,c.kd=!1,c.Kc=0,c.vb=!0,c.Yb=null,c.cb=null,D.debug(h,"clearing buffer"),e?(l=b.a.yb(),n=b.a.U.ra(),k=b.a.U.remove(c.type,l+e,n)):k=De(b.a.U,c.type).then(function(){if(!this.f&&d)return this.a.U.flush(c.type)}.bind(b)),v(g,k,2);case 2:if(b.f)return g["return"]();D.debug(h,"cleared buffer");c.vb=!1;c.endOfStream=!1;gj(b,c,0);w(g)}})})}
function gj(b,c,d){D.N(nj(c),"updating in "+d+" seconds");c.hb=(new Rb(function(){return u(function f(){var d;return x(f,function(f){switch(f.o){case 1:return xa(f,2),v(f,uj(b,c),4);case 4:za(f,0);break;case 2:d=Da(f);if(b.a)b.a.onError(d);w(f)}})})})).R(d)}function Xi(b){null!=b.hb&&(b.hb.stop(),b.hb=null)}function Yi(b){return u(function d(){return x(d,function(d){switch(d.o){case 1:if(b.Fb)return v(d,b.Fb.abort(),0);d.C(0)}})})}
function wj(b,c){Ub(b.J).then(function(){this.f||(this.a.onError(c),c.handled||this.g.failureCallback(c))}.bind(b))}function nj(b){return"("+b.type+":"+b.stream.id+")"};function Kj(b,c,d,e,f,g){if(200<=d&&299>=d&&202!=d)return{uri:f||e,Ud:e,data:c,headers:b,fromCache:!!b["x-shaka-from-cache"]};f=null;try{f=yc(c)}catch(h){}D.debug("HTTP error text:",f);throw new G(401==d||403==d?2:1,1,1001,e,d,f,b,g);};function Lj(b,c,d,e){var f=new Lj.b;Bc(c.headers).forEach(function(b,c){f.append(c,b)});var g=new Lj.a,h={Ae:!1,zf:!1};b=Lj.s(b,d,{body:c.body||void 0,headers:f,method:c.method,signal:g.signal,credentials:c.allowCrossSiteCredentials?"include":void 0},h,e);b=new Vb(b,function(){h.Ae=!0;g.abort();return Promise.resolve()});if(c=c.retryParameters.timeout){var k=new F(function(){h.zf=!0;g.abort()});k.R(c/1E3);b["finally"](function(){k.stop()})}return b}A("shaka.net.HttpFetchPlugin",Lj);
Lj.s=function(b,c,d,e,f){return u(function h(){var k,l,n,p,q,t,y,C,z,H,I,T,Aa,ja;return x(h,function(h){switch(h.o){case 1:return k=Lj.g,l=Lj.c,t=q=0,y=Date.now(),xa(h,2),v(h,k(b,d),4);case 4:return n=h.A,C=n.clone().body.getReader(),H=(z=n.headers.get("Content-Length"))?parseInt(z,10):0,I=function(b){function c(){return u(function na(){var d,e,h;return x(na,function(k){switch(k.o){case 1:return xa(k,2),v(k,C.read(),4);case 4:d=k.A;za(k,3);break;case 2:return e=Da(k),D.I("error reading from stream",
e.message),k["return"]();case 3:d.done||(q+=d.value.byteLength);h=Date.now();if(100<h-y||d.done)f(h-y,q-t,H-q),t=q,y=h;d.done?b.close():(b.enqueue(d.value),c());w(k)}})})}c()},new l({start:I}),v(h,n.arrayBuffer(),5);case 5:p=h.A;za(h,3);break;case 2:T=Da(h);if(e.Ae)throw new G(1,1,7001,b,c);if(e.zf)throw new G(1,1,1003,b,c);throw new G(1,1,1002,b,T,c);case 3:return Aa={},ja=n.headers,ja.forEach(function(b,c){Aa[c.trim()]=b}),h["return"](Kj(Aa,p,n.status,b,n.url,c))}})})};
Lj.isSupported=function(){if(window.ReadableStream)try{new ReadableStream({})}catch(b){return!1}else return!1;return!(!window.fetch||!window.AbortController)};Lj.isSupported=Lj.isSupported;Lj.g=window.fetch;Lj.a=window.AbortController;Lj.c=window.ReadableStream;Lj.b=window.Headers;Lj.isSupported()&&(kc("http",Lj,2),kc("https",Lj,2));function Mj(b,c,d,e){var f=new Mj.f,g=Date.now(),h=0,k=new Promise(function(k,n){f.open(c.method,b,!0);f.responseType="arraybuffer";f.timeout=c.retryParameters.timeout;f.withCredentials=c.allowCrossSiteCredentials;f.onabort=function(){n(new G(1,1,7001,b,d))};f.onload=function(c){c=c.target;var e=c.getAllResponseHeaders().trim().split("\r\n"),f={};e=r(e);for(var g=e.next();!g.done;g=e.next())g=g.value.split(": "),f[g[0].toLowerCase()]=g.slice(1).join(": ");try{var h=Kj(f,c.response,c.status,b,c.responseURL,
d);k(h)}catch(H){n(H)}};f.onerror=function(c){n(new G(1,1,1002,b,c,d))};f.ontimeout=function(){n(new G(1,1,1003,b,d))};f.onprogress=function(b){var c=Date.now();if(100<c-g||b.lengthComputable&&b.loaded==b.total)e(c-g,b.loaded-h,b.total-b.loaded),h=b.loaded,g=c};for(var l in c.headers)f.setRequestHeader(l.toLowerCase(),c.headers[l]);f.send(c.body)});return new Vb(k,function(){f.abort();return Promise.resolve()})}A("shaka.net.HttpXHRPlugin",Mj);Mj.f=window.XMLHttpRequest;kc("http",Mj,1);
kc("https",Mj,1);function Nj(){this.a=this.f=this.b=0;this.c=new Map;this.g=0}function Oj(b,c){b.b+=c;var d=b.g;b.g++;b.c.set(d,c);return d}Nj.prototype.close=function(b,c){if(this.c.has(b)){var d=this.c.get(b);this.c["delete"](b);this.f+=d;this.a+=c}};function Pj(b,c,d){this.j=b;this.b=new Map;this.c=!1;this.g=c;this.f=d;this.a=new Nj}Pj.prototype.destroy=function(){this.c=!0;return Promise.all(this.b.values()).then(function(){},function(){})};
function Qj(b,c,d,e,f,g){var h=Oj(b.a,e);e=b.b.get(c)||Promise.resolve();b.b.set(c,e.then(function(){return u(function l(){var c,e,q,t,y,C;return x(l,function(l){switch(l.o){case 1:return v(l,Rj(b,d),2);case 2:c=l.A;if(b.c)throw new G(2,9,7001);if(f){e=new Uint8Array(c);q=new Mf(e);for(var n in q.data)t=Number(n),y=q.data[t],C=q.a[t],b.f(y,C)}b.a.close(h,c.byteLength);n=b.a;b.g(0==n.b?0:n.f/n.b,b.a.a);return l["return"](g(c))}})})}))}
function Sj(b){return u(function d(){return x(d,function(d){switch(d.o){case 1:return v(d,Promise.all(b.b.values()),2);case 2:return d["return"](b.a.a)}})})}function Rj(b,c){return u(function e(){var f,g;return x(e,function(e){switch(e.o){case 1:return f=b.j.request(1,c),v(e,f.promise,2);case 2:return g=e.A,e["return"](g.data)}})})};function Tj(b,c){var d=this;this.c=b;this.b=b.objectStore(c);this.a=new J;b.onabort=function(b){b.preventDefault();d.a.reject()};b.onerror=function(b){b.preventDefault();d.a.reject()};b.oncomplete=function(){d.a.resolve()}}Tj.prototype.abort=function(){try{this.c.abort()}catch(b){}return this.a["catch"](function(){})};
function Uj(b,c){return new Promise(function(d,e){var f=b.b.openCursor();f.onerror=e;f.onsuccess=function(b){b=b.target.result;if(!b)return d();c(b.key,b.value,b);b["continue"]()}})}Tj.prototype.store=function(){return this.b};Tj.prototype.promise=function(){return this.a};function Vj(b){this.b=b;this.a=[]}Vj.prototype.destroy=function(){return Promise.all(this.a.map(function(b){return b.abort()}))};function Wj(b,c){return Xj(b,c,"readwrite")}function Xj(b,c,d){d=b.b.transaction([c],d);var e=new Tj(d,c);b.a.push(e);e.promise().then(function(){dc(b.a,e)},function(){dc(b.a,e)});return e};function Yj(b,c,d){this.b=new Vj(b);this.c=c;this.a=d}m=Yj.prototype;m.destroy=function(){return this.b.destroy()};m.hasFixedKeySpace=function(){return!0};m.addSegments=function(){return Zj(this.c)};m.removeSegments=function(b,c){return ak(this,this.c,b,c)};m.getSegments=function(b){var c=this;return u(function e(){var f;return x(e,function(e){switch(e.o){case 1:return v(e,bk(c,c.c,b),2);case 2:return f=e.A,e["return"](f.map(function(b){return c.Ee(b)}))}})})};m.addManifests=function(){return Zj(this.a)};
m.updateManifestExpiration=function(b,c){var d=Wj(this.b,this.a),e=d.store();e.get(b).onsuccess=function(d){if(d=d.target.result)d.expiration=c,e.put(d,b)};return d.promise()};m.removeManifests=function(b,c){return ak(this,this.a,b,c)};m.getManifests=function(b){var c=this;return u(function e(){var f;return x(e,function(e){switch(e.o){case 1:return v(e,bk(c,c.a,b),2);case 2:return f=e.A,e["return"](f.map(function(b){return c.Lc(b)}))}})})};
m.getAllManifests=function(){var b=this;return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:return e=Xj(b.b,b.a,"readonly"),f=new Map,v(d,Uj(e,function(d,e){f.set(d,b.Lc(e))}),2);case 2:return v(d,e.promise(),3);case 3:return d["return"](f)}})})};m.Ee=function(b){return b};m.Lc=function(b){return b};function Zj(b){return Promise.reject(new G(2,9,9011,"Cannot add new value to "+b))}
m.add=function(b,c){var d=this;return u(function f(){var g,h,k,l,n;return x(f,function(f){switch(f.o){case 1:g=Wj(d.b,b);h=g.store();k=[];for(var p=r(c),t=p.next();!t.done;t=p.next())l=t.value,n=h.add(l),n.onsuccess=function(b){k.push(b.target.result)};return v(f,g.promise(),2);case 2:return f["return"](k)}})})};
function ak(b,c,d,e){b=Wj(b.b,c);c=b.store();var f={};d=r(d);for(var g=d.next();!g.done;f={key:f.key},g=d.next())f.key=g.value,c["delete"](f.key).onsuccess=function(b){return function(){return e(b.key)}}(f);return b.promise()}
function bk(b,c,d){return u(function f(){var g,h,k,l,n,p,q;return x(f,function(f){switch(f.o){case 1:g=Xj(b.b,c,"readonly");h=g.store();k={};l=[];n={};p=r(d);for(q=p.next();!q.done;n={request:n.request,key:n.key},q=p.next())n.key=q.value,n.request=h.get(n.key),n.request.onsuccess=function(b){return function(){void 0==b.request.result&&l.push(b.key);k[b.key]=b.request.result}}(n);return v(f,g.promise(),2);case 2:if(l.length)throw new G(2,9,9012,"Could not find values for "+l);return f["return"](d.map(function(b){return k[b]}))}})})}
;function ck(b){this.a=new Vj(b)}ck.prototype.destroy=function(){return this.a.destroy()};ck.prototype.getAll=function(){var b=this;return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:return e=Xj(b.a,"session-ids","readonly"),f=[],v(d,Uj(e,function(b,d){f.push(d)}),2);case 2:return v(d,e.promise(),3);case 3:return d["return"](f)}})})};ck.prototype.add=function(b){var c=Wj(this.a,"session-ids"),d=c.store();b=r(b);for(var e=b.next();!e.done;e=b.next())d.add(e.value);return c.promise()};
ck.prototype.remove=function(b){var c=this;return u(function e(){var f;return x(e,function(e){switch(e.o){case 1:return f=Wj(c.a,"session-ids"),v(e,Uj(f,function(c,e,f){0<=b.indexOf(e.sessionId)&&f["delete"]()}),2);case 2:return v(e,f.promise(),0)}})})};function dk(){this.a=new Map}dk.prototype.destroy=function(){for(var b=[],c=r(this.a.values()),d=c.next();!d.done;d=c.next())b.push(d.value.destroy());this.a.clear();return Promise.all(b)};dk.prototype.init=function(){var b=this;ek.forEach(function(c,d){var e=c();e?b.a.set(d,e):D.info("Skipping "+d+" as it is not supported on this platform")});for(var c=[],d=r(this.a.values()),e=d.next();!e.done;e=d.next())c.push(e.value.init());return Promise.all(c)};
function fk(b){var c=null;b.a.forEach(function(b,e){b.getCells().forEach(function(b,d){b.hasFixedKeySpace()||c||(c={path:{Ta:e,ua:d},ua:b})})});if(c)return c;throw new G(2,9,9013,"Could not find a cell that supports add-operations");}function gk(b,c){b.a.forEach(function(b,e){b.getCells().forEach(function(b,d){c({Ta:e,ua:d},b)})})}
function hk(b,c,d){b=b.a.get(c);if(!b)throw new G(2,9,9013,"Could not find mechanism with name "+c);c=b.getCells().get(d);if(!c)throw new G(2,9,9013,"Could not find cell with name "+d);return c}function ik(b,c){b.a.forEach(function(b){c(b.getEmeSessionCell())})}function jk(b){var c=Array.from(b.a.keys());if(!c.length)throw new G(2,9,9E3,"No supported storage mechanisms found");return b.a.get(c[0]).getEmeSessionCell()}
dk.prototype.erase=function(){var b=this;return u(function d(){var e,f,g;return x(d,function(d){switch(d.o){case 1:return e=Array.from(b.a.values()),f=0<e.length,f||(g=ek,g.forEach(function(b){(b=b())&&e.push(b)})),v(d,Promise.all(e.map(function(b){return b.erase()})),2);case 2:if(f)d.C(0);else return v(d,Promise.all(e.map(function(b){return b.destroy()})),0)}})})};function kk(b,c){ek.set(b,c)}A("shaka.offline.StorageMuxer.register",kk);A("shaka.offline.StorageMuxer.unregister",function(b){ek["delete"](b)});
var ek=new Map;function lk(b){Yj.apply(this,arguments)}sa(lk,Yj);lk.prototype.updateManifestExpiration=function(b,c){var d=Wj(this.b,this.a),e=d.store(),f=new J;e.get(b).onsuccess=function(d){(d=d.target.result)?(d.expiration=c,e.put(d),f.resolve()):f.reject(new G(2,9,9012,"Could not find values for "+b))};return d.promise().then(function(){return f})};
lk.prototype.Lc=function(b){return{originalManifestUri:b.originalManifestUri,duration:b.duration,size:b.size,expiration:null==b.expiration?Infinity:b.expiration,periods:b.periods.map(mk),sessionIds:b.sessionIds,drmInfo:b.drmInfo,appMetadata:b.appMetadata}};function mk(b){nk(b);b.streams.forEach(function(){});return{startTime:b.startTime,streams:b.streams.map(ok)}}
function ok(b){var c=b.initSegmentUri?pk(b.initSegmentUri):null;return{id:b.id,originalId:null,primary:b.primary,presentationTimeOffset:b.presentationTimeOffset,contentType:b.contentType,mimeType:b.mimeType,codecs:b.codecs,frameRate:b.frameRate,pixelAspectRatio:void 0,kind:b.kind,language:b.language,label:b.label,width:b.width,height:b.height,initSegmentKey:c,encrypted:b.encrypted,keyId:b.keyId,segments:b.segments.map(qk),variantIds:b.variantIds}}
function qk(b){var c=pk(b.uri);return{startTime:b.startTime,endTime:b.endTime,dataKey:c}}lk.prototype.Ee=function(b){return{data:b.data}};function pk(b){var c;if((c=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(b))||(c=/^offline:segment\/([0-9]+)$/.exec(b)))return Number(c[1]);throw new G(2,9,9004,"Could not parse uri "+b);}
function nk(b){var c=b.streams.filter(function(b){return"audio"==b.contentType}),d=b.streams.filter(function(b){return"video"==b.contentType});if(!c.every(function(b){return b.variantIds})||!d.every(function(b){return b.variantIds})){c.forEach(function(b){b.variantIds=[]});d.forEach(function(b){b.variantIds=[]});var e=0;if(d.length&&!c.length){D.debug("Found video-only content. Creating variants for video.");var f=e++;d.forEach(function(b){b.variantIds.push(f)})}if(!d.length&&c.length){D.debug("Found audio-only content. Creating variants for audio.");
var g=e++;c.forEach(function(b){b.variantIds.push(g)})}d.length&&c.length&&(D.debug("Found audio-video content. Creating variants."),c.forEach(function(b){d.forEach(function(c){var d=e++;b.variantIds.push(d);c.variantIds.push(d)})}))}};function rk(b,c,d,e){Yj.call(this,b,c,d);this.f=e}sa(rk,Yj);rk.prototype.hasFixedKeySpace=function(){return this.f};rk.prototype.addSegments=function(b){return this.f?Zj(this.c):this.add(this.c,b)};rk.prototype.addManifests=function(b){return this.f?Zj(this.a):this.add(this.a,b)};rk.prototype.Lc=function(b){null==b.expiration&&(b.expiration=Infinity);return b};function sk(){this.g=this.c=this.b=this.a=this.f=null}m=sk.prototype;
m.init=function(){var b=this,c=new J,d=window.indexedDB.open("shaka_offline_db",4);d.onsuccess=function(d){d=d.target.result;b.f=d;var e=d.objectStoreNames;e.contains("manifest")&&e.contains("segment")?(D.debug("Mounting v1 idb storage cell"),e=new lk(d,"segment","manifest")):e=null;b.a=e;e=d.objectStoreNames;e.contains("manifest-v2")&&e.contains("segment-v2")?(D.debug("Mounting v2 idb storage cell"),e=new rk(d,"segment-v2","manifest-v2",!0)):e=null;b.b=e;e=d.objectStoreNames;e.contains("manifest-v3")&&
e.contains("segment-v3")?(D.debug("Mounting v3 idb storage cell"),e=new rk(d,"segment-v3","manifest-v3",!1)):e=null;b.c=e;d.objectStoreNames.contains("session-ids")?(D.debug("Mounting session ID idb storage cell"),d=new ck(d)):d=null;b.g=d;c.resolve()};d.onupgradeneeded=function(b){b=b.target.result;for(var c=r(["segment-v3","manifest-v3","session-ids"]),d=c.next();!d.done;d=c.next())d=d.value,b.objectStoreNames.contains(d)||b.createObjectStore(d,{autoIncrement:!0})};d.onerror=function(b){c.reject(new G(2,
9,9001,d.error));b.preventDefault()};return c};m.destroy=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:if(!b.a){d.C(2);break}return v(d,b.a.destroy(),2);case 2:if(!b.b){d.C(4);break}return v(d,b.b.destroy(),4);case 4:if(!b.c){d.C(6);break}return v(d,b.c.destroy(),6);case 6:if(!b.g){d.C(8);break}return v(d,b.g.destroy(),8);case 8:b.f&&b.f.close(),w(d)}})})};
m.getCells=function(){var b=new Map;this.a&&b.set("v1",this.a);this.b&&b.set("v2",this.b);this.c&&b.set("v3",this.c);return b};m.getEmeSessionCell=function(){return this.g};
m.erase=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:if(!b.a){d.C(2);break}return v(d,b.a.destroy(),2);case 2:if(!b.b){d.C(4);break}return v(d,b.b.destroy(),4);case 4:if(!b.c){d.C(6);break}return v(d,b.c.destroy(),6);case 6:return b.f&&b.f.close(),v(d,tk(),8);case 8:return b.f=null,b.a=null,b.b=null,b.c=null,v(d,b.init(),0)}})})};
function tk(){var b=new J,c=window.indexedDB.deleteDatabase("shaka_offline_db");c.onblocked=function(){D.u("Deleting","shaka_offline_db","is being blocked")};c.onsuccess=function(){b.resolve()};c.onerror=function(d){b.reject(new G(2,9,9001,c.error));d.preventDefault()};return b}kk("idb",function(){return Mc("CrKey")||!window.indexedDB?null:new sk});function uk(b,c,d,e){this.a=b;this.g=c;this.f=d;this.c=e;this.b=["offline:",b,"/",c,"/",d,"/",e].join("")}uk.prototype.Ta=function(){return this.g};uk.prototype.ua=function(){return this.f};uk.prototype.key=function(){return this.c};uk.prototype.toString=function(){return this.b};
function vk(b){b=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(b);if(null==b)return null;var c=b[1];if("manifest"!=c&&"segment"!=c)return null;var d=b[2];if(!d)return null;var e=b[3];return e&&null!=c?new uk(c,d,e,Number(b[4])):null};function wk(b,c){this.b=b;this.a=c}function xk(b,c){var d=new V(null,0);d.Ua(c.duration);var e=c.periods.map(function(c){return yk(b,c,d)}),f=c.drmInfo?[c.drmInfo]:[];c.drmInfo&&e.forEach(function(b){b.variants.forEach(function(b){b.drmInfos=f})});return{presentationTimeline:d,minBufferTime:2,offlineSessionIds:c.sessionIds,periods:e}}
function yk(b,c,d){var e=c.streams.filter(function(b){return"audio"==b.contentType}),f=c.streams.filter(function(b){return"video"==b.contentType});e=zk(b,e,f);f=c.streams.filter(function(b){return"text"==b.contentType}).map(function(c){return Ak(b,c)});c.streams.forEach(function(e){e=e.segments.map(function(c,d){return Bk(b,d,c)});d.$b(e,c.startTime)});return{startTime:c.startTime,variants:Array.from(e.values()),textStreams:f}}
function zk(b,c,d){for(var e=new Set,f=r(c),g=f.next();!g.done;g=f.next()){var h=r(g.value.variantIds);for(g=h.next();!g.done;g=h.next())e.add(g.value)}f=r(d);for(g=f.next();!g.done;g=f.next())for(h=r(g.value.variantIds),g=h.next();!g.done;g=h.next())e.add(g.value);f=new Map;e=r(e);for(g=e.next();!g.done;g=e.next())g=g.value,f.set(g,{id:g,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});c=r(c);for(e=c.next();!e.done;e=c.next())for(e=
e.value,g=Ak(b,e),h=r(e.variantIds),e=h.next();!e.done;e=h.next())e=f.get(e.value),e.language=g.language,e.primary=e.primary||g.primary,e.audio=g;d=r(d);for(c=d.next();!c.done;c=d.next())for(e=c.value,c=Ak(b,e),g=r(e.variantIds),e=g.next();!e.done;e=g.next())e=f.get(e.value),e.primary=e.primary||c.primary,e.video=c;return f}
function Ak(b,c){var d=c.segments.map(function(c,d){return Bk(b,d,c)}),e=new fg(d);d={id:c.id,originalId:c.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(b){return e.find(b)},getSegmentReference:function(b){return e.get(b)},initSegmentReference:null,presentationTimeOffset:c.presentationTimeOffset,mimeType:c.mimeType,codecs:c.codecs,width:c.width||void 0,height:c.height||void 0,frameRate:c.frameRate||void 0,pixelAspectRatio:c.pixelAspectRatio||void 0,
kind:c.kind,encrypted:c.encrypted,keyId:c.keyId,language:c.language,label:c.label||null,type:c.contentType,primary:c.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null};null!=c.initSegmentKey&&(d.initSegmentReference=Ck(b,c.initSegmentKey));return d}function Bk(b,c,d){var e=new uk("segment",b.b,b.a,d.dataKey);return new S(c,d.startTime,d.endTime,function(){return[e.toString()]},0,null)}
function Ck(b,c){var d=new uk("segment",b.b,b.a,c);return new cg(function(){return[d.toString()]},0,null)};function Dk(){this.a=null}m=Dk.prototype;m.configure=function(){};
m.start=function(b){var c=this;return u(function e(){var f,g,h,k,l,n;return x(e,function(e){switch(e.o){case 1:f=vk(b);c.a=f;if(null==f||"manifest"!=f.a)return e["return"](Promise.reject(new G(2,1,9004,f)));g=new dk;ya(e,2);return v(e,g.init(),4);case 4:return v(e,hk(g,f.Ta(),f.ua()),5);case 5:return h=e.A,v(e,h.getManifests([f.key()]),6);case 6:return k=e.A,l=k[0],n=new wk(f.Ta(),f.ua()),e["return"](xk(n,l));case 2:return Ea(e),v(e,g.destroy(),7);case 7:Fa(e,0)}})})};m.stop=function(){return Promise.resolve()};
m.update=function(){};
m.onExpirationUpdated=function(b,c){var d=this;return u(function f(){var g,h,k,l,n,p,q,t;return x(f,function(f){switch(f.o){case 1:return g=d.a,h=new dk,xa(f,2,3),v(f,h.init(),5);case 5:return v(f,hk(h,g.Ta(),g.ua()),6);case 6:return k=f.A,v(f,k.getManifests([g.key()]),7);case 7:l=f.A;n=l[0];p=n.sessionIds.includes(b);q=void 0==n.expiration||n.expiration>c;if(!p||!q){f.C(3);break}D.debug("Updating expiration for stored content");return v(f,k.updateManifestExpiration(g.key(),c),3);case 3:return Ea(f),
v(f,h.destroy(),10);case 10:Fa(f,0);break;case 2:t=Da(f),D.error("There was an error updating",g,t),f.C(3)}})})};U.gc("application/x-offline-manifest",Dk);function Ek(b){var c=vk(b);return c&&"manifest"==c.a?Ek.j(b):c&&"segment"==c.a?Ek.l(c.key(),c):Wb(new G(2,1,9004,b))}A("shaka.offline.OfflineScheme",Ek);Ek.j=function(b){b={uri:b,Ud:b,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return Yb(b)};
Ek.l=function(b,c){var d=new dk;return Yb(void 0).ma(function(){return d.init()}).ma(function(){return hk(d,c.Ta(),c.ua())}).ma(function(b){return b.getSegments([c.key()])}).ma(function(b){return{uri:c,Ud:c,data:b[0].data,headers:{}}})["finally"](function(){return d.destroy()})};kc("offline",Ek);function Fk(b,c,d){return u(function f(){var g,h,k,l,n,p;return x(f,function(f){switch(f.o){case 1:g=[];for(var q=[],y=r(d),C=y.next();!C.done;C=y.next()){C=C.value;for(var z=!1,H=r(q),I=H.next();!I.done;I=H.next())if(I=I.value,Gk(I.info,C)){I.sessionIds.push(C.sessionId);z=!0;break}z||q.push({info:C,sessionIds:[C.sessionId]})}h=r(q);k=h.next();case 2:if(k.done){f.C(4);break}l=k.value;n=Hk(b,c,l);return v(f,n,5);case 5:p=f.A;g=g.concat(p);k=h.next();f.C(2);break;case 4:return f["return"](g)}})})}
function Hk(b,c,d){return u(function f(){var g,h,k,l;return x(f,function(f){switch(f.o){case 1:return g=new Vc({Zb:c,onError:function(){},Wc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),xa(f,2),g.configure(b),v(f,cd(g,d.info.keySystem,d.info.licenseUri,d.info.serverCertificate,d.info.audioCapabilities,d.info.videoCapabilities),4);case 4:za(f,3);break;case 2:return h=Da(f),D.u("Error initializing EME",h),v(f,g.destroy(),5);case 5:return f["return"]([]);case 3:return xa(f,6),
v(f,jd(g),8);case 8:za(f,7);break;case 6:return k=Da(f),D.u("Error setting server certificate",k),v(f,g.destroy(),9);case 9:return f["return"]([]);case 7:return l=[],v(f,Promise.all(d.sessionIds.map(function(b){return u(function t(){var c;return x(t,function(d){switch(d.o){case 1:return xa(d,2),v(d,md(g,b),4);case 4:l.push(b);za(d,0);break;case 2:c=Da(d),D.u("Error deleting offline session",c),w(d)}})})})),10);case 10:return v(f,g.destroy(),11);case 11:return f["return"](l)}})})}
function Gk(b,c){function d(b,c){return b.robustness==c.robustness&&b.contentType==c.contentType}return b.keySystem==c.keySystem&&b.licenseUri==c.licenseUri&&fc(b.audioCapabilities,c.audioCapabilities,d)&&fc(b.videoCapabilities,c.videoCapabilities,d)};function Ik(b,c){var d=Jk(),e=this;this.j=c;this.c=b;this.f=d;this.l=null;this.g=[];this.b=this.a=null;this.s=!0;this.v=Promise.resolve().then(function(){return Kk(e)})}Ik.prototype.destroy=function(){var b=this;return u(function d(){var e;return x(d,function(d){switch(d.o){case 1:return b.s=!1,b.b&&b.b.abort(),Lk(b),v(d,b.v,2);case 2:b.a&&b.a.Sa.Eb();for(var f=r(b.g),h=f.next();!h.done;h=f.next())e=h.value,e.Sa.Eb();b.a=null;b.g=[];b.j=null;w(d)}})})};
function Mk(b,c){var d={ac:function(){},Vc:function(){},Eb:function(){},onError:function(){},Xc:function(){},Qh:function(){}};b.g.push({create:c,Sa:d});b.b&&b.b.abort();Lk(b);return d}
function Kk(b){return u(function d(){return x(d,function(d){switch(d.o){case 1:if(b.s){if(0==b.g.length||b.a&&!b.a.zb)var e=!1;else{b.a&&(b.a.Sa.Eb(),b.a=null);e=b.g.shift();var g=e.create(b.f);g?(e.Sa.ac(),b.a={node:g.node,payload:g.payload,zb:g.zb,Sa:e.Sa}):e.Sa.Xc();e=!0}e?e=Promise.resolve():b.a?e=Nk(b):(b.j.Ng(b.c),b.l=new J,e=b.l);return v(d,e,1)}d.C(0)}})})}
function Nk(b){return u(function d(){var e,f;return x(d,function(d){switch(d.o){case 1:return b.c=b.j.pg(b.c,b.f,b.a.node,b.a.payload),xa(d,2),b.b=b.j.Qf(b.c,b.f,b.a.payload),v(d,b.b.promise,4);case 4:b.b=null;b.c==b.a.node&&(b.a.Sa.Vc(),b.a=null);za(d,0);break;case 2:e=Da(d);if(7001==e.code)b.a.Sa.Eb();else b.a.Sa.onError(e);b.a=null;b.b=null;f=b;return v(d,b.j.handleError(b.f,e),5);case 5:f.c=d.A,w(d)}})})}function Lk(b){b.l&&(b.l.resolve(),b.l=null)};function Ok(b){this.a=null;for(var c=0;c<b.textTracks.length;++c){var d=b.textTracks[c];d.mode="disabled";"Shaka Player TextTrack"==d.label&&(this.a=d)}this.a||(this.a=b.addTextTrack("subtitles","Shaka Player TextTrack"));this.a.mode="hidden"}A("shaka.text.SimpleTextDisplayer",Ok);Ok.prototype.remove=function(b,c){if(!this.a)return!1;Pk(this.a,function(d){return d.startTime<c&&d.endTime>b});return!0};Ok.prototype.remove=Ok.prototype.remove;
Ok.prototype.append=function(b){var c=Qk,d=b.map(function(b){if(b.nestedCues.length){var c=b.nestedCues.map(function(b){return b.spacer?"\n":b.payload+" "}).join("").replace(/ $/m,"");b=b.clone();b.nestedCues=[];b.payload=c}return b}),e=[];b=this.a.cues?Array.from(this.a.cues):[];var f={};d=r(d);for(var g=d.next();!g.done;f={Vb:f.Vb},g=d.next())f.Vb=g.value,b.some(function(b){return function(c){return c.startTime==b.Vb.startTime&&c.endTime==b.Vb.endTime&&c.text==b.Vb.payload?!0:!1}}(f))||(g=c(f.Vb))&&
e.push(g);e.slice().sort(function(b,c){return b.startTime!=c.startTime?b.startTime-c.startTime:b.endTime!=c.endTime?b.endTime-c.startTime:"line"in VTTCue.prototype?e.indexOf(c)-e.indexOf(b):e.indexOf(b)-e.indexOf(c)}).forEach(function(b){this.a.addCue(b)}.bind(this))};Ok.prototype.append=Ok.prototype.append;Ok.prototype.destroy=function(){this.a&&Pk(this.a,function(){return!0});this.a=null;return Promise.resolve()};Ok.prototype.destroy=Ok.prototype.destroy;
Ok.prototype.isTextVisible=function(){return"showing"==this.a.mode};Ok.prototype.isTextVisible=Ok.prototype.isTextVisible;Ok.prototype.setTextVisibility=function(b){this.a.mode=b?"showing":"hidden"};Ok.prototype.setTextVisibility=Ok.prototype.setTextVisibility;
function Qk(b){if(b.startTime>=b.endTime)return D.u("Invalid cue times: "+b.startTime+" - "+b.endTime),null;var c=new VTTCue(b.startTime,b.endTime,b.payload);c.lineAlign=b.lineAlign;c.positionAlign=b.positionAlign;b.size&&(c.size=b.size);try{c.align=b.textAlign}catch(d){}"center"==b.textAlign&&"center"!=c.align&&(c.align="middle");"vertical-lr"==b.writingMode?c.vertical="lr":"vertical-rl"==b.writingMode&&(c.vertical="rl");1==b.lineInterpretation&&(c.snapToLines=!1);null!=b.line&&(c.line=b.line);null!=
b.position&&(c.position=b.position);return c}function Pk(b,c){var d=b.mode;b.mode="showing"==d?"showing":"hidden";for(var e=b.cues,f=e.length-1;0<=f;f--){var g=e[f];g&&c(g)&&b.removeCue(g)}b.mode=d};function Rk(b,c,d,e,f){var g=f in e,h=!0,k;for(k in c){var l=f+"."+k,n=g?e[f]:d[k];g||k in d?void 0===c[k]?void 0===n||g?delete b[k]:b[k]=bc(n):n.constructor==Object&&c[k]&&c[k].constructor==Object?(b[k]||(b[k]=bc(n)),l=Rk(b[k],c[k],n,e,l),h=h&&l):typeof c[k]!=typeof n||null==c[k]||"function"!=typeof c[k]&&c[k].constructor!=n.constructor?(D.Hc("Invalid config, wrong type for "+l),h=!1):("function"==typeof d[k]&&d[k].length!=c[k].length&&D.ba("Unexpected number of arguments for "+l),b[k]=c[k]):(D.Hc("Invalid config, unrecognized key "+
l),h=!1)}return h}A("shaka.util.ConfigUtils.mergeConfigObjects",Rk);function Sk(b,c){for(var d={},e=d,f=0,g=0;;){f=b.indexOf(".",f);if(0>f)break;if(0==f||"\\"!=b[f-1])g=b.substring(g,f).replace(/\\\./g,"."),e[g]={},e=e[g],g=f+1;f+=1}e[b.substring(g).replace(/\\\./g,".")]=c;return d}A("shaka.util.ConfigUtils.convertToConfigObject",Sk);function Tk(){}A("shaka.util.PlayerConfiguration",Tk);
function Uk(){var b=5E5,c=Infinity;navigator.connection&&(navigator.connection.downlink&&(b=1E6*navigator.connection.downlink),navigator.connection.saveData&&(c=360));var d={retryParameters:Tb(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:td,fairPlayTransform:!0,updateExpirationTime:1},e={retryParameters:Tb(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,dash:{customScheme:function(b){if(b)return null},clockSyncUri:"",ignoreDrmInfo:!1,
xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},f={retryParameters:Tb(),failureCallback:function(b){D.error("Unhandled streaming error",b);return[b]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,
forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0};if(Mc("Web0S")||Mc("Tizen")||Mc("CrKey"))f.stallSkip=0;var g={trackSelectionCallback:function(b){return u(function n(){return x(n,function(c){switch(c.o){case 1:return c["return"](b)}})})},progressCallback:function(b,c){return[b,c]},usePersistentLicense:!0},h={drm:d,manifest:e,streaming:f,offline:g,abrFactory:He,abr:{enabled:!0,defaultBandwidthEstimate:b,switchInterval:8,bandwidthUpgradeTarget:.85,
bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:c,minPixels:0,maxPixels:Infinity,minFrameRate:0,maxFrameRate:Infinity,minBandwidth:0,maxBandwidth:Infinity}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minFrameRate:0,maxFrameRate:Infinity,minBandwidth:0,maxBandwidth:Infinity},
playRangeStart:0,playRangeEnd:Infinity,textDisplayFactory:function(){return null}};g.trackSelectionCallback=function(b){return u(function n(){return x(n,function(c){switch(c.o){case 1:return c["return"](Vk(b,h.preferredAudioLanguage))}})})};return h}
function Wk(b,c,d){var e={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Rk(b,c,d||Uk(),e,"")}Tk.mergeConfigObjects=Wk;
function Vk(b,c){var d=b.filter(function(b){return"variant"==b.type}),e=[],f=ob(c,d.map(function(b){return b.language}));f&&(e=d.filter(function(b){return E(b.language)==f}));0==e.length&&(e=d.filter(function(b){return b.primary}));0==e.length&&(1<(new Set(d.map(function(b){return b.language}))).size&&D.u("Could not choose a good audio track based on language preferences or primary tracks.  An arbitrary language will be stored!"),e=d);var g=e.filter(function(b){return b.height&&480>=b.height});g.length&&
(g.sort(function(b,c){return c.height-b.height}),e=g.filter(function(b){return b.height==g[0].height}));d=[];if(e.length){var h=Math.floor(e.length/2);e.sort(function(b,c){return b.bandwidth-c.bandwidth});d.push(e[h])}e=r(b);for(h=e.next();!h.done;h=e.next())h=h.value,"text"==h.type&&d.push(h);return d};function Xk(){this.a=null;this.b=[]}function Yk(b,c){if(null==b.a)b.a={timestamp:Date.now()/1E3,state:c,duration:0};else{var d=Date.now()/1E3;b.a.duration=d-b.a.timestamp;b.a.state!=c&&(b.b.push(b.a),b.a={timestamp:d,state:c,duration:0})}}function Zk(b,c){var d=0;b.a&&b.a.state==c&&(d+=b.a.duration);for(var e=r(b.b),f=e.next();!f.done;f=e.next())f=f.value,d+=f.state==c?f.duration:0;return d}
function $k(b){function c(b){return{timestamp:b.timestamp,state:b.state,duration:b.duration}}for(var d=[],e=r(b.b),f=e.next();!f.done;f=e.next())d.push(c(f.value));b.a&&d.push(c(b.a));return d};function al(){this.b=this.c=null;this.a=[]};function bl(){this.f=this.w=this.j=this.b=this.l=this.s=this.v=this.g=this.B=NaN;this.a=new Xk;this.c=new al};function W(b,c){var d=this;ab.call(this);this.l=cl;this.a=null;this.Ma=!1;this.g=new L;this.ld=this.s=this.rb=this.c=this.w=this.f=this.Cc=this.G=this.Dc=this.J=this.La=this.v=this.H=this.j=this.L=null;this.kf=1E9;this.Fc=new Set;this.Wa=!0;this.na=null;this.jf=!1;this.Ve=0;this.ka=null;this.Z=new Vh;this.b=dl(this);this.Gc={width:Infinity,height:Infinity};this.B=null;this.sb=new di(this.b.preferredAudioLanguage,this.b.preferredVariantRole,this.b.preferredAudioChannelCount);this.ia=this.b.preferredTextLanguage;
this.Ja=this.b.preferredTextRole;this.md=[];c&&c(this);this.L=el(this);this.g.m(window,"online",function(){d.$d()});this.K={name:"detach"};this.O={name:"attach"};this.wa={name:"unload"};this.Gd={name:"manifest-parser"};this.Fd={name:"manifest"};this.Ka={name:"media-source"};this.qd={name:"drm-engine"};this.Y={name:"load"};this.Md={name:"src-equals-drm-engine"};this.Na={name:"src-equals"};var e=new Map;e.set(this.O,function(b,c){return Zb(fl(d,b,c))});e.set(this.K,function(b){b.D&&(d.g.xa(b.D,"error"),
b.D=null);d.a=null;b=Promise.resolve();return Zb(b)});e.set(this.wa,function(b){return Zb(gl(d,b))});e.set(this.Ka,function(b){b=hl(d,b);return Zb(b)});e.set(this.Gd,function(b,c){var e=il(d,b,c);return Zb(e)});e.set(this.Fd,function(b){return jl(d,b)});e.set(this.qd,function(){var b=kl(d);return Zb(b)});e.set(this.Y,function(b,c){return Zb(ll(d,b,c))});e.set(this.Md,function(b){b=ml(d,b);return Zb(b)});e.set(this.Na,function(b,c){return nl(d,b,c)});this.ya=new Ik(this.K,{pg:function(b,c,e,k){var f=
null;b==d.K&&(f=e==d.K?d.K:d.O);b==d.O&&(f=e==d.K||c.D!=k.D?d.K:e==d.O?d.O:e==d.Ka||e==d.Y?d.Ka:e==d.Na?d.Md:null);b==d.Ka&&(f=e==d.Y&&c.D==k.D?d.Gd:d.wa);b==d.Gd&&(f=ol(d.Y,d.Fd,d.wa,e,c,k));b==d.Fd&&(f=ol(d.Y,d.qd,d.wa,e,c,k));b==d.qd&&(f=ol(d.Y,d.Y,d.wa,e,c,k));b==d.Md&&(f=e==d.Na&&c.D==k.D?d.Na:d.wa);if(b==d.Y||b==d.Na)f=d.wa;b==d.wa&&(f=k.D&&c.D==k.D?d.O:d.K);return f},Qf:function(b,c,h){d.dispatchEvent(new B("onstatechange",{state:b.name}));return e.get(b)(c,h)},handleError:function(b,c){return u(function k(){return x(k,
function(e){switch(e.o){case 1:return D.u("The walker saw an error:"),c instanceof G?D.u("Error Code:",c.code):(D.u("Error Message:",c.message),D.u("Error Stack:",c.stack)),v(e,gl(d,b),2);case 2:return e["return"](b.D?d.O:d.K)}})})},Ng:function(b){d.dispatchEvent(new B("onstateidle",{state:b.name}))}});b&&this.kc(b,!0)}Za(W,ab);A("shaka.Player",W);
W.prototype.destroy=function(){var b=this;return u(function d(){var e;return x(d,function(d){switch(d.o){case 1:if(b.l==pl)return d["return"]();b.l=pl;e=Mk(b.ya,function(){return{node:b.K,payload:Jk(),zb:!1}});return v(d,new Promise(function(d){e.ac=function(){D.info("Preparing to destroy walker...")};e.Vc=function(){d();b.dispatchEvent(new B("loaded"))};e.Eb=function(){d()};e.onError=function(){d()};e.Xc=function(){d()}}),2);case 2:return v(d,b.ya.destroy(),3);case 3:b.g&&(b.g.release(),b.g=null);
b.ld=null;b.s=null;b.b=null;if(!b.L){d.C(0);break}return v(d,b.L.destroy(),5);case 5:b.L=null,w(d)}})})};W.prototype.destroy=W.prototype.destroy;W.version="v2.5.17";var ql=["2","5"];Le=new function(b){this.a=b;this.c=Me;this.b=Ne}(new Je(Number(ql[0]),Number(ql[1])));var rl=["output-restricted","internal-error"],sl={};W.registerSupportPlugin=function(b,c){sl[b]=c};
function tl(){if(!(window.Promise&&window.Uint8Array&&Array.prototype.forEach))return!1;var b=Nc();return b&&12>b||!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)?!1:Hc()?!0:Ic("application/x-mpegurl")}W.isBrowserSupported=tl;
W.probeSupport=function(){return zd().then(function(b){for(var c=U.eh(),d={},e=r('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),f=
e.next();!f.done;f=e.next()){f=f.value;d[f]=Hc()?me(f)?!0:MediaSource.isTypeSupported(f)||Qd(f):Ic(f);var g=f.split(";")[0];d[g]=d[g]||d[f]}b={manifest:c,media:d,drm:b};for(var h in sl)b[h]=sl[h]();return b})};W.prototype.kc=function(b,c){c=void 0===c?!0:c;if(this.l==pl)return Promise.reject(ul());var d=Jk();d.D=b;Hc()||(c=!1);var e=c?this.Ka:this.O,f=Mk(this.ya,function(){return{node:e,payload:d,zb:!1}});f.ac=function(){return D.info("Starting attach...")};return vl(f)};W.prototype.attach=W.prototype.kc;
W.prototype.detach=function(){var b=this;if(this.l==pl)return Promise.reject(ul());var c=Mk(this.ya,function(){return{node:b.K,payload:Jk(),zb:!1}});c.ac=function(){return D.info("Starting detach...")};return vl(c)};W.prototype.detach=W.prototype.detach;
W.prototype.re=function(b){var c=this;b=void 0===b?!0:b;if(this.l==pl)return Promise.reject(ul());Hc()||(b=!1);var d=Jk(),e=Mk(this.ya,function(e){var f=e.D&&b?c.Ka:e.D?c.O:c.K;d.D=e.D;return{node:f,payload:d,zb:!1}});e.ac=function(){return D.info("Starting unload...")};return vl(e)};W.prototype.unload=W.prototype.re;
W.prototype.load=function(b,c,d){if(this.l==pl)return Promise.reject(ul());this.dispatchEvent(new B("loading"));var e=Jk();e.uri=b;e.le=Date.now()/1E3;d&&"string"!=typeof d&&(Ke("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),e.Ya=function(){return new d});d&&"string"==typeof d&&(e.mimeType=d);void 0!==c&&(e.startTime=c);var f=wl(this,e)?this.Na:this.Y,g=Mk(this.ya,function(b){if(null==b.D)return null;e.D=b.D;return{node:f,payload:e,zb:!0}});g.ac=
function(){return D.info("Starting load of "+b+"...")};return new Promise(function(b,c){g.Xc=function(){return c(new G(2,7,7002))};g.Vc=function(){return b()};g.Eb=function(){return c(ul())};g.onError=function(b){return c(b)}})};W.prototype.load=W.prototype.load;
function wl(b,c){if(c.Ya)return!1;if(!Hc())return!0;var d=c.mimeType,e=c.uri||"";d||(d={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[U.getExtension(e)]);return d?""==(c.D||Jc()).canPlayType(d)?!1:U.isSupported(e,d)?Lc()&&b.b.streaming.useNativeHlsOnSafari:!0:!1}
function fl(b,c,d){null==c.D&&(c.D=d.D,b.g.m(c.D,"error",function(){var c=xl(b);c&&b.pb(c)}));b.a=c.D;return Promise.resolve()}
function gl(b,c){return u(function e(){var f;return x(e,function(e){switch(e.o){case 1:return b.l!=pl&&(b.l=cl),f=b.md.map(function(b){return b()}),b.md=[],v(e,Promise.all(f),2);case 2:b.dispatchEvent(new B("unloading"));c.Ya=null;c.mimeType=null;c.startTime=null;c.uri=null;c.D&&(b.g.xa(c.D,"loadedmetadata"),b.g.xa(c.D,"playing"),b.g.xa(c.D,"pause"),b.g.xa(c.D,"ended"),b.g.xa(c.D,"ratechange"));b.La&&(b.La.release(),b.La=null);b.Dc&&(b.Dc.stop(),b.Dc=null);if(!b.w){e.C(3);break}return v(e,b.w.stop(),
4);case 4:b.w=null;case 3:if(!b.s){e.C(5);break}return v(e,b.s.stop(),5);case 5:if(!b.f){e.C(7);break}return v(e,b.f.destroy(),8);case 8:b.f=null;case 7:b.J&&(b.J.release(),b.J=null);b.v&&(b.v.release(),b.v=null);if(!b.H){e.C(9);break}return v(e,b.H.destroy(),10);case 10:b.H=null;case 9:if(!c.D||!c.D.src){e.C(11);break}return v(e,new Promise(function(b){return(new F(b)).R(.1)}),12);case 12:c.D.removeAttribute("src"),c.D.load();case 11:if(!b.j){e.C(13);break}return v(e,b.j.destroy(),14);case 14:b.j=
null;case 13:b.Z.a.clear(),b.rb=null,b.G=null,b.Fc.clear(),b.c=null,b.B=null,b.Ad=null,b.Wa=!0,yl(b),w(e)}})})}function hl(b,c){return u(function e(){var f,g,h,k;return x(e,function(e){switch(e.o){case 1:return f=window.muxjs?new Ed:new Fd,g=b.b.textDisplayFactory,h=new g,b.Ad=g,k=new re(c.D,f,h),v(e,k.w,2);case 2:b.H=k,w(e)}})})}
function il(b,c,d){return u(function f(){var g,h,k,l;return x(f,function(f){switch(f.o){case 1:c.Ya=d.Ya;c.mimeType=d.mimeType;c.uri=d.uri;g=c.uri;h=b.L;b.rb=g;if(c.Ya){b.w=c.Ya();f.C(2);break}k=b;return v(f,U.create(g,h,b.b.manifest.retryParameters,c.mimeType),3);case 3:k.w=f.A;case 2:l=bc(b.b.manifest),d.D&&"AUDIO"===d.D.nodeName&&(l.disableVideo=!0),b.w.configure(l),w(f)}})})}
function jl(b,c){var d=c.uri,e=b.L;b.Cc=new Pi(function(){return b.Ib()});Qi(b.Cc,function(c){zl(b,"timelineregionadded",c)});var f={networkingEngine:e,filterNewPeriod:function(c){return b.sd(c)},filterAllPeriods:function(c){return Al(b,c)},onTimelineRegionAdded:function(c){var d=b.Cc;a:{var e=r(d.a);for(var f=e.next();!f.done;f=e.next())if(f=f.value,f.schemeIdUri==c.schemeIdUri&&f.id==c.id&&f.startTime==c.startTime&&f.endTime==c.endTime){e=f;break a}e=null}null==e&&(d.a.add(c),d.b(c))},onEvent:function(c){return b.dispatchEvent(c)},
onError:function(c){return b.pb(c)}};return new Vb(Promise.resolve().then(function(){return u(function h(){var c;return x(h,function(e){switch(e.o){case 1:return c=b,v(e,b.w.start(d,f),2);case 2:c.c=e.A;b.dispatchEvent(new B("manifestparsed"));if(0==b.c.periods.length)throw new G(2,4,4014);Bl(b.c.periods);w(e)}})})}),function(){D.info("Aborting parser step...");return b.w.stop()})}
function kl(b){return u(function d(){return x(d,function(d){switch(d.o){case 1:return b.j=Cl(b,{Zb:b.L,onError:function(d){b.pb(d)},Wc:function(d){Dl(b,d)},onExpirationUpdated:function(d,e){El(b,d,e)},onEvent:function(d){b.dispatchEvent(d)}}),b.j.configure(b.b.drm),v(d,bd(b.j,ti(b.c.periods),b.c.offlineSessionIds),2);case 2:Al(b,b.c.periods),w(d)}})})}
function ll(b,c,d){return u(function f(){var g,h,k,l,n,p,q,t,y,C;return x(f,function(f){switch(f.o){case 1:return c.startTime=d.startTime,g=c.D,h=c.uri,b.rb=h,b.J=new xi({Qc:function(){return c.D.playbackRate},fe:function(b){c.D.playbackRate=b},Ue:function(b){c.D.currentTime+=b}}),b.B=new bl,k=function(){return Fl(b)},l=function(){return Gl(b)},b.g.m(g,"playing",k),b.g.m(g,"pause",k),b.g.m(g,"ended",k),b.g.m(g,"ratechange",l),n=b.b.abrFactory,b.s&&b.ld==n||(b.ld=n,b.s=new n,b.s.configure(b.b.abr)),
Hl(b,b.c.periods),b.sb=new di(b.b.preferredAudioLanguage,b.b.preferredVariantRole,b.b.preferredAudioChannelCount),b.ia=b.b.preferredTextLanguage,Il(b.c.presentationTimeline,b.b.playRangeStart,b.b.playRangeEnd),v(f,b.j.kc(g),2);case 2:return b.s.init(function(c,d,f){d=void 0===d?!1:d;f=void 0===f?0:f;D.debug("switch_");a:{var g=r(b.c.periods);for(var h=g.next();!h.done;h=g.next())if(h=h.value,h.variants.includes(c)){g=h;break a}g=null}Jl(b,g,c,!0);b.f&&kj(b.f,c,d,f)&&Kl(b)}),b.v=Ll(b,c.startTime),
b.La=Ml(b),p=Math.max(b.c.minBufferTime,b.b.streaming.rebufferingGoal),Nl(b,p),b.f=Ol(b),b.f.configure(b.b.streaming),N.De(b.c,b.b.preferredAudioChannelCount),b.l=Pl,b.dispatchEvent(new B("streaming")),v(f,b.f.start(),3);case 3:b.b.streaming.startAtSegmentBoundary&&(q=b.v.g(),t=Ql(b,q),b.v.v(t)),b.c.periods.forEach(b.sd.bind(b)),Rl(b),Kl(b),y=Sl(b)||b.c.periods[0],C=y.variants.some(function(b){return b.primary}),b.b.preferredAudioLanguage||C||D.u("No preferred audio language set.  We will choose an arbitrary language initially"),
Tl(b,y.variants),b.g.Ha(g,"loadedmetadata",function(){b.B.b=Date.now()/1E3-d.le}),w(f)}})})}
function ml(b,c){return u(function e(){var f,g;return x(e,function(e){switch(e.o){case 1:return f=Nd,b.j=Cl(b,{Zb:b.L,onError:function(c){b.pb(c)},Wc:function(c){Dl(b,c)},onExpirationUpdated:function(c,e){El(b,c,e)},onEvent:function(c){b.dispatchEvent(c)}}),b.j.configure(b.b.drm),g={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,
presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:f.tb,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},v(e,bd(b.j,[g],[]),2);case 2:return v(e,b.j.kc(c.D),0)}})})}
function nl(b,c,d){function e(){return Fl(b)}c.uri=d.uri;c.startTime=d.startTime;b.rb=c.uri;b.B=new bl;b.v=new Ii(c.D);null!=c.startTime&&b.v.v(c.startTime);b.J=new xi({Qc:function(){return c.D.playbackRate},fe:function(b){c.D.playbackRate=b},Ue:function(b){c.D.currentTime+=b}});Nl(b,b.b.streaming.rebufferingGoal);b.g.m(c.D,"playing",e);b.g.m(c.D,"pause",e);b.g.m(c.D,"ended",e);b.g.m(c.D,"ratechange",function(){return Gl(b)});"none"!=b.a.preload&&b.g.Ha(c.D,"loadedmetadata",function(){b.B.b=Date.now()/
1E3-d.le});b.a.audioTracks&&(b.g.m(b.a.audioTracks,"addtrack",function(){return Rl(b)}),b.g.m(b.a.audioTracks,"removetrack",function(){return Rl(b)}),b.g.m(b.a.audioTracks,"change",function(){return Rl(b)}));if(b.a.textTracks){var f=b.a.textTracks;b.g.m(f,"addtrack",function(){return Rl(b)});b.g.m(f,"removetrack",function(){return Rl(b)});b.g.m(f,"change",function(){return Rl(b)})}c.D.src=c.uri;(Mc("Tizen")||Mc("Web0S"))&&c.D.load();b.l=Ul;b.dispatchEvent(new B("streaming"));var g=new J;zi(b.a,HTMLMediaElement.HAVE_METADATA,
b.g,function(){g.resolve()});var h=!1;b.md.push(function(){h=!0});zi(b.a,HTMLMediaElement.HAVE_CURRENT_DATA,b.g,function(){return u(function l(){var c;return x(l,function(d){switch(d.o){case 1:if(h)return d["return"]();Vl(b);c=Wl(b);if(c.find(function(b){return"disabled"!=b.mode})){d.C(2);break}return v(d,new Promise(function(c){b.g.Ha(b.a.textTracks,"change",c);(new F(c)).R(1)}),2);case 2:if(h)return d["return"]();Xl(b);w(d)}})})});b.a.error?g.reject(xl(b)):"none"==b.a.preload&&(D.ba('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),
g.resolve());b.g.Ha(b.a,"error",function(){g.reject(xl(b))});return new Vb(g,function(){g.reject(new G(2,7,7001));return Promise.resolve()})}function Vl(b){var c=b.b.preferredAudioLanguage;if(""!=c){b.cd(c);var d=b.b.preferredVariantRole;""!=d&&b.cd(c,d)}}function Xl(b){var c=b.b.preferredTextLanguage;if(""!=c){b.dd(c);var d=b.b.preferredTextRole;""!=d&&b.dd(c,d)}}
function Bl(b){function c(b){return b.video&&b.audio||b.video&&b.video.codecs.includes(",")}b.some(function(b){return b.variants.some(c)})&&(D.debug("Found variant with audio and video content, so filtering out audio-only content in all periods."),b.forEach(function(b){b.variants=b.variants.filter(c)}))}function Cl(b,c){return new Vc(c,b.b.drm.updateExpirationTime)}function el(b){return new K(function(c,d){b.s&&b.s.segmentDownloaded(c,d)})}
function Ll(b,c){return new Ji(b.a,b.c,b.b.streaming,c,function(){b.La&&si(b.La,!0);b.f&&rj(b.f);b.G&&Yl(b)},function(c){return b.dispatchEvent(c)})}function Ml(b){var c=new vi(b.c);wi(c,function(){Rl(b)});var d=new Ri(b.Cc);Vi(d,function(c){zl(b,"timelineregionenter",c)},function(c){zl(b,"timelineregionexit",c)},function(c,d){d||(zl(b,"timelineregionenter",c),zl(b,"timelineregionexit",c))});var e=new ri(b.a);e.a.add(c);e.a.add(d);return e}
function Nl(b,c){b.G=new hi;b.G.a=ji;ki(b.G,c,Math.min(.5,c/2));yl(b);b.Dc=(new F(function(){Yl(b)})).Ia(.25)}function Yl(b){switch(b.l){case Ul:var c=b.a.ended?!0:Gd(b.a.buffered)>=b.a.duration-1;break;case Pl:a:if(b.a.ended||ve(b.H))c=!0;else{if(b.c.presentationTimeline.W()){var d=b.c.presentationTimeline.Sb();if(Gd(b.a.buffered)>=d){c=!0;break a}}c=!1}break;default:c=!1}var e=Id(b.a.buffered,b.a.currentTime);d=b.G;var f=c,g=d.b.get(d.a);c=d.a;e=f||e>=g?ii:ji;d.a=e;c!=e&&yl(b)}
function Ol(b){return new Wi(b.c,{yb:function(){return b.v.g()},getBandwidthEstimate:function(){return b.s.getBandwidthEstimate()},U:b.H,Zb:b.L,Ye:b.Lg.bind(b),Xe:b.Mf.bind(b),onError:b.pb.bind(b),onEvent:function(c){return b.dispatchEvent(c)},Pg:b.Qg.bind(b),Sd:b.Vg.bind(b)})}W.prototype.configure=function(b,c){2==arguments.length&&"string"==typeof b&&(b=Sk(b,c));var d=Wk(this.b,b,dl(this));Zl(this);return d};W.prototype.configure=W.prototype.configure;
function Zl(b){if(b.w){var c=bc(b.b.manifest);b.a&&"AUDIO"===b.a.nodeName&&(c.disableVideo=!0);b.w.configure(c)}b.j&&b.j.configure(b.b.drm);if(b.f){b.f.configure(b.b.streaming);try{b.c.periods.forEach(b.sd.bind(b))}catch(g){b.pb(g)}var d=aj(b.f),e=cj(b.f);c=Sl(b);d=N.Me(d,e,c.variants);b.s&&d&&d.allowedByApplication&&d.allowedByKeySystem?Tl(b,c.variants):(D.debug("Choosing new streams after changing configuration"),$l(b,c))}if(b.H&&(c=b.b.textDisplayFactory,b.Ad!=c)){d=new c;e=b.H;var f=e.g;e.g=d;
f&&(d.setTextVisibility(f.isTextVisible()),f.destroy());e.a&&(e.a.c=d);b.Ad=c;b.f&&(c=b.f,(d=c.b.get("text"))&&jj(c,d.stream,!0,0,!0))}b.s&&(b.s.configure(b.b.abr),b.b.abr.enabled&&!b.Wa?b.s.enable():b.s.disable(),am(b));b.G&&(c=b.b.streaming.rebufferingGoal,b.c&&(c=Math.max(c,b.c.minBufferTime)),ki(b.G,c,Math.min(.5,c/2)))}W.prototype.getConfiguration=function(){var b=dl(this);Wk(b,this.b,dl(this));return b};W.prototype.getConfiguration=W.prototype.getConfiguration;
W.prototype.mh=function(){for(var b in this.b)delete this.b[b];Wk(this.b,dl(this),dl(this));Zl(this)};W.prototype.resetConfiguration=W.prototype.mh;W.prototype.fg=function(){return this.l};W.prototype.getLoadMode=W.prototype.fg;W.prototype.ng=function(){return this.a};W.prototype.getMediaElement=W.prototype.ng;W.prototype.pc=function(){return this.L};W.prototype.getNetworkingEngine=W.prototype.pc;W.prototype.Oc=function(){return this.rb};W.prototype.getAssetUri=W.prototype.Oc;
W.prototype.lg=function(){Ke("getManifestUri",'Please use "getAssetUri" instead.');return this.Oc()};W.prototype.getManifestUri=W.prototype.lg;W.prototype.W=function(){return this.c?this.c.presentationTimeline.W():this.a&&this.a.src?Infinity==this.a.duration:!1};W.prototype.isLive=W.prototype.W;W.prototype.Bb=function(){return this.c?this.c.presentationTimeline.Bb():!1};W.prototype.isInProgress=W.prototype.Bb;
W.prototype.Re=function(){if(this.c){if(!this.c.periods.length)return!1;var b=this.c.periods[0].variants;return b.length?!b[0].video:!1}return this.a&&this.a.src?this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight:!1};W.prototype.isAudioOnly=W.prototype.Re;W.prototype.Ib=function(){if(this.c){var b=this.c.presentationTimeline;return{start:b.Rb(),end:b.ab()}}return this.a&&this.a.src&&(b=this.a.seekable,b.length)?{start:b.start(0),end:b.end(b.length-1)}:{start:0,end:0}};
W.prototype.seekRange=W.prototype.Ib;W.prototype.keySystem=function(){return pd(this.drmInfo())};W.prototype.keySystem=W.prototype.keySystem;W.prototype.drmInfo=function(){return this.j?this.j.a:null};W.prototype.drmInfo=W.prototype.drmInfo;W.prototype.nc=function(){return this.j?this.j.nc():Infinity};W.prototype.getExpiration=W.prototype.nc;W.prototype.Wb=function(){return this.G?this.G.a==ji:!1};W.prototype.isBuffering=W.prototype.Wb;
W.prototype.yd=function(){if(this.J){var b=this.J;b=b.f?0:b.c}else b=0;return b};W.prototype.getPlaybackRate=W.prototype.yd;W.prototype.qe=function(b){0==b?D.ba("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.J&&this.J.set(b),this.l==Pl&&ij(this.f,1<Math.abs(b)))};W.prototype.trickPlay=W.prototype.qe;W.prototype.ze=function(){this.l==Ul&&this.J.set(1);this.l==Pl&&(this.J.set(1),ij(this.f,!1))};W.prototype.cancelTrickPlay=W.prototype.ze;
W.prototype.Ub=function(){if(this.c&&this.v){for(var b=bm(this),c=[],d=r(cm(this)),e=d.next();!e.done;e=d.next()){e=e.value;var f=N.ue(e);f.active=e==b;c.push(f)}return c}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map(function(b){return N.Ne(b)}):[]};W.prototype.getVariantTracks=W.prototype.Ub;
W.prototype.ib=function(){if(this.c&&this.v){for(var b=dm(this),c=[],d=r(em(this)),e=d.next();!e.done;e=d.next()){e=e.value;var f=N.fd(e);f.active=e==b;c.push(f)}return c}return this.a&&this.a.src&&this.a.textTracks?Wl(this).map(function(b){return N.Bg(b)}):[]};W.prototype.getTextTracks=W.prototype.ib;
W.prototype.ae=function(b){if(this.c&&this.f){var c=Sl(this),d=c.textStreams.find(function(c){return c.id==b.id});d?(fm(this,c,d,!1),gm(this,d),this.ia=d.language):D.error("No stream with id",b.id)}else if(this.a&&this.a.src&&this.a.textTracks){c=Wl(this);c=r(c);for(d=c.next();!d.done;d=c.next())d=d.value,N.Bd(d)==b.id?d.mode=this.Ma?"showing":"hidden":d.mode="disabled";hm(this)}};W.prototype.selectTextTrack=W.prototype.ae;
W.prototype.ph=function(){Ke("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var b=this.ib().filter(function(b){return"application/cea-608"==b.mimeType});0<b.length?this.ae(b[0]):D.u("Unable to find the text track embedded in the video.")};W.prototype.selectEmbeddedTextTrack=W.prototype.ph;
W.prototype.Jh=function(){Ke("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var b=this.ib().filter(function(b){return b.active})[0];return b?"application/cea-608"==b.mimeType:!1};W.prototype.usingEmbeddedTextTrack=W.prototype.Jh;
W.prototype.qf=function(b,c,d){d=void 0===d?0:d;if(this.c&&this.f){var e=Sl(this);this.b.abr.enabled&&D.ba("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var f=e.variants.find(function(c){return c.id==b.id});f?N.Xb(f)?(Jl(this,e,f,!1),im(this,f,c,d),this.sb=new ci(f),Tl(this,e.variants)):D.error("Unable to switch to restricted track",b.id):D.error("No variant with id",b.id)}else if(this.a&&
this.a.audioTracks){c=Array.from(this.a.audioTracks);c=r(c);for(d=c.next();!d.done;d=c.next())d=d.value,N.Bd(d)==b.id&&(d.enabled=!0);jm(this)}};W.prototype.selectVariantTrack=W.prototype.qf;W.prototype.Wf=function(){return km(this.Ub())};W.prototype.getAudioLanguagesAndRoles=W.prototype.Wf;W.prototype.xg=function(){return km(this.ib())};W.prototype.getTextLanguagesAndRoles=W.prototype.xg;W.prototype.Vf=function(){return Array.from(lm(this.Ub()))};W.prototype.getAudioLanguages=W.prototype.Vf;
W.prototype.wg=function(){return Array.from(lm(this.ib()))};W.prototype.getTextLanguages=W.prototype.wg;W.prototype.cd=function(b,c){if(this.c&&this.v){var d=Sl(this);this.sb=new di(b,c||"",0,"","audio");mm(this,d)}else if(this.a&&this.a.audioTracks){var e=Array.from(this.a.audioTracks);d=E(b);e=r(e);for(var f=e.next();!f.done;f=e.next()){f=f.value;var g=N.Ne(f);E(g.language)!=d||c&&!g.roles.includes(c)||(f.enabled=!0)}jm(this)}};W.prototype.selectAudioLanguage=W.prototype.cd;
W.prototype.dd=function(b,c){if(this.c&&this.v){var d=Sl(this);this.ia=b;this.Ja=c||"";var e=N.mc(d.textStreams,this.ia,this.Ja)[0]||null;e&&(fm(this,d,e,!1),(this.b.streaming.alwaysStreamText||this.bb())&&gm(this,e))}else{var f=E(b);(d=this.ib().filter(function(b){return E(b.language)==f&&(!c||b.roles.includes(c))})[0])&&this.ae(d)}};W.prototype.selectTextLanguage=W.prototype.dd;
W.prototype.qh=function(b){if(this.c&&this.v){for(var c=Sl(this),d=null,e=r(cm(this)),f=e.next();!f.done;f=e.next())if(f=f.value,f.audio.label==b){d=f;break}null==d?D.u("No variants were found with label: "+b+". Ignoring the request to switch."):(this.sb=new di(d.language,"",0,b),mm(this,c))}};W.prototype.selectVariantsByLabel=W.prototype.qh;
W.prototype.bb=function(){var b=this.Ma;return this.H?this.H.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Wl(this).some(function(b){return"showing"==b.mode}):b};W.prototype.isTextTrackVisible=W.prototype.bb;function Wl(b){return Array.from(b.a.textTracks).filter(function(b){return"metadata"!=b.kind&&"Shaka Player TextTrack"!=b.label})}
W.prototype.je=function(b){var c=this;return u(function e(){var f,g,h,k,l,n;return x(e,function(e){switch(e.o){case 1:f=c.Ma;g=!!b;if(f==g)return e["return"]();c.Ma=g;if(c.l!=Pl){if(c.a&&c.a.src&&c.a.textTracks){h=Wl(c);for(var p=r(h),t=p.next();!t.done;t=p.next())k=t.value,"disabled"!=k.mode&&(k.mode=g?"showing":"hidden")}e.C(2);break}c.H.g.setTextVisibility(g);if(c.b.streaming.alwaysStreamText){e.C(2);break}if(!g){hj(c.f);e.C(2);break}if(bj(c.f,"text")){e.C(2);break}l=Sl(c);n=N.mc(l.textStreams,
c.ia,c.Ja);if(!(0<n.length)){e.C(2);break}return v(e,dj(c.f,n[0]),2);case 2:nm(c),w(e)}})})};W.prototype.setTextTrackVisibility=W.prototype.je;
W.prototype.rg=function(){if(!this.W())return D.u("getPlayheadTimeAsDate is for live streams!"),null;var b=this.ya.f,c=0;if(this.v)c=this.v.g();else if(b){if(null==b.startTime)return new Date;c=b.startTime}if(this.c)return new Date(1E3*(this.c.presentationTimeline.f+this.a.currentTime));if(this.a&&this.a.getStartDate)return b=this.a.getStartDate(),isNaN(b.getTime())?(D.u("EXT-X-PROGRAM-DATETIME required to get playhead time as Date!"),null):new Date(b.getTime()+1E3*c);D.u("No way to get playhead time as Date!");
return null};W.prototype.getPlayheadTimeAsDate=W.prototype.rg;W.prototype.ug=function(){if(!this.W())return D.u("getPresentationStartTimeAsDate is for live streams!"),null;if(this.c)return new Date(1E3*this.c.presentationTimeline.f);if(this.a&&this.a.getStartDate){var b=this.a.getStartDate();return isNaN(b.getTime())?(D.u("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):b}D.u("No way to get presentation start time as Date!");return null};
W.prototype.getPresentationStartTimeAsDate=W.prototype.ug;W.prototype.wd=function(){var b={total:[],audio:[],video:[],text:[]};this.l==Ul&&(b.total=Jd(this.a.buffered));this.l==Pl&&this.H.wd(b);return b};W.prototype.getBufferedInfo=W.prototype.wd;
W.prototype.getStats=function(){if(this.l!=Pl&&this.l!=Ul)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,switchHistory:[],stateHistory:[]};Fl(this);var b=this.a;if(b.getVideoPlaybackQuality){b=b.getVideoPlaybackQuality();var c=this.B,d=Number(b.totalVideoFrames);c.v=Number(b.droppedVideoFrames);c.s=d;this.B.l=Number(b.corruptedVideoFrames)}this.j?
(b=this.j,b=b.K?b.K:NaN):b=NaN;this.B.j=b;if(this.l==Pl){if(b=bm(this))this.B.w=b.bandwidth;b&&b.video&&(c=this.B,d=b.video.height||NaN,c.B=b.video.width||NaN,c.g=d);b=this.s.getBandwidthEstimate();this.B.f=b}var e=this.B;b=e.B;c=e.g;d=e.w;var f=e.s,g=e.v,h=e.l,k=e.f,l=e.b,n=Zk(e.a,"playing"),p=Zk(e.a,"paused"),q=Zk(e.a,"buffering"),t=e.j,y=$k(e.a),C=[];e=r(e.c.a);for(var z=e.next();!z.done;z=e.next())z=z.value,C.push({timestamp:z.timestamp,id:z.id,type:z.type,fromAdaptation:z.fromAdaptation,bandwidth:z.bandwidth});
return{width:b,height:c,streamBandwidth:d,decodedFrames:f,droppedFrames:g,corruptedFrames:h,estimatedBandwidth:k,loadLatency:l,playTime:n,pauseTime:p,bufferingTime:q,licenseTime:t,stateHistory:y,switchHistory:C}};W.prototype.getStats=W.prototype.getStats;
W.prototype.addTextTrack=function(b,c,d,e,f,g){var h=this;return u(function l(){var n,p,q,t,y,C,z,H,I;return x(l,function(l){switch(l.o){case 1:if(h.l==Ul)throw D.error("Cannot add text when loaded with src="),Error("State error!");if(h.l!=Pl)throw D.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");n=Sl(h);p=Nd;q=h.c.periods.indexOf(n);t=q+1;y=t>=h.c.periods.length?h.c.presentationTimeline.ra():h.c.periods[t].startTime;C=y-n.startTime;if(Infinity==
C)throw new G(1,4,4033);z=new S(1,0,C,function(){return[b]},0,null);H={id:h.kf++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(b){return 1==b?z:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:e,codecs:f||"",kind:d,encrypted:!1,keyId:null,language:c,label:g||null,type:p.Oa,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,
audioSamplingRate:null,closedCaptions:null};h.Fc.add(H);n.textStreams.push(H);return v(l,dj(h.f,H),2);case 2:return(I=bj(h.f,"text"))&&Wh(h.Z,n,I),h.Fc["delete"](H),D.debug("Choosing new streams after adding a text stream"),$l(h,n),Rl(h),l["return"](N.fd(H))}})})};W.prototype.addTextTrack=W.prototype.addTextTrack;W.prototype.ee=function(b,c){this.Gc.width=b;this.Gc.height=c};W.prototype.setMaxHardwareResolution=W.prototype.ee;
W.prototype.$d=function(){if(this.l==Pl){var b=this.f;if(b.f)D.error("Unable to retry after StreamingEngine is destroyed!"),b=!1;else if(b.v)D.error("Unable to retry after StreamingEngine encountered a fatal error!"),b=!1;else{for(var c=r(b.b.values()),d=c.next();!d.done;d=c.next()){d=d.value;var e=nj(d);d.tc&&(D.info(e,"Retrying after failure..."),d.tc=!1,gj(b,d,.1))}b=!0}}else b=!1;return b};W.prototype.retryStreaming=W.prototype.$d;W.prototype.jg=function(){return this.c};
W.prototype.getManifest=W.prototype.jg;W.prototype.kg=function(){return this.w?this.w.constructor:null};W.prototype.getManifestParserFactory=W.prototype.kg;function Jl(b,c,d,e){Xh(b.Z,c).variant=d;b=b.B.c;b.c!=d&&(b.c=d,b.a.push({timestamp:Date.now()/1E3,id:d.id,type:"variant",fromAdaptation:e,bandwidth:d.bandwidth}))}function fm(b,c,d,e){Wh(b.Z,c,d);b=b.B.c;b.b!=d&&(b.b=d,b.a.push({timestamp:Date.now()/1E3,id:d.id,type:"text",fromAdaptation:e,bandwidth:null}))}
function dl(b){var c=Uk();c.streaming.failureCallback=function(c){var d=[1001,1002,1003];b.W()&&d.includes(c.code)&&(c.severity=1,D.u("Live streaming error.  Retrying automatically..."),b.$d())};c.textDisplayFactory=function(){return new Ok(b.a)};return c}
function Hl(b,c){for(var d=0;d<c.length;d++){for(var e=c[d],f=new Map,g=r(e.variants),h=g.next();!h.done;h=g.next())if(h=h.value,h.video&&h.video.closedCaptions){h=h.video;for(var k=r(h.closedCaptions.keys()),l=k.next();!l.done;l=k.next())if(l=l.value,!f.has(l)){var n={id:b.kf++,originalId:l,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",
codecs:"",kind:"caption",encrypted:!1,keyId:null,language:h.closedCaptions.get(l),label:null,type:"text",primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:h.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null};f.set(l,n)}}f=r(f.values());for(g=f.next();!g.done;g=f.next())e.textStreams.push(g.value)}}
function Al(b,c){var d=b.f?aj(b.f):null,e=b.f?cj(b.f):null;c.forEach(N.filterNewPeriod.bind(null,b.j,d,e));d=ec(c,function(b){return b.variants.some(N.Xb)});if(0==d)throw new G(2,4,4032);if(d<c.length)throw new G(2,4,4011);c.forEach(function(b){N.we(b.variants,this.b.restrictions,this.Gc)&&this.f&&Sl(this)==b&&Rl(this);om(this,b.variants)}.bind(b))}m=W.prototype;
m.sd=function(b){var c=this.f?aj(this.f):null,d=this.f?cj(this.f):null;N.filterNewPeriod(this.j,c,d,b);c=b.variants;if(!c.some(N.Xb))throw new G(2,4,4011);om(this,b.variants);N.we(c,this.b.restrictions,this.Gc)&&this.f&&Sl(this)==b&&Rl(this);if(b=this.j?this.j.a:null)for(c=r(c),d=c.next();!d.done;d=c.next()){d=r(d.value.drmInfos);for(var e=d.next();!e.done;e=d.next())if(e=e.value,e.keySystem==b.keySystem){e=r(e.initData||[]);for(var f=e.next();!f.done;f=e.next())f=f.value,ld(this.j,f.initDataType,
f.initData)}}};function im(b,c,d,e){d=void 0===d?!1:d;e=void 0===e?0:e;if(b.Wa)return b.na=c,b.jf=d,b.Ve=e,!0;(c=kj(b.f,c,d,e))&&jm(b);return c}function gm(b,c){if(b.Wa)return b.ka=c,!0;var d=jj(b.f,c,!0,0,!1);d&&hm(b);return d}
function Ql(b,c){function d(b,c){if(!b)return null;var d=b.findSegmentPosition(c-g.startTime);return null==d?null:(d=b.getSegmentReference(d))?d.startTime+g.startTime:null}var e=aj(b.f),f=cj(b.f),g=Sl(b);e=d(e,c);f=d(f,c);return null!=f&&null!=e?Math.max(f,e):null!=f?f:null!=e?e:c}function yl(b){var c=b.Wb();if(b.B&&b.G&&b.v){var d=b.J;d.f=c;yi(d);Fl(b)}b.dispatchEvent(new B("buffering",{buffering:c}))}function Gl(b){var c=b.a.playbackRate;0!=c&&b.J.set(c)}
function Fl(b){if(b.B&&b.G){var c=b.B.a;b.G.a==ji?Yk(c,"buffering"):b.a.paused?Yk(c,"paused"):b.a.ended?Yk(c,"ended"):Yk(c,"playing")}}function Tl(b,c){try{om(b,c)}catch(e){return b.pb(e),null}var d=c.filter(function(b){return N.Xb(b)});d=b.sb.create(d);b.s.setVariants(Array.from(d.values()));return b.s.chooseVariant()}function $l(b,c){var d=mm(b,c,!1),e=N.mc(c.textStreams,b.ia,b.Ja)[0]||null,f=!1;e&&(b.b.streaming.alwaysStreamText||b.bb())&&(fm(b,c,e,!0),f=gm(b,e));(d||f)&&Kl(b)}
function mm(b,c,d){d=void 0===d?!0:d;var e=Tl(b,c.variants),f=!1;e&&(Jl(b,c,e,!0),f=im(b,e,!0));d&&f&&Kl(b);return f}
m.Lg=function(b){D.debug("onChooseStreams_",b);try{D.N("onChooseStreams_, choosing variant from ",b.variants);D.N("onChooseStreams_, choosing text from ",b.textStreams);this.Wa=!0;this.s.disable();am(this);D.debug("Choosing new streams after period changed");var c=Tl(this,b.variants),d=N.mc(b.textStreams,this.ia,this.Ja)[0]||null;this.na&&(b.variants.includes(this.na)&&(c=this.na),this.na=null);this.ka&&(b.textStreams.includes(this.ka)&&(d=this.ka),this.ka=null);c&&Jl(this,b,c,!0);d&&fm(this,b,d,
!0);var e=this.f,f=e.b.get("video");if(f)var g=e.c.periods[f.Ba];else{var h=e.b.get("audio");g=h?e.c.periods[h.Ba]:null}var k=c?c.audio:null;if(!g&&d){var l;if(l=k){b=d;var n=E(this.b.preferredTextLanguage),p=E(k.language),q=E(b.language);l=jb(q,n)&&!jb(p,q)}l&&(this.Ma=!0);this.Ma&&this.H.g.setTextVisibility(!0);nm(this)}var t=this.b.streaming.alwaysStreamText||this.bb()?{variant:c,text:d}:{variant:c,text:null};D.N("onChooseStreams_, chose variant ",t.variant);D.N("onChooseStreams_, chose text ",
t.text);return t}catch(y){return this.pb(y),{variant:null,text:null}}};m.Mf=function(){D.debug("canSwitch_");this.Wa=!1;this.b.abr.enabled&&(this.s.enable(),am(this));this.na&&(kj(this.f,this.na,this.jf,this.Ve),jm(this),this.na=null);this.ka&&(jj(this.f,this.ka,!0,0,!1),hm(this),this.ka=null)};m.Qg=function(){this.w&&this.w.update&&this.w.update()};m.Vg=function(){this.v&&this.v.w()};function Kl(b){pm(b,new B("adaptation"))}function Rl(b){pm(b,new B("trackschanged"))}
function jm(b){pm(b,new B("variantchanged"))}function hm(b){pm(b,new B("textchanged"))}function nm(b){pm(b,new B("texttrackvisibility"))}function am(b){pm(b,new B("abrstatuschanged",{Jg:b.b.abr.enabled}))}m.pb=function(b){if(this.l!=pl){var c=new B("error",{detail:b});this.dispatchEvent(c);c.defaultPrevented&&(b.handled=!0)}};function zl(b,c,d){b.dispatchEvent(new B(c,{detail:{schemeIdUri:d.schemeIdUri,value:d.value,startTime:d.startTime,endTime:d.endTime,id:d.id,eventElement:d.eventElement}}))}
function xl(b){if(!b.a.error)return null;var c=b.a.error.code;if(1==c)return null;var d=b.a.error.msExtendedCode;d&&(0>d&&(d+=Math.pow(2,32)),d=d.toString(16));return new G(2,3,3016,c,d,b.a.error.message)}
function Dl(b,c){if(b.f){var d=Sl(b),e=!1,f=Object.keys(c);0==f.length&&D.u("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var g=1==f.length&&"00"==f[0];g&&D.u("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");f.length&&b.c.periods.forEach(function(b){b.variants.forEach(function(b){N.yg(b).forEach(function(d){var f=
b.allowedByKeySystem;d.keyId&&(d=c[g?"00":d.keyId],b.allowedByKeySystem=!!d&&!rl.includes(d));f!=b.allowedByKeySystem&&(e=!0)})})});f=aj(b.f);var h=cj(b.f);(f=N.Me(f,h,d.variants))&&!f.allowedByKeySystem&&(D.debug("Choosing new variants after key status changed"),mm(b,d));e&&(Rl(b),Tl(b,d.variants))}}function El(b,c,d){if(b.w&&b.w.onExpirationUpdated)b.w.onExpirationUpdated(c,d);b.dispatchEvent(new B("expirationupdated"))}
function Il(b,c,d){0<c&&(b.W()?D.u("|playRangeStart| has been configured for live content. Ignoring the setting."):b.vf(c));d<b.ra()&&(b.W()?D.u("|playRangeEnd| has been configured for live content. Ignoring the setting."):b.Ua(d))}
function om(b,c){var d=b.j?Cc(b.j.Y):{},e=Object.keys(d);e=e.length&&"00"==e[0];for(var f=!1,g=!1,h=[],k=[],l=r(c),n=l.next();!n.done;n=l.next()){n=n.value;var p=[];n.audio&&p.push(n.audio);n.video&&p.push(n.video);p=r(p);for(var q=p.next();!q.done;q=p.next())if(q=q.value,q.keyId){var t=d[e?"00":q.keyId];t?rl.includes(t)&&(k.includes(t)||k.push(t)):h.includes(q.keyId)||h.push(q.keyId)}n.allowedByApplication?n.allowedByKeySystem&&(f=!0):g=!0}if(!f)throw new G(2,4,4012,{hasAppRestrictions:g,missingKeys:h,
restrictedKeyStatuses:k});}function pm(b,c){u(function e(){return x(e,function(e){switch(e.o){case 1:return v(e,Promise.resolve(),2);case 2:b.l!=pl&&b.dispatchEvent(c),w(e)}})})}function lm(b){var c=new Set;b=r(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.language?c.add(E(d.language)):c.add("und");return c}
function km(b){var c=new Map;b=r(b);for(var d=b.next();!d.done;d=b.next()){var e=d.value;d="und";var f=[];e.language&&(d=E(e.language));"variant"==e.type?f=e.audioRoles:f=e.roles;f&&f.length||(f=[""]);c.has(d)||c.set(d,new Set);e=r(f);for(f=e.next();!f.done;f=e.next())f=f.value,c.get(d).add(f)}var g=[];c.forEach(function(b,c){for(var d=r(b),e=d.next();!e.done;e=d.next())g.push({language:c,role:e.value})});return g}
function cm(b){b=Sl(b);return null==b?[]:b.variants.filter(function(b){return N.Xb(b)})}function em(b){var c=Sl(b);return null==c?[]:c.textStreams.filter(function(c){return!b.Fc.has(c)})}function Sl(b){var c=b.v.g(),d=null;b=r(b.c.periods);for(var e=b.next();!e.done;e=b.next())e=e.value,e.startTime<=c&&(d=e);return d}function bm(b){var c=Sl(b);return Xh(b.Z,c).variant}
function dm(b){var c=Sl(b);if(null==c)return null;if(!Xh(b.Z,c).text){var d=N.mc(c.textStreams,b.ia,b.Ja);d.length&&Wh(b.Z,c,d[0])}return Xh(b.Z,c).text}function ul(){return new G(2,7,7E3)}function ol(b,c,d,e,f,g){return e==b&&f.D==g.D&&f.uri==g.uri&&f.mimeType==g.mimeType&&f.Ya==g.Ya?c:d}function Jk(){return{Ya:null,D:null,mimeType:null,startTime:null,le:null,uri:null}}
function vl(b){return new Promise(function(c,d){b.Eb=function(){return d(ul())};b.Vc=function(){return c()};b.onError=function(b){return d(b)};b.Xc=function(){return d(ul())}})}var pl=0,cl=1,Pl=2,Ul=3;W.LoadMode={DESTROYED:pl,NOT_LOADED:cl,MEDIA_SOURCE:Pl,SRC_EQUALS:Ul};function qm(b,c,d){var e=void 0==c.expiration?Infinity:c.expiration,f=c.presentationTimeline.ra();c=rm(c.periods[0]);return{offlineUri:null,originalManifestUri:b,duration:f,size:0,expiration:e,tracks:c,appMetadata:d}}function sm(b,c){var d=yk(new wk(b.Ta(),b.ua()),c.periods[0],new V(null,0)),e=c.appMetadata||{};d=rm(d);return{offlineUri:b.toString(),originalManifestUri:c.originalManifestUri,duration:c.duration,size:c.size,expiration:c.expiration,tracks:d,appMetadata:e}}
function rm(b){var c=[],d=N.qg(b.variants);d=r(d);for(var e=d.next();!e.done;e=d.next())c.push(N.ue(e.value));b=r(b.textStreams);for(d=b.next();!d.done;d=b.next())c.push(N.fd(d.value));return c};function tm(){this.a={}}function um(b,c){var d=c.audio,e=c.video;d&&!e&&(b.a[d.id]=d.bandwidth||c.bandwidth);!d&&e&&(b.a[e.id]=e.bandwidth||c.bandwidth);if(d&&e){var f=d.bandwidth||393216,g=e.bandwidth||c.bandwidth-f;0>=g&&(D.u("Audio bit rate consumes variants bandwidth. Setting video bandwidth to match variant's bandwidth."),g=c.bandwidth);b.a[d.id]=f;b.a[e.id]=g}}function vm(b,c,d){d=d.endTime-d.startTime;return wm(b,c)*d}
function wm(b,c){var d=b.a[c];null==d&&(d=0,D.error("Asking for bitrate of stream not given to the estimator"));0==d&&D.u("Using bitrate of 0, this stream won't affect progress");return d};function xm(b){this.a=!1;this.b=new J;this.c=b}xm.prototype.destroy=function(){var b=this;if(this.a)return this.b;this.a=!0;return this.c().then(function(){b.b.resolve()},function(){b.b.resolve()})};function ym(b,c,d){b=r(b.periods);for(var e=b.next();!e.done;e=b.next())e=e.value,e.variants=e.variants.filter(function(b){return N.Jd(b,c,d)})}function zm(b){b=r(b.periods);for(var c=b.next();!c.done;c=b.next())c=c.value,c.variants=c.variants.filter(function(b){var c=!0;b.audio&&(c=c&&te(b.audio));b.video&&(c=c&&te(b.video));return c})}function Am(b,c){for(var d=r(b.periods),e=d.next();!e.done;e=d.next())e=e.value,e.variants=e.variants.filter(function(b){return Ad(c,b)})}
function Bm(b){var c=new Cm;b.periods.forEach(function(b,d){var e=Dm(b.variants);if(0==d){e=r(e.a);for(var f=e.next();!f.done;f=e.next())c.add(f.value)}else Em(c,e)});b=r(b.periods);for(var d=b.next();!d.done;d=b.next())d=d.value,d.variants=d.variants.filter(function(b){return c.contains(new Fm(b))})}
function Gm(b,c){return u(function e(){var f,g,h,k;return x(e,function(e){switch(e.o){case 1:f=null,g=r(b.periods),h=g.next();case 2:if(h.done){e.C(0);break}k=h.value;f&&(k.variants=k.variants.filter(function(b){return f.contains(new Fm(b))}));return v(e,c(k),5);case 5:f=Dm(k.variants),h=g.next(),e.C(2)}})})}function Fm(b){var c=b.audio;b=b.video;this.b=c?c.mimeType:null;this.a=c?c.codecs.split(".")[0]:null;this.f=b?b.mimeType:null;this.c=b?b.codecs.split(".")[0]:null}function Cm(){this.a=[]}
Cm.prototype.add=function(b){this.contains(b)||this.a.push(b)};function Em(b,c){b.a=b.a.filter(function(b){return c.contains(b)})}Cm.prototype.contains=function(b){return this.a.some(function(c){return b.b==c.b&&b.a==c.a&&b.f==c.f&&b.c==c.c})};function Dm(b){var c=new Cm;b=r(b);for(var d=b.next();!d.done;d=b.next())c.add(new Fm(d.value));return c};function X(b){var c=this;if(b&&b.constructor!=W)throw new G(2,9,9008);this.b=this.a=null;b?(this.a=b.b,this.b=b.pc()):(this.a=Uk(),this.b=new K);this.f=!1;this.c=[];this.g=[];var d=!b;this.j=new xm(function(){return u(function f(){var b;return x(f,function(f){switch(f.o){case 1:return b=function(){},v(f,Promise.all(c.g.map(function(c){return c.then(b,b)})),2);case 2:if(!d){f.C(3);break}return v(f,c.b.destroy(),3);case 3:c.a=null,c.b=null,w(f)}})})})}A("shaka.offline.Storage",X);
function Hm(){if(Hc())a:{var b=r(ek.values());for(var c=b.next();!c.done;c=b.next())if(c=c.value,c=c()){c.destroy();b=!0;break a}b=!1}else b=!1;return b}X.support=Hm;X.prototype.destroy=function(){return this.j.destroy()};X.prototype.destroy=X.prototype.destroy;
X.prototype.configure=function(b,c){2==arguments.length&&"string"==typeof b&&(b=Sk(b,c));var d=b,e=!1;null!=d.trackSelectionCallback&&(e=!0,d.offline=d.offline||{},d.offline.trackSelectionCallback=d.trackSelectionCallback,delete d.trackSelectionCallback);null!=d.progressCallback&&(e=!0,d.offline=d.offline||{},d.offline.progressCallback=d.progressCallback,delete d.progressCallback);null!=d.usePersistentLicense&&(e=!0,d.offline=d.offline||{},d.offline.usePersistentLicense=d.usePersistentLicense,delete d.usePersistentLicense);
e&&Ke("Storage.configure with OfflineConfig","Please configure storage with a player configuration.");return Wk(this.a,b)};X.prototype.configure=X.prototype.configure;X.prototype.getConfiguration=function(){var b=Uk();Wk(b,this.a,Uk());return b};X.prototype.getConfiguration=X.prototype.getConfiguration;X.prototype.pc=function(){return this.b};X.prototype.getNetworkingEngine=X.prototype.pc;
X.prototype.store=function(b,c,d){var e=this;return Im(this,Jm(this,b,c||{},function(){return u(function g(){var c,k;return x(g,function(g){switch(g.o){case 1:return d&&"string"!=typeof d?(Ke("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),c=d,g["return"](new c)):v(g,U.create(b,e.b,e.a.manifest.retryParameters,d),2);case 2:return k=g.A,g["return"](k)}})})}))};X.prototype.store=X.prototype.store;X.prototype.vg=function(){return this.f};
X.prototype.getStoreInProgress=X.prototype.vg;
function Jm(b,c,d,e){return u(function g(){var h,k,l,n,p,q,t,y,C,z;return x(g,function(g){switch(g.o){case 1:Km();if(b.f)return g["return"](Promise.reject(new G(2,9,9006)));b.f=!0;return v(g,Lm(b,c,e),2);case 2:h=g.A;Mm(b);k=!h.presentationTimeline.W()&&!h.presentationTimeline.Bb();if(!k)throw new G(2,9,9005,c);l=null;n=new dk;q=p=null;xa(g,3,4);return v(g,Nm(b,h,function(b){q=q||b}),6);case 6:l=g.A;Mm(b);if(q)throw q;return v(g,Om(b,h,l),7);case 7:return v(g,n.init(),8);case 8:return Mm(b),v(g,fk(n),
9);case 9:return p=g.A,Mm(b),v(g,Pm(b,p.ua,l,h,c,d),10);case 10:t=g.A;Mm(b);if(q)throw q;return v(g,p.ua.addManifests([t]),11);case 11:return y=g.A,Mm(b),C=new uk("manifest",p.path.Ta,p.path.ua,y[0]),g["return"](sm(C,t));case 4:return Ea(g),b.f=!1,b.c=[],v(g,n.destroy(),12);case 12:if(!l){g.C(13);break}return v(g,l.destroy(),13);case 13:Fa(g,0);break;case 3:z=Da(g);if(!p){g.C(15);break}return v(g,p.ua.removeSegments(b.c,function(){}),15);case 15:throw q||z;}})})}
function Om(b,c,d){return u(function f(){var g,h;return x(f,function(f){switch(f.o){case 1:return g={width:Infinity,height:Infinity},ym(c,b.a.restrictions,g),zm(c),Am(c,d),Bm(c),h=b.a.preferredAudioChannelCount,N.De(c,h),v(f,Gm(c,function(c){return u(function p(){var d,f,g,h,k,l,I,T;return x(p,function(p){switch(p.o){case 1:d=N;f=[];for(var q=r(c.variants),t=q.next();!t.done;t=q.next())g=t.value,f.push(d.ue(g));q=r(c.textStreams);for(t=q.next();!t.done;t=q.next())h=t.value,f.push(d.fd(h));return v(p,
b.a.offline.trackSelectionCallback(f),2);case 2:k=p.A;l=new Set;I=new Set;q=r(k);for(t=q.next();!t.done;t=q.next())T=t.value,"variant"==T.type&&l.add(T.id),"text"==T.type&&I.add(T.id);c.variants=c.variants.filter(function(b){return l.has(b.id)});c.textStreams=c.textStreams.filter(function(b){return I.has(b.id)});w(p)}})})}),2);case 2:Qm(c),w(f)}})})}
function Pm(b,c,d,e,f,g){return u(function k(){var l,n,p,q,t,y,C,z,H,I;return x(k,function(k){switch(k.o){case 1:return l=qm(f,e,g),n=e.periods.some(function(b){return b.variants.some(function(b){return b.drmInfos&&b.drmInfos.length})}),p=e.periods.some(function(b){return b.variants.some(function(b){return b.drmInfos.some(function(b){return b.initData&&b.initData.length})})}),q=n&&!p,t=null,q&&(y=d.a,t=Rm.get(y.keySystem)),C=new Pj(b.b,function(c,d){l.size=d;b.a.offline.progressCallback(l,c)},function(c,
e){q&&b.a.offline.usePersistentLicense&&t==e&&ld(d,"cenc",c)}),ya(k,2),H=z=Sm(b,C,c,d,e,f,g),v(k,Sj(C),4);case 4:H.size=k.A;z.expiration=d.nc();I=qd(d);z.sessionIds=b.a.offline.usePersistentLicense?I:[];if(n&&b.a.offline.usePersistentLicense&&!I.length)throw new G(2,9,9007);return k["return"](z);case 2:return Ea(k),v(k,C.destroy(),5);case 5:Fa(k,0)}})})}X.prototype.remove=function(b){return Im(this,Tm(this,b))};X.prototype.remove=X.prototype.remove;
function Tm(b,c){return u(function e(){var f,g,h,k,l,n;return x(e,function(e){switch(e.o){case 1:Km();f=vk(c);if(null==f||"manifest"!=f.a)return e["return"](Promise.reject(new G(2,9,9004,c)));g=f;h=new dk;ya(e,2);return v(e,h.init(),4);case 4:return v(e,hk(h,g.Ta(),g.ua()),5);case 5:return k=e.A,v(e,k.getManifests([g.key()]),6);case 6:return l=e.A,n=l[0],v(e,Promise.all([Um(b,n,h),Vm(b,k,g,n)]),2);case 2:return Ea(e),v(e,h.destroy(),8);case 8:Fa(e,0)}})})}
function Wm(b,c){for(var d=[],e=r(b.periods),f=e.next();!f.done;f=e.next()){f=r(f.value.streams);for(var g=f.next();!g.done;g=f.next())g=g.value,c&&"video"==g.contentType?d.push({contentType:Dc(g.mimeType,g.codecs),robustness:b.drmInfo.videoRobustness}):c||"audio"!=g.contentType||d.push({contentType:Dc(g.mimeType,g.codecs),robustness:b.drmInfo.audioRobustness})}return d}function Um(b,c,d){return u(function f(){return x(f,function(f){switch(f.o){case 1:return v(f,Xm(b.b,b.a.drm,d,c),0)}})})}
function Vm(b,c,d,e){function f(){k+=1;b.a.offline.progressCallback(l,k/h)}var g=Ym(e),h=g.length+1,k=0,l=sm(d,e);return Promise.all([c.removeSegments(g,f),c.removeManifests([d.key()],f)])}X.prototype.jh=function(){return Im(this,Zm(this))};X.prototype.removeEmeSessions=X.prototype.jh;
function Zm(b){return u(function d(){var e,f,g,h,k,l,n,p,q;return x(d,function(d){switch(d.o){case 1:return Km(),e=b.b,f=b.a.drm,g=new dk,h=!1,ya(d,2),v(d,g.init(),4);case 4:k=[];ik(g,function(b){return k.push(b)});l=Promise.resolve();n={};p=r(k);for(q=p.next();!q.done;n={ed:n.ed},q=p.next())n.ed=q.value,l=l.then(function(b){return function(){return u(function z(){var d,g;return x(z,function(k){switch(k.o){case 1:return v(k,b.ed.getAll(),2);case 2:return d=k.A,v(k,Fk(f,e,d),3);case 3:return g=k.A,
v(k,b.ed.remove(g),4);case 4:g.length!=d.length&&(h=!0),w(k)}})})}}(n));return v(d,l,2);case 2:return Ea(d),v(d,g.destroy(),6);case 6:Fa(d,3);break;case 3:return d["return"](!h)}})})}X.prototype.list=function(){return Im(this,$m())};X.prototype.list=X.prototype.list;
function $m(){return u(function c(){var d,e,f;return x(c,function(c){switch(c.o){case 1:return Km(),d=[],e=new dk,ya(c,2),v(c,e.init(),4);case 4:return f=Promise.resolve(),gk(e,function(c,e){f=f.then(function(){return u(function n(){var f;return x(n,function(g){switch(g.o){case 1:return v(g,e.getAllManifests(),2);case 2:f=g.A,f.forEach(function(e,f){var g=sm(new uk("manifest",c.Ta,c.ua,f),e);d.push(g)}),w(g)}})})})}),v(c,f,2);case 2:return Ea(c),v(c,e.destroy(),6);case 6:Fa(c,3);break;case 3:return c["return"](d)}})})}
function Lm(b,c,d){return u(function f(){var g,h,k,l,n,p;return x(f,function(f){switch(f.o){case 1:return g=null,h=b.b,k={networkingEngine:h,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(b){g=b}},v(f,d(),2);case 2:return l=f.A,l.configure(b.a.manifest),Mm(b),ya(f,3),v(f,l.start(c,k),5);case 5:return n=f.A,Mm(b),p=an(n),v(f,Promise.all(bb(p,function(b){return b.createSegmentIndex()})),6);case 6:Mm(b);if(g)throw g;
return f["return"](n);case 3:return Ea(f),v(f,l.stop(),7);case 7:Fa(f,0)}})})}function Nm(b,c,d){return u(function f(){var g,h,k;return x(f,function(f){switch(f.o){case 1:return g=new Vc({Zb:b.b,onError:d,Wc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),h=ti(c.periods),k=b.a,g.configure(k.drm),v(f,$c(g,h,k.offline.usePersistentLicense),2);case 2:return v(f,jd(g),3);case 3:return v(f,kd(g),4);case 4:return f["return"](g)}})})}
function Sm(b,c,d,e,f,g,h){var k=new tm,l=f.periods.map(function(e){return bn(b,c,d,k,f,e)}),n=e.a,p=b.a.offline.usePersistentLicense;n&&p&&(n.initData=[]);return{originalManifestUri:g,duration:f.presentationTimeline.ra(),size:0,expiration:e.nc(),periods:l,sessionIds:p?qd(e):[],drmInfo:n,appMetadata:h}}
function bn(b,c,d,e,f,g){for(var h=r(g.variants),k=h.next();!k.done;k=h.next())um(e,k.value);h=r(g.textStreams);for(k=h.next();!k.done;k=h.next())e.a[k.value.id]=52;h=cn(g);var l=new Map;h=r(h);for(k=h.next();!k.done;k=h.next()){k=k.value;var n=dn(b,c,d,e,f,k);l.set(k.id,n)}g.variants.forEach(function(b){b.audio&&l.get(b.audio.id).variantIds.push(b.id);b.video&&l.get(b.video.id).variantIds.push(b.id)});return{startTime:g.startTime,streams:Array.from(l.values())}}
function dn(b,c,d,e,f,g){var h={id:g.id,originalId:g.originalId,primary:g.primary,presentationTimeOffset:g.presentationTimeOffset||0,contentType:g.type,mimeType:g.mimeType,codecs:g.codecs,frameRate:g.frameRate,pixelAspectRatio:g.pixelAspectRatio,kind:g.kind,language:g.language,label:g.label,width:g.width||null,height:g.height||null,initSegmentKey:null,encrypted:g.encrypted,keyId:g.keyId,segments:[],variantIds:[]};f=f.presentationTimeline.rc();var k=g.id,l=g.initSegmentReference;l&&(l=Dg(l.c(),l.b,
l.a,b.a.streaming.retryParameters),Qj(c,k,l,.5*wm(e,g.id),!0,function(c){return u(function q(){var e;return x(q,function(f){switch(f.o){case 1:return v(f,d.addSegments([{data:c}]),2);case 2:e=f.A,b.c.push(e[0]),h.initSegmentKey=e[0],w(f)}})})}));en(g,f,function(f){var l=Dg(f.c(),f.b,f.a,b.a.streaming.retryParameters);Qj(c,k,l,vm(e,g.id,f),!1,function(c){return u(function y(){var e;return x(y,function(g){switch(g.o){case 1:return v(g,d.addSegments([{data:c}]),2);case 2:e=g.A,b.c.push(e[0]),h.segments.push({startTime:f.startTime,
endTime:f.endTime,dataKey:e[0]}),w(g)}})})})});return h}function en(b,c,d){c=b.findSegmentPosition(c);for(var e=null==c?null:b.getSegmentReference(c);e;)d(e),e=b.getSegmentReference(++c)}function Mm(b){if(b.j.a)throw new G(2,9,7001);}function Km(){if(!Hm())throw new G(2,9,9E3);}function Im(b,c){return u(function e(){return x(e,function(e){switch(e.o){case 1:return b.g.push(c),ya(e,2),v(e,c,4);case 4:return e["return"](e.A);case 2:Ea(e),dc(b.g,c),Fa(e,0)}})})}
function Ym(b){var c=[];b.periods.forEach(function(b){b.streams.forEach(function(b){null!=b.initSegmentKey&&c.push(b.initSegmentKey);b.segments.forEach(function(b){c.push(b.dataKey)})})});return c}X.deleteAll=function(){return u(function c(){var d;return x(c,function(c){switch(c.o){case 1:return d=new dk,ya(c,2),v(c,d.erase(),2);case 2:return Ea(c),v(c,d.destroy(),5);case 5:Fa(c,0)}})})};
function Xm(b,c,d,e){return u(function g(){var h,k,l;return x(g,function(g){switch(g.o){case 1:if(!e.drmInfo)return g["return"]();h=jk(d);k=e.sessionIds.map(function(b){return{sessionId:b,keySystem:e.drmInfo.keySystem,licenseUri:e.drmInfo.licenseServerUri,serverCertificate:e.drmInfo.serverCertificate,audioCapabilities:Wm(e,!1),videoCapabilities:Wm(e,!0)}});return v(g,Fk(c,b,k),2);case 2:return l=g.A,v(g,h.remove(l),3);case 3:return v(g,h.add(k.filter(function(b){return-1==l.indexOf(b.sessionId)})),
0)}})})}function an(b){var c=new Set;b=r(b.periods);for(var d=b.next();!d.done;d=b.next()){d=d.value;for(var e=r(d.textStreams),f=e.next();!f.done;f=e.next())c.add(f.value);d=r(d.variants);for(e=d.next();!e.done;e=d.next())e=e.value,e.audio&&c.add(e.audio),e.video&&c.add(e.video)}return c}
function cn(b){for(var c=new Set,d=r(b.textStreams),e=d.next();!e.done;e=d.next())c.add(e.value);b=r(b.variants);for(d=b.next();!d.done;d=b.next())d=d.value,d.audio&&c.add(d.audio),d.video&&c.add(d.video);return c}function Qm(b){if(0==b.periods.length)throw new G(2,4,4014);b=r(b.periods);for(var c=b.next();!c.done;c=b.next())fn(c.value)}
function fn(b){var c=new Set(b.variants.map(function(b){return b.video})),d=new Set(b.variants.map(function(b){return b.audio}));b=b.textStreams;1<c.size&&D.u("Multiple video tracks selected to be stored");c=r(d);for(var e=c.next();!e.done;e=c.next()){e=e.value;for(var f=r(d),g=f.next();!g.done;g=f.next())g=g.value,e!=g&&e.language==g.language&&D.u("Similar audio tracks were selected to be stored",e.id,g.id)}d=r(b);for(c=d.next();!c.done;c=d.next())for(c=c.value,e=r(b),f=e.next();!f.done;f=e.next())f=
f.value,c!=f&&c.language==f.language&&D.u("Similar text tracks were selected to be stored",c.id,f.id)}var Rm=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");sl.offline=Hm;function gn(){for(var b=0;b<hn.length;++b)try{hn[b].Lf()}catch(c){D.ba("Error installing polyfill!",c)}}A("shaka.polyfill.installAll",gn);var hn=[];function jn(b,c){c=c||0;for(var d={priority:c,Lf:b},e=0;e<hn.length;e++)if(hn[e].priority<c){hn.splice(e,0,d);return}hn.push(d)}A("shaka.polyfill.register",jn);jn(function(){kn()},-1);function ln(b){var c=b.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var d=new Event(c,b);else d=document.createEvent("Event"),d.initEvent(c,b.bubbles,b.cancelable);b.target.dispatchEvent(d)}
jn(function(){if(window.Document){var b=Element.prototype;b.requestFullscreen=b.requestFullscreen||b.mozRequestFullScreen||b.msRequestFullscreen||b.webkitRequestFullscreen;b=Document.prototype;b.exitFullscreen=b.exitFullscreen||b.mozCancelFullScreen||b.msExitFullscreen||b.webkitCancelFullScreen;"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||
document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",ln);document.addEventListener("webkitfullscreenerror",ln);document.addEventListener("mozfullscreenchange",ln);document.addEventListener("mozfullscreenerror",ln);document.addEventListener("MSFullscreenChange",ln);document.addEventListener("MSFullscreenError",
ln)}});function mn(b,c,d){if("input"==b)switch(this.type){case "range":b="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,b,c,d)}jn(function(){D.debug("InputEvent.install");Mc("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(D.info("Patching input event support on IE."),HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=mn)});jn(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});jn(function(){D.debug("mathRound.install")});function nn(){var b=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(c){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];d=b.apply(this,d);d.abort=function(){};return d}}function on(){var b=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(c,d){return b.call(this,c,d-.001)}}function pn(){var b=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(c){return"mp2t"==c.split(/ *; */)[0].split("/")[1].toLowerCase()?!1:b(c)}}
function qn(){var b=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(c){return"opus"!=Gc(c)[0]&&b(c)}}function rn(){var b=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(c){var d=c.split(/ *; */);d.shift();return d.some(function(b){return b.startsWith("codecs=")})?cast.__platform__.canDisplayType(c):b(c)}}
jn(function(){D.debug("MediaSource.install");var b=Nc();window.MediaSource?window.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(D.info("Patching Chromecast MSE bugs."),rn()):b?(pn(),12>=b?(D.info("Patching Safari 11 & 12 MSE bugs."),nn(),on()):(D.info("Patching Safari 13 MSE bugs."),nn())):Mc("Tizen 2")||Mc("Tizen 3")||Mc("Tizen 4")?qn():D.info("Using native MSE as-is."):D.info("No MSE implementation available.")});function sn(b,c){D.debug("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var d=new tn(b,c);return Promise.resolve(d)}catch(e){return Promise.reject(e)}}
function tn(b,c){D.debug("PatchedMediaKeysApple.MediaKeySystemAccess");this.keySystem=b;if(b.startsWith("com.apple.fps"))for(var d=r(c),e=d.next();!e.done;e=d.next()){var f=e.value;if("required"==f.persistentState)e=null;else{e={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:f.initDataTypes,sessionTypes:["temporary"],label:f.label};var g=!1,h=!1;if(f.audioCapabilities)for(var k=r(f.audioCapabilities),l=k.next();!l.done;l=k.next())if(l=
l.value,l.contentType){g=!0;var n=l.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,n)&&(e.audioCapabilities.push(l),h=!0)}if(f.videoCapabilities)for(f=r(f.videoCapabilities),l=f.next();!l.done;l=f.next())k=l.value,k.contentType&&(g=!0,l=k.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,l)&&(e.videoCapabilities.push(k),h=!0));g||(h=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4"));e=h?e:null}if(e){this.a=e;return}}d=Error("Unsupported keySystem");
d.name="NotSupportedError";d.code=DOMException.NOT_SUPPORTED_ERR;throw d;}tn.prototype.createMediaKeys=function(){D.debug("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var b=new un(this.keySystem);return Promise.resolve(b)};tn.prototype.getConfiguration=function(){D.debug("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration");return this.a};
function vn(b){D.debug("PatchedMediaKeysApple.setMediaKeys");var c=this.mediaKeys;c&&c!=b&&wn(c,null);delete this.mediaKeys;return(this.mediaKeys=b)?wn(b,this):Promise.resolve()}function un(b){D.debug("PatchedMediaKeysApple.MediaKeys");this.b=new WebKitMediaKeys(b);this.a=new L}
un.prototype.createSession=function(b){D.debug("PatchedMediaKeysApple.MediaKeys.createSession");b=b||"temporary";if("temporary"!=b)throw new TypeError("Session type "+b+" is unsupported on this platform.");return new xn(this.b,b)};un.prototype.setServerCertificate=function(b){D.debug("PatchedMediaKeysApple.MediaKeys.setServerCertificate");b&&new Uint8Array(b);return Promise.resolve(!0)};
function wn(b,c){b.a.Hb();if(!c)return Promise.resolve();b.a.m(c,"webkitneedkey",yn);try{return zi(c,HTMLMediaElement.HAVE_METADATA,b.a,function(){c.webkitSetMediaKeys(b.b)}),Promise.resolve()}catch(d){return Promise.reject(d)}}function xn(b){D.debug("PatchedMediaKeysApple.MediaKeySession");ab.call(this);this.b=null;this.g=b;this.c=this.a=null;this.f=new L;this.sessionId="";this.expiration=NaN;this.closed=new J;this.keyStatuses=new zn}Za(xn,ab);m=xn.prototype;
m.generateRequest=function(b,c){D.debug("PatchedMediaKeysApple.MediaKeySession.generateRequest");this.a=new J;try{this.b=this.g.createSession("video/mp4",new Uint8Array(c)),this.sessionId=this.b.sessionId||"",this.f.m(this.b,"webkitkeymessage",this.Ah.bind(this)),this.f.m(this.b,"webkitkeyadded",this.xh.bind(this)),this.f.m(this.b,"webkitkeyerror",this.yh.bind(this)),An(this,"status-pending")}catch(d){this.a.reject(d)}return this.a};
m.load=function(){D.debug("PatchedMediaKeysApple.MediaKeySession.load");return Promise.reject(Error("MediaKeySession.load not yet supported"))};m.update=function(b){D.debug("PatchedMediaKeysApple.MediaKeySession.update");this.c=new J;try{this.b.update(new Uint8Array(b))}catch(c){this.c.reject(c)}return this.c};m.close=function(){D.debug("PatchedMediaKeysApple.MediaKeySession.close");try{this.b.close(),this.closed.resolve(),this.f.Hb()}catch(b){this.closed.reject(b)}return this.closed};
m.remove=function(){D.debug("PatchedMediaKeysApple.MediaKeySession.remove");return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};
function yn(b){D.debug("PatchedMediaKeysApple.onWebkitNeedKey_",b);b=new Uint8Array(b.initData);if((new DataView(b.buffer,b.byteOffset,b.byteLength)).getUint32(0,!0)+4!=b.byteLength)throw new RangeError("Malformed FairPlay init data");b=Sc(b.subarray(4),!0);b=Tc(b);var c=new Event("encrypted");c.initDataType="skd";c.initData=b;this.dispatchEvent(c)}
m.Ah=function(b){D.debug("PatchedMediaKeysApple.onWebkitKeyMessage_",b);this.a&&(this.a.resolve(),this.a=null);this.dispatchEvent(new B("message",{messageType:void 0==this.keyStatuses.a?"license-request":"license-renewal",message:b.message.buffer}))};m.xh=function(b){D.debug("PatchedMediaKeysApple.onWebkitKeyAdded_",b);this.c&&(An(this,"usable"),this.c.resolve(),this.c=null)};
m.yh=function(b){D.debug("PatchedMediaKeysApple.onWebkitKeyError_",b);b=Error("EME PatchedMediaKeysApple key error");b.errorCode=this.b.error;if(null!=this.a)this.a.reject(b),this.a=null;else if(null!=this.c)this.c.reject(b),this.c=null;else switch(this.b.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:An(this,"output-not-allowed");break;default:An(this,"internal-error")}};
function An(b,c){var d=b.keyStatuses;d.size=void 0==c?0:1;d.a=c;b.dispatchEvent(new B("keystatuseschange"))}function zn(){this.size=0;this.a=void 0}var Bn;m=zn.prototype;m.forEach=function(b){this.a&&b(this.a,Bn)};m.get=function(b){if(this.has(b))return this.a};m.has=function(b){var c=Bn;return this.a&&M.Xa(new Uint8Array(b),new Uint8Array(c))?!0:!1};m.entries=function(){};m.keys=function(){};m.values=function(){};
jn(function(){window.HTMLVideoElement&&window.WebKitMediaKeys&&(D.info("Using Apple-prefixed EME"),Bn=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=vn,window.MediaKeys=un,window.MediaKeySystemAccess=tn,navigator.requestMediaKeySystemAccess=sn)});function Cn(b,c){D.debug("PatchedMediaKeysMs.requestMediaKeySystemAccess");try{var d=new Dn(b,c);return Promise.resolve(d)}catch(e){return Promise.reject(e)}}
function Dn(b,c){D.debug("PatchedMediaKeysMs.MediaKeySystemAccess");this.keySystem=b;for(var d=!1,e=0;e<c.length;++e){var f=c[e],g={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:f.initDataTypes,sessionTypes:["temporary"],label:f.label},h=!1;if(f.audioCapabilities)for(var k=0;k<f.audioCapabilities.length;++k){var l=f.audioCapabilities[k];if(l.contentType){h=!0;var n=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,
n)&&(g.audioCapabilities.push(l),d=!0)}}if(f.videoCapabilities)for(k=0;k<f.videoCapabilities.length;++k)l=f.videoCapabilities[k],l.contentType&&(h=!0,n=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,n)&&(g.videoCapabilities.push(l),d=!0));h||(d=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4"));"required"==f.persistentState&&(d=!1);if(d){this.a=g;return}}d=Error("Unsupported keySystem");d.name="NotSupportedError";d.code=DOMException.NOT_SUPPORTED_ERR;throw d;}
Dn.prototype.createMediaKeys=function(){D.debug("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var b=new En(this.keySystem);return Promise.resolve(b)};Dn.prototype.getConfiguration=function(){D.debug("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration");return this.a};function Fn(b){D.debug("PatchedMediaKeysMs.setMediaKeys");var c=this.mediaKeys;c&&c!=b&&Gn(c,null);delete this.mediaKeys;return(this.mediaKeys=b)?Gn(b,this):Promise.resolve()}
function En(b){D.debug("PatchedMediaKeysMs.MediaKeys");this.b=new MSMediaKeys(b);this.a=new L}En.prototype.createSession=function(b){D.debug("PatchedMediaKeysMs.MediaKeys.createSession");b=b||"temporary";if("temporary"!=b)throw new TypeError("Session type "+b+" is unsupported on this platform.");return new Hn(this.b,b)};En.prototype.setServerCertificate=function(){D.debug("PatchedMediaKeysMs.MediaKeys.setServerCertificate");return Promise.resolve(!1)};
function Gn(b,c){b.a.Hb();if(!c)return Promise.resolve();b.a.m(c,"msneedkey",In);try{return zi(c,HTMLMediaElement.HAVE_METADATA,b.a,function(){c.msSetMediaKeys(b.b)}),Promise.resolve()}catch(d){return Promise.reject(d)}}function Hn(b){D.debug("PatchedMediaKeysMs.MediaKeySession");ab.call(this);this.c=null;this.g=b;this.b=this.a=null;this.f=new L;this.sessionId="";this.expiration=NaN;this.closed=new J;this.keyStatuses=new Jn}Za(Hn,ab);m=Hn.prototype;
m.generateRequest=function(b,c){D.debug("PatchedMediaKeysMs.MediaKeySession.generateRequest");this.a=new J;try{this.c=this.g.createSession("video/mp4",new Uint8Array(c),null),this.f.m(this.c,"mskeymessage",this.Ug.bind(this)),this.f.m(this.c,"mskeyadded",this.Sg.bind(this)),this.f.m(this.c,"mskeyerror",this.Tg.bind(this)),Kn(this,"status-pending")}catch(d){this.a.reject(d)}return this.a};m.load=function(){D.debug("PatchedMediaKeysMs.MediaKeySession.load");return Promise.reject(Error("MediaKeySession.load not yet supported"))};
m.update=function(b){D.debug("PatchedMediaKeysMs.MediaKeySession.update");this.b=new J;try{this.c.update(new Uint8Array(b))}catch(c){this.b.reject(c)}return this.b};m.close=function(){D.debug("PatchedMediaKeysMs.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),this.f.Hb()}catch(b){this.closed.reject(b)}return this.closed};m.remove=function(){D.debug("PatchedMediaKeysMs.MediaKeySession.remove");return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};
function In(b){D.debug("PatchedMediaKeysMs.onMsNeedKey_",b);if(b.initData){var c=document.createEvent("CustomEvent");c.initCustomEvent("encrypted",!1,!1,null);c.initDataType="cenc";c.initData=Nf(b.initData).buffer;this.dispatchEvent(c)}}m.Ug=function(b){D.debug("PatchedMediaKeysMs.onMsKeyMessage_",b);this.a&&(this.a.resolve(),this.a=null);this.dispatchEvent(new B("message",{messageType:void 0==this.keyStatuses.a?"license-request":"license-renewal",message:b.message.buffer}))};
m.Sg=function(b){D.debug("PatchedMediaKeysMs.onMsKeyAdded_",b);this.a?(D.debug("Simulating completion for a PR persistent license."),Kn(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Kn(this,"usable"),this.b.resolve(),this.b=null)};
m.Tg=function(b){D.debug("PatchedMediaKeysMs.onMsKeyError_",b);b=Error("EME PatchedMediaKeysMs key error");b.errorCode=this.c.error;if(null!=this.a)this.a.reject(b),this.a=null;else if(null!=this.b)this.b.reject(b),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Kn(this,"output-not-allowed");break;default:Kn(this,"internal-error")}};
function Kn(b,c){var d=b.keyStatuses;d.size=void 0==c?0:1;d.a=c;b.dispatchEvent(new B("keystatuseschange"))}function Jn(){this.size=0;this.a=void 0}var Ln;m=Jn.prototype;m.forEach=function(b){this.a&&b(this.a,Ln)};m.get=function(b){if(this.has(b))return this.a};m.has=function(b){var c=Ln;return this.a&&M.Xa(new Uint8Array(b),new Uint8Array(c))?!0:!1};m.entries=function(){};m.keys=function(){};m.values=function(){};
jn(function(){!window.HTMLVideoElement||!window.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(D.info("Using ms-prefixed EME v20140218"),Ln=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fn,window.MediaKeys=En,window.MediaKeySystemAccess=Dn,navigator.requestMediaKeySystemAccess=Cn)});function Mn(){D.debug("PatchedMediaKeysNop.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))}function Nn(b){D.debug("PatchedMediaKeysNop.setMediaKeys");return null==b?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function On(){throw new TypeError("Illegal constructor.");}On.prototype.createSession=function(){};On.prototype.setServerCertificate=function(){};function Pn(){throw new TypeError("Illegal constructor.");}
Pn.prototype.getConfiguration=function(){};Pn.prototype.createMediaKeys=function(){};jn(function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(D.info("EME not available."),navigator.requestMediaKeySystemAccess=Mn,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Nn,window.MediaKeys=On,window.MediaKeySystemAccess=Pn)},-10);var Qn="";function Rn(b){var c=Qn;return c?c+b.charAt(0).toUpperCase()+b.slice(1):b}function Sn(b,c){D.debug("PatchedMediaKeysWebkit.requestMediaKeySystemAccess");try{var d=new Tn(b,c);return Promise.resolve(d)}catch(e){return Promise.reject(e)}}function Un(b){D.debug("PatchedMediaKeysWebkit.setMediaKeys");var c=this.mediaKeys;c&&c!=b&&Vn(c,null);delete this.mediaKeys;(this.mediaKeys=b)&&Vn(b,this);return Promise.resolve()}
function Tn(b,c){D.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess");this.a=this.keySystem=b;var d=!1;"org.w3.clearkey"==b&&(this.a="webkit-org.w3.clearkey",d=!1);var e=!1;var f=document.getElementsByTagName("video");f=f.length?f[0]:document.createElement("video");for(var g=0;g<c.length;++g){var h=c[g],k={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:h.initDataTypes,sessionTypes:["temporary"],label:h.label},l=!1;if(h.audioCapabilities)for(var n=
0;n<h.audioCapabilities.length;++n){var p=h.audioCapabilities[n];if(p.contentType){l=!0;var q=p.contentType.split(";")[0];f.canPlayType(q,this.a)&&(k.audioCapabilities.push(p),e=!0)}}if(h.videoCapabilities)for(n=0;n<h.videoCapabilities.length;++n)p=h.videoCapabilities[n],p.contentType&&(l=!0,f.canPlayType(p.contentType,this.a)&&(k.videoCapabilities.push(p),e=!0));l||(e=f.canPlayType("video/mp4",this.a)||f.canPlayType("video/webm",this.a));"required"==h.persistentState&&(d?(k.persistentState="required",
k.sessionTypes=["persistent-license"]):e=!1);if(e){this.b=k;return}}d="Unsupported keySystem";if("org.w3.clearkey"==b||"com.widevine.alpha"==b)d="None of the requested configurations were supported.";d=Error(d);d.name="NotSupportedError";d.code=DOMException.NOT_SUPPORTED_ERR;throw d;}Tn.prototype.createMediaKeys=function(){D.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var b=new Wn(this.a);return Promise.resolve(b)};
Tn.prototype.getConfiguration=function(){D.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration");return this.b};function Wn(b){D.debug("PatchedMediaKeysWebkit.MediaKeys");this.g=b;this.b=null;this.a=new L;this.c=[];this.f={}}function Vn(b,c){b.b=c;b.a.Hb();var d=Qn;c&&(b.a.m(c,d+"needkey",b.Yg.bind(b)),b.a.m(c,d+"keymessage",b.Dh.bind(b)),b.a.m(c,d+"keyadded",b.Bh.bind(b)),b.a.m(c,d+"keyerror",b.Ch.bind(b)))}m=Wn.prototype;
m.createSession=function(b){D.debug("PatchedMediaKeysWebkit.MediaKeys.createSession");b=b||"temporary";if("temporary"!=b&&"persistent-license"!=b)throw new TypeError("Session type "+b+" is unsupported on this platform.");var c=this.b||document.createElement("video");c.src||(c.src="about:blank");b=new Xn(c,this.g,b);this.c.push(b);return b};m.setServerCertificate=function(){D.debug("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate");return Promise.resolve(!1)};
m.Yg=function(b){D.debug("PatchedMediaKeysWebkit.onWebkitNeedKey_",b);var c=document.createEvent("CustomEvent");c.initCustomEvent("encrypted",!1,!1,null);c.initDataType="cenc";b.initData instanceof ArrayBuffer?c.initData=b.initData:c.initData=b.initData.buffer;this.b.dispatchEvent(c)};
m.Dh=function(b){D.debug("PatchedMediaKeysWebkit.onWebkitKeyMessage_",b);var c=Yn(this,b.sessionId);c?(b=new B("message",{messageType:void 0==c.keyStatuses.a?"licenserequest":"licenserenewal",message:b.message}),D.debug("PatchedMediaKeysWebkit.MediaKeySession.generated"),c.b&&(c.b.resolve(),c.b=null),c.dispatchEvent(b)):D.error("Session not found",b.sessionId)};
m.Bh=function(b){D.debug("PatchedMediaKeysWebkit.onWebkitKeyAdded_",b);if(b=Yn(this,b.sessionId))D.debug("PatchedMediaKeysWebkit.MediaKeySession.ready"),Zn(b,"usable"),b.a&&b.a.resolve(),b.a=null};m.Ch=function(b){D.debug("PatchedMediaKeysWebkit.onWebkitKeyError_",b);var c=Yn(this,b.sessionId);c&&c.handleError(b)};
function Yn(b,c){var d=b.f[c];return d?(D.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",d),d):(d=b.c.shift())?(d.sessionId=c,b.f[c]=d,D.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",d),d):null}function Xn(b,c,d){D.debug("PatchedMediaKeysWebkit.MediaKeySession");ab.call(this);this.f=b;this.j=!1;this.a=this.b=null;this.c=c;this.g=d;this.sessionId="";this.expiration=NaN;this.closed=new J;this.keyStatuses=new $n}Za(Xn,ab);m=Xn.prototype;
m.handleError=function(b){D.debug("PatchedMediaKeysWebkit.MediaKeySession.handleError",b);var c=Error("EME v0.1b key error"),d=b.errorCode;d.systemCode=b.systemCode;c.errorCode=d;!b.sessionId&&this.b?(45==b.systemCode&&(c.message="Unsupported session type."),this.b.reject(c),this.b=null):b.sessionId&&this.a?(this.a.reject(c),this.a=null):(c=b.systemCode,b.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Zn(this,"output-restricted"):1==c?Zn(this,"expired"):Zn(this,"internal-error"))};
function ao(b,c,d){if(b.j)return Promise.reject(Error("The session is already initialized."));b.j=!0;try{if("persistent-license"==b.g)if(d)var e=new Uint8Array(Tc("LOAD_SESSION|"+d));else{var f=Tc("PERSISTENT|"),g=new Uint8Array(f.byteLength+c.byteLength);g.set(new Uint8Array(f),0);g.set(new Uint8Array(c),f.byteLength);e=g}else e=new Uint8Array(c)}catch(k){return Promise.reject(k)}b.b=new J;var h=Rn("generateKeyRequest");try{b.f[h](b.c,e)}catch(k){if("InvalidStateError"!=k.name)return b.b=null,Promise.reject(k);
(new F(function(){try{b.f[h](b.c,e)}catch(l){b.b.reject(l),b.b=null}})).R(.01)}return b.b}
m.ke=function(b,c){if(this.a)this.a.then(this.ke.bind(this,b,c))["catch"](this.ke.bind(this,b,c));else{this.a=b;if("webkit-org.w3.clearkey"==this.c){var d=Qc(c);var e=JSON.parse(d);"oct"!=e.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null);d=M.Za(e.keys[0].k);e=M.Za(e.keys[0].kid)}else d=new Uint8Array(c),e=null;var f=Rn("addKey");try{this.f[f](this.c,d,e,this.sessionId)}catch(g){this.a.reject(g),this.a=null}}};
function Zn(b,c){var d=b.keyStatuses;d.size=void 0==c?0:1;d.a=c;b.dispatchEvent(new B("keystatuseschange"))}m.generateRequest=function(b,c){D.debug("PatchedMediaKeysWebkit.MediaKeySession.generateRequest");return ao(this,c,null)};m.load=function(b){D.debug("PatchedMediaKeysWebkit.MediaKeySession.load");return"persistent-license"==this.g?ao(this,null,b):Promise.reject(Error("Not a persistent session."))};
m.update=function(b){D.debug("PatchedMediaKeysWebkit.MediaKeySession.update",b);var c=new J;this.ke(c,b);return c};m.close=function(){D.debug("PatchedMediaKeysWebkit.MediaKeySession.close");if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var b=Rn("cancelKeyRequest");try{this.f[b](this.c,this.sessionId)}catch(c){}}this.closed.resolve();return this.closed};
m.remove=function(){D.debug("PatchedMediaKeysWebkit.MediaKeySession.remove");return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};function $n(){this.size=0;this.a=void 0}var bo;m=$n.prototype;m.forEach=function(b){this.a&&b(this.a,bo)};m.get=function(b){if(this.has(b))return this.a};m.has=function(b){var c=bo;return this.a&&M.Xa(new Uint8Array(b),new Uint8Array(c))?!0:!1};m.entries=function(){};m.keys=function(){};m.values=function(){};
jn(function(){if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)D.info("Using webkit-prefixed EME v0.1b"),Qn="webkit";else if(HTMLMediaElement.prototype.generateKeyRequest)D.info("Using nonprefixed EME v0.1b");else return;bo=(new Uint8Array([0])).buffer;navigator.requestMediaKeySystemAccess=Sn;delete HTMLMediaElement.prototype.mediaKeys;HTMLMediaElement.prototype.mediaKeys=
null;HTMLMediaElement.prototype.setMediaKeys=Un;window.MediaKeys=Wn;window.MediaKeySystemAccess=Tn}});function co(b){b=b.target;if("picture-in-picture"==b.webkitPresentationMode){document.pictureInPictureElement=b;var c=new Event("enterpictureinpicture");b.dispatchEvent(c)}else document.pictureInPictureElement==b&&(document.pictureInPictureElement=null),c=new Event("leavepictureinpicture"),b.dispatchEvent(c)}
function eo(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function fo(){var b=document.pictureInPictureElement;return b?(b.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}
function go(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function ho(b){b?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}
jn(function(){if(window.HTMLVideoElement){var b=HTMLVideoElement.prototype;b.requestPictureInPicture&&document.exitPictureInPicture||!b.webkitSupportsPresentationMode||(D.debug("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,b.requestPictureInPicture=eo,Object.defineProperty(b,"disablePictureInPicture",{get:go,set:ho,enumerable:!0,configurable:!0}),document.exitPictureInPicture=fo,document.addEventListener("webkitpresentationmodechanged",co,!0))}});jn(function(){D.debug("VideoPlayPromise.install");if(window.HTMLMediaElement){var b=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var c=b.apply(this);c&&c["catch"](function(){});return c}}});function io(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}jn(function(){if(window.HTMLVideoElement){var b=HTMLVideoElement.prototype;!b.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in b&&(b.getVideoPlaybackQuality=io)}});function jo(b,c,d){return new window.TextTrackCue(b,c,d)}function ko(b,c,d){return new window.TextTrackCue(b+"-"+c+"-"+d,b,c,d)}
jn(function(){if(window.VTTCue)D.info("Using native VTTCue.");else if(window.TextTrackCue){var b=TextTrackCue.length;if(3==b)D.info("Using VTTCue polyfill from 3 argument TextTrackCue."),window.VTTCue=jo;else if(6==b)D.info("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=ko;else{try{var c=!!jo(1,2,"")}catch(d){c=!1}c&&(D.info("Using VTTCue polyfill from 3 argument TextTrackCue."),window.VTTCue=jo)}}else D.error("VTTCue not available.")});function lo(){}A("shaka.text.TtmlTextParser",lo);lo.prototype.parseInit=function(){};lo.prototype.parseInit=lo.prototype.parseInit;
lo.prototype.parseMedia=function(b,c){var d=Qc(b),e=[],f=new DOMParser,g=null;if(""==d)return e;try{g=f.parseFromString(d,"text/xml")}catch(Aa){throw new G(2,2,2005,"Failed to parse TTML.");}if(g){if(d=g.getElementsByTagName("parsererror")[0])throw new G(2,2,2005,d.textContent);if(f=g.getElementsByTagName("tt")[0]){var h=R.getAttributeNS(f,"http://www.w3.org/ns/ttml#parameter","frameRate");var k=R.getAttributeNS(f,"http://www.w3.org/ns/ttml#parameter","subFrameRate");var l=R.getAttributeNS(f,"http://www.w3.org/ns/ttml#parameter",
"frameRateMultiplier");var n=R.getAttributeNS(f,"http://www.w3.org/ns/ttml#parameter","tickRate");g=f.getAttribute("xml:space")||"default";d=R.getAttributeNS(f,"http://www.w3.org/ns/ttml#styling","extent")}else throw new G(2,2,2005,"TTML does not contain <tt> tag.");if("default"!=g&&"preserve"!=g)throw new G(2,2,2005,"Invalid xml:space value: "+g);g="default"==g;h=new mo(h,k,l,n);k=no(f.getElementsByTagName("metadata")[0]);l=no(f.getElementsByTagName("styling")[0]);n=no(f.getElementsByTagName("layout")[0]);
for(var p=[],q=0;q<n.length;q++){var t=n[q],y=l,C=d;var z=new Vd;var H=t.getAttribute("xml:id");if(H){z.id=H;H=null;C&&(H=oo.exec(C)||po.exec(C));C=H?Number(H[1]):null;H=H?Number(H[2]):null;var I,T;if(I=qo(t,y,"extent"))I=(T=oo.exec(I))||po.exec(I),null!=I&&(z.width=null!=C?100*Number(I[1])/C:Number(I[1]),z.height=null!=H?100*Number(I[2])/H:Number(I[2]),z.widthUnits=T||null!=C?ie:0,z.heightUnits=T||null!=H?ie:0);if(t=qo(t,y,"origin"))I=(T=oo.exec(t))||po.exec(t),null!=I&&(z.viewportAnchorX=null!=
H?100*Number(I[1])/H:Number(I[1]),z.viewportAnchorY=null!=C?100*Number(I[2])/C:Number(I[2]),z.viewportAnchorUnits=T||null!=C?ie:0)}else D.u("TtmlTextParser parser encountered a region with no id. Region will be ignored."),z=null;z&&p.push(z)}d=ro(f.getElementsByTagName("body")[0]);d=r(d);for(f=d.next();!f.done;f=d.next())(f=so(f.value,c.periodStart,h,k,l,n,p,g,!1))&&e.push(f)}return e};lo.prototype.parseMedia=lo.prototype.parseMedia;
var oo=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,to=/^(\d+px|\d+em)$/,po=/^(\d+)px (\d+)px$/,uo=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,vo=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,wo=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,xo=/^(\d*(?:\.\d*)?)f$/,yo=/^(\d*(?:\.\d*)?)t$/,zo=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Ao={left:$d,center:"center",right:"end",start:$d,end:"end"},Bo={left:"line-left",center:"center",right:"line-right"};
function no(b){var c=[];if(!b)return c;for(var d=r(b.childNodes),e=d.next();!e.done;e=d.next())e=e.value,e.nodeType==Node.ELEMENT_NODE&&"br"!==e.nodeName&&(e=no(e),c=c.concat(e));c.length||c.push(b);return c}function ro(b){if(!b)return[];var c=[];b=r(b.childNodes);for(var d=b.next();!d.done;d=b.next())d=d.value,d instanceof Element&&(d.hasAttribute("begin")?c.push(d):c=c.concat(ro(d)));return c}
function Co(b,c){for(var d="",e=r(b.childNodes),f=e.next();!f.done;f=e.next())f=f.value,"br"==f.nodeName&&b.childNodes[0]!==f?d+="\n":f.childNodes&&0<f.childNodes.length?d+=Co(f,c):c?(f=f.textContent.trim(),f=f.replace(/\s+/g," "),d+=f):d+=f.textContent;return d}
function so(b,c,d,e,f,g,h,k,l){if(l&&"br"==b.nodeName)return b=new Td(0,0,""),b.spacer=!0,b;var n=/^[\s\n]*$/.test(b.textContent),p=b.nodeType==Node.ELEMENT_NODE&&!b.hasAttribute("begin")&&!b.hasAttribute("end");if(b.nodeType!=Node.ELEMENT_NODE||p&&n||p&&!l)return null;n=Do(b.getAttribute("begin"),d);p=Do(b.getAttribute("end"),d);var q=Do(b.getAttribute("dur"),d);null==p&&null!=q&&(p=n+q);if(!l&&(null==n||null==p))throw new G(2,2,2001);n=l&&null==n?0:n+c;p=l&&null==p?0:p+c;q="";l=[];if(Array.from(b.childNodes).find(function(b){return b.nodeType===
Node.TEXT_NODE&&/\S+/.test(b.textContent)}))q=Co(b,k);else for(var t=r(b.childNodes),y=t.next();!y.done;y=t.next())if(y=so(y.value,c,d,e,f,g,h,k,!0))y.startTime=y.startTime||n,y.endTime=y.endTime||p,l.push(y);c=new Td(n,p,q);c.nestedCues=l;if((g=Eo(b,"region",g,"")[0])&&g.getAttribute("xml:id")){var C=g.getAttribute("xml:id");c.region=h.filter(function(b){return b.id==C})[0]}e=Eo(b,"smpte:backgroundImage",e,"#")[0];Fo(c,b,g,e,f);return c}
function Fo(b,c,d,e,f){"rtl"==Go(c,d,f,"direction")&&(b.direction="rtl");var g=Go(c,d,f,"writingMode");"tb"==g||"tblr"==g?b.writingMode="vertical-lr":"tbrl"==g?b.writingMode="vertical-rl":"rltb"==g||"rl"==g?b.direction="rtl":g&&(b.direction=Ud);(g=Go(c,d,f,"textAlign"))?(b.positionAlign=Bo[g],b.lineAlign=Ao[g],b.textAlign=ee[g.toUpperCase()]):b.textAlign="start";if(g=Go(c,d,f,"displayAlign"))b.displayAlign=fe[g.toUpperCase()];if(g=Go(c,d,f,"color"))b.color=g;if(g=Go(c,d,f,"backgroundColor"))b.backgroundColor=
g;if(g=Go(c,d,f,"fontFamily"))b.fontFamily=g;(g=Go(c,d,f,"fontWeight"))&&"bold"==g&&(b.fontWeight=700);(g=Go(c,d,f,"wrapOption"))&&"noWrap"==g&&(b.wrapLine=!1);(g=Go(c,d,f,"lineHeight"))&&g.match(to)&&(b.lineHeight=g);(g=Go(c,d,f,"fontSize"))&&g.match(to)&&(b.fontSize=g);if(g=Go(c,d,f,"fontStyle"))b.fontStyle=he[g.toUpperCase()];if(e){g=e.getAttribute("imagetype");var h=e.getAttribute("encoding");e=e.textContent.trim();"PNG"==g&&"Base64"==h&&e&&(b.backgroundImage="data:image/png;base64,"+e)}(d=qo(d,
f,"textDecoration"))&&Ho(b,d);(c=Io(c,f,"textDecoration"))&&Ho(b,c)}
function Ho(b,c){for(var d=c.split(" "),e=0;e<d.length;e++)switch(d[e]){case "underline":b.textDecoration.includes("underline")||b.textDecoration.push("underline");break;case "noUnderline":b.textDecoration.includes("underline")&&dc(b.textDecoration,"underline");break;case "lineThrough":b.textDecoration.includes("lineThrough")||b.textDecoration.push("lineThrough");break;case "noLineThrough":b.textDecoration.includes("lineThrough")&&dc(b.textDecoration,"lineThrough");break;case "overline":b.textDecoration.includes("overline")||
b.textDecoration.push("overline");break;case "noOverline":b.textDecoration.includes("overline")&&dc(b.textDecoration,"overline")}}function Go(b,c,d,e){return(b=Io(b,d,e))?b:qo(c,d,e)}function qo(b,c,d){if(!b)return null;for(var e=no(b),f=0;f<e.length;f++){var g=R.getAttributeNS(e[f],"http://www.w3.org/ns/ttml#styling",d);if(g)return g}return Jo(b,c,d)}function Io(b,c,d){var e=R.getAttributeNS(b,"http://www.w3.org/ns/ttml#styling",d);return e?e:Jo(b,c,d)}
function Jo(b,c,d){b=Eo(b,"style",c,"");for(var e=null,f=0;f<b.length;f++){var g=R.getAttributeNS(b[f],"http://www.w3.org/ns/ttml#styling",d);g||(g=Io(b[f],c,d));g&&(e=g)}return e}
function Eo(b,c,d,e){var f=[];if(!b||1>d.length)return f;var g=b;for(b=null;g&&!(b=g.getAttribute(c))&&(g=g.parentNode,g instanceof Element););if(c=b)for(c=c.split(" "),c=r(c),b=c.next();!b.done;b=c.next()){b=b.value;g=r(d);for(var h=g.next();!h.done;h=g.next())if(h=h.value,e+h.getAttribute("xml:id")==b){f.push(h);break}}return f}
function Do(b,c){var d=null;if(uo.test(b)){d=uo.exec(b);var e=Number(d[1]),f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);h+=(Number(d[5])||0)/c.b;g+=h/c.frameRate;d=g+60*f+3600*e}else vo.test(b)?d=Ko(vo,b):wo.test(b)?d=Ko(wo,b):xo.test(b)?(d=xo.exec(b),d=Number(d[1])/c.frameRate):yo.test(b)?(d=yo.exec(b),d=Number(d[1])/c.a):zo.test(b)&&(d=Ko(zo,b));return d}
function Ko(b,c){var d=b.exec(c);return null==d||""==d[0]?null:(Number(d[4])||0)/1E3+(Number(d[3])||0)+60*(Number(d[2])||0)+3600*(Number(d[1])||0)}function mo(b,c,d,e){this.frameRate=Number(b)||30;this.b=Number(c)||1;this.a=Number(e);0==this.a&&(this.a=b?this.frameRate*this.b:1);d&&(b=/^(\d+) (\d+)$/g.exec(d))&&(this.frameRate*=Number(b[1])/Number(b[2]))}le["application/ttml+xml"]=lo;function Lo(){this.a=new lo}A("shaka.text.Mp4TtmlParser",Lo);Lo.prototype.parseInit=function(b){var c=!1;(new Q).P("moov",Jf).P("trak",Jf).P("mdia",Jf).P("minf",Jf).P("stbl",Jf).za("stsd",Kf).P("stpp",function(b){c=!0;b.parser.stop()}).parse(b);if(!c)throw new G(2,2,2007);};Lo.prototype.parseInit=Lo.prototype.parseInit;Lo.prototype.parseMedia=function(b,c){var d=!1,e=[];(new Q).P("mdat",Lf(function(b){d=!0;e=e.concat(this.a.parseMedia(b,c))}.bind(this))).parse(b);if(!d)throw new G(2,2,2007);return e};
Lo.prototype.parseMedia=Lo.prototype.parseMedia;le['application/mp4; codecs="stpp"']=Lo;le['application/mp4; codecs="stpp.ttml.im1t"']=Lo;le['application/mp4; codecs="stpp.TTML.im1t"']=Lo;function Mo(){}A("shaka.text.VttTextParser",Mo);Mo.prototype.parseInit=function(){};Mo.prototype.parseInit=Mo.prototype.parseInit;
Mo.prototype.parseMedia=function(b,c){var d=Qc(b);d=d.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");d=d.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(d[0]))throw new G(2,2,2E3);var e=c.segmentStart;if(null==e&&(e=0,d[0].includes("X-TIMESTAMP-MAP"))){var f=d[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),g=d[0].match(/MPEGTS:(\d+)/m);if(f&&g){e=No(new Zg(f[1]));if(null==e)throw new G(2,2,2E3);e=c.periodStart+(Number(g[1])/9E4-e)}}g=[];var h=d[0].split("\n");for(f=1;f<h.length;f++)if(/^Region:/.test(h[f])){var k=
new Zg(h[f]),l=new Vd;bh(k);$g(k);for(var n=bh(k);n;){var p;a:{var q=l,t=n;if(p=/^id=(.*)$/.exec(t))q.id=p[1];else if(p=/^width=(\d{1,2}|100)%$/.exec(t))q.width=Number(p[1]);else if(p=/^lines=(\d+)$/.exec(t))q.height=Number(p[1]),q.heightUnits=2;else if(p=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))q.regionAnchorX=Number(p[1]),q.regionAnchorY=Number(p[2]);else if(p=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))q.viewportAnchorX=Number(p[1]),q.viewportAnchorY=Number(p[2]);else if(/^scroll=up$/.exec(t))q.scroll=
"up";else{p=!1;break a}p=!0}p||D.u("VTT parser encountered an invalid VTTRegion setting: ",n," The setting will be ignored.");$g(k);n=bh(k)}g.push(l)}f=[];for(k=1;k<d.length;k++){h=d[k].split("\n");p=h;q=e;h=g;if(1==p.length&&!p[0]||/^NOTE($|[ \t])/.test(p[0])||"STYLE"==p[0])h=null;else{l=null;p[0].includes("--\x3e")||(l=p[0],p.splice(0,1));n=new Zg(p[0]);t=No(n);var y=ah(n,/[ \t]+--\x3e[ \t]+/g),C=No(n);if(null==t||null==y||null==C)throw new G(2,2,2001);p=new Td(t+q,C+q,p.slice(1).join("\n").trim());
$g(n);for(q=bh(n);q;)Oo(p,q,h)||D.u("VTT parser encountered an invalid VTT setting: ",q," The setting will be ignored."),$g(n),q=bh(n);null!=l&&(p.id=l);h=p}h&&f.push(h)}return f};Mo.prototype.parseMedia=Mo.prototype.parseMedia;
function Oo(b,c,d){var e;if(e=/^align:(start|middle|center|end|left|right)$/.exec(c))c=e[1],"middle"==c?b.textAlign=Xd:b.textAlign=ee[c.toUpperCase()];else if(e=/^vertical:(lr|rl)$/.exec(c))b.writingMode="lr"==e[1]?"vertical-lr":"vertical-rl";else if(e=/^size:([\d.]+)%$/.exec(c))b.size=Number(e[1]);else if(e=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(c))b.position=Number(e[1]),e[2]&&(c=e[2],b.positionAlign="line-left"==c||"start"==c?"line-left":"line-right"==c||"end"==
c?"line-right":"center");else if(e=/^region:(.*)$/.exec(c)){if(c=Po(d,e[1]))b.region=c}else{a:{if(d=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(c))b.lineInterpretation=1,b.line=Number(d[1]),d[2]&&(b.lineAlign=ge[d[2].toUpperCase()]);else if(d=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(c))b.lineInterpretation=Zd,b.line=Number(d[1]),d[2]&&(b.lineAlign=ge[d[2].toUpperCase()]);else{b=!1;break a}b=!0}return b}return!0}
function Po(b,c){var d=b.filter(function(b){return b.id==c});return d.length?d[0]:(D.u("VTT parser could not find a region with id: ",c," The region will be ignored."),null)}function No(b){b=ah(b,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g);if(null==b)return null;var c=Number(b[2]),d=Number(b[3]);return 59<c||59<d?null:Number(b[4])/1E3+d+60*c+3600*(Number(b[1])||0)}le["text/vtt"]=Mo;le['text/vtt; codecs="vtt"']=Mo;le['text/vtt; codecs="wvtt"']=Mo;function Qo(){this.a=null}A("shaka.text.Mp4VttParser",Qo);Qo.prototype.parseInit=function(b){var c=!1;(new Q).P("moov",Jf).P("trak",Jf).P("mdia",Jf).za("mdhd",function(b){0==b.version?(b.reader.V(4),b.reader.V(4),this.a=b.reader.M(),b.reader.V(4)):(b.reader.V(8),b.reader.V(8),this.a=b.reader.M(),b.reader.V(8));b.reader.V(4)}.bind(this)).P("minf",Jf).P("stbl",Jf).za("stsd",Kf).P("wvtt",function(){c=!0}).parse(b);if(!this.a)throw new G(2,2,2008);if(!c)throw new G(2,2,2008);};
Qo.prototype.parseInit=Qo.prototype.parseInit;
Qo.prototype.parseMedia=function(b,c){var d=this;if(!this.a)throw D.error("No init segment for MP4+VTT!"),new G(2,2,2008);var e=0,f=[],g,h=[],k=!1,l=!1,n=!1,p=null;(new Q).P("moof",Jf).P("traf",Jf).za("tfdt",function(b){k=!0;e=0==b.version?b.reader.M():b.reader.fc()}).za("tfhd",function(b){var c=b.flags;b=b.reader;b.V(4);c&1&&b.V(8);c&2&&b.V(4);p=c&8?b.M():null}).za("trun",function(b){l=!0;var c=b.version,d=b.flags;b=b.reader;var e=b.M();d&1&&b.V(4);d&4&&b.V(4);for(var g=[],h=0;h<e;h++){var k={duration:null,
sampleSize:null,me:null};d&256&&(k.duration=b.M());d&512&&(k.sampleSize=b.M());d&1024&&b.V(4);d&2048&&(k.me=0==c?b.M():b.lf());g.push(k)}f=g}).P("mdat",Lf(function(b){n=!0;g=b})).parse(b);if(!n&&!k&&!l)throw new G(2,2,2008);var q=e,t=new DataView(g.buffer,g.byteOffset,g.byteLength),y=new P(t,0);f.forEach(function(b){var f=b.duration||p,g=b.me?e+b.me:q;q=g+(f||0);var k=0;do{var l=y.M();k+=l;var n=y.M();n=If(n);var t=null;"vttc"==n?8<l&&(t=y.Gb(l-8)):("vtte"!=n&&D.error("Unknown box "+n+"! Skipping!"),
y.V(l-8));f?t&&h.push(Ro(t,c.periodStart+g/d.a,c.periodStart+q/d.a)):D.error("WVTT sample duration unknown, and no default found!")}while(b.sampleSize&&k<b.sampleSize)});return h.filter(Kd.jb)};Qo.prototype.parseMedia=Qo.prototype.parseMedia;function Ro(b,c,d){var e,f,g;(new Q).P("payl",Lf(function(b){e=Qc(b)})).P("iden",Lf(function(b){f=Qc(b)})).P("sttg",Lf(function(b){g=Qc(b)})).parse(b);return e?So(e,f,g,c,d):null}
function So(b,c,d,e,f){b=new Td(e,f,b);c&&(b.id=c);if(d)for(c=new Zg(d),d=bh(c);d;)Oo(b,d,[])||D.u("VTT parser encountered an invalid VTT setting: ",d," The setting will be ignored."),$g(c),d=bh(c);return b}le['application/mp4; codecs="wvtt"']=Qo;function Y(b){return document.createElement(b)}A("shaka.util.Dom.createHTMLElement",Y);A("shaka.util.Dom.createVideoElement",function(){var b=document.createElement("video");b.muted=!0;b.width=600;b.height=400;return b});A("shaka.util.Dom.asHTMLElement",function(b){return b});A("shaka.util.Dom.asHTMLMediaElement",function(b){return b});function To(b){for(;b.firstChild;)b.removeChild(b.firstChild)}A("shaka.util.Dom.removeAllChildren",To);/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function Uo(){}var Vo;A("EmeEncryptionSchemePolyfill",Uo);function Wo(){Vo?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Vo=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=Xo):console.debug("EmeEncryptionSchemePolyfill: EME not found")}Uo.install=Wo;
function Xo(b,c){var d=this;return u(function f(){var g;return x(f,function(f){switch(f.o){case 1:return console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess'),v(f,Vo.call(d,b,c),2);case 2:g=f.A;if(Yo(g))return console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Vo,f["return"](g);console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support.");navigator.requestMediaKeySystemAccess=
Zo;return f["return"](Zo.call(d,b,c))}})})}
function Zo(b,c){var d=this;return u(function f(){var g,h,k,l,n,p,q,t;return x(f,function(f){switch(f.o){case 1:console.assert(d==navigator,'bad "this" for requestMediaKeySystemAccess');g=$o(b);h=[];for(var y=r(c),z=y.next();!z.done;z=y.next())k=z.value,l=ap(k.videoCapabilities,g),n=ap(k.audioCapabilities,g),k.videoCapabilities&&k.videoCapabilities.length&&!l.length||k.audioCapabilities&&k.audioCapabilities.length&&!n.length||(p=Object.assign({},k),p.videoCapabilities=l,p.audioCapabilities=n,h.push(p));
if(!h.length)throw q=Error("Unsupported keySystem or supportedConfigurations."),q.name="NotSupportedError",q.code=DOMException.NOT_SUPPORTED_ERR,q;return v(f,Vo.call(d,b,h),2);case 2:return t=f.A,f["return"](new bp(t,g))}})})}function ap(b,c){return b?b.filter(function(b){return!b.encryptionScheme||b.encryptionScheme==c}):b}function cp(){}var dp;A("McEncryptionSchemePolyfill",cp);
function ep(){navigator.mediaCapabilities?(dp=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=fp):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}cp.install=ep;
function fp(b){var c=this;return u(function e(){var f,g;return x(e,function(e){switch(e.o){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),v(e,dp.call(c,b),2);case 2:f=e.A;if(!b.keySystemConfiguration)return e["return"](f);g=f.keySystemAccess;if(Yo(g))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=dp,e["return"](f);console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support.");
navigator.mediaCapabilities.decodingInfo=gp;return e["return"](gp.call(c,b))}})})}
function gp(b){var c=this;return u(function e(){var f,g,h,k,l,n,p;return x(e,function(e){switch(e.o){case 1:return console.assert(c==navigator.mediaCapabilities,'bad "this" for decodingInfo'),f=null,b.keySystemConfiguration&&(g=b.keySystemConfiguration,h=g.keySystem,k=g.audio&&g.audio.encryptionScheme,l=g.video&&g.video.encryptionScheme,f=$o(h),n={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:b},k&&k!=f||l&&l!=f)?e["return"](n):v(e,dp.call(c,b),2);case 2:return p=e.A,
p.keySystemAccess&&(p.keySystemAccess=new bp(p.keySystemAccess,f)),e["return"](p)}})})}function bp(b,c){this.b=b;this.a=c;this.keySystem=b.keySystem}bp.prototype.getConfiguration=function(){var b=this.b.getConfiguration();if(b.videoCapabilities)for(var c=r(b.videoCapabilities),d=c.next();!d.done;d=c.next())d.value.encryptionScheme=this.a;if(b.audioCapabilities)for(c=r(b.audioCapabilities),d=c.next();!d.done;d=c.next())d.value.encryptionScheme=this.a;return b};bp.prototype.createMediaKeys=function(){return this.b.createMediaKeys()};
function $o(b){if(b.startsWith("com.widevine")||b.startsWith("com.microsoft")||b.startsWith("com.adobe")||b.startsWith("org.w3"))return"cenc";if(b.startsWith("com.apple"))return"cbcs-1-9";console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",b,"Please contribute!");return null}function Yo(b){b=b.getConfiguration();var c=b.audioCapabilities&&b.audioCapabilities[0];return(b=b.videoCapabilities&&b.videoCapabilities[0]||c)&&void 0!==b.encryptionScheme?!0:!1}function hp(){}
A("EncryptionSchemePolyfills",hp);function kn(){Wo();ep()}hp.install=kn;"undefined"!==typeof module&&module.Sf&&(module.Sf=hp);/*
 @license
 Copyright 2013 Ali Al Dallal

 Licensed under the MIT license.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
for(var ip={ach:{h:"Lwo",i:"Acholi"},ady:{h:"\u0410\u0434\u044b\u0433\u044d\u0431\u0437\u044d",i:"Adyghe"},af:{h:"Afrikaans",i:"Afrikaans"},"af-NA":{h:"Afrikaans (Namibia)",i:"Afrikaans (Namibia)"},"af-ZA":{h:"Afrikaans (South Africa)",i:"Afrikaans (South Africa)"},ak:{h:"T\u0255\u0265i",i:"Akan"},ar:{h:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",i:"Arabic"},"ar-AR":{h:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",i:"Arabic"},"ar-MA":{h:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",i:"Arabic (Morocco)"},
"ar-SA":{h:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629)",i:"Arabic (Saudi Arabia)"},"ay-BO":{h:"Aymar aru",i:"Aymara"},az:{h:"Az\u0259rbaycan dili",i:"Azerbaijani"},"az-AZ":{h:"Az\u0259rbaycan dili",i:"Azerbaijani"},"be-BY":{h:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",i:"Belarusian"},bg:{h:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",i:"Bulgarian"},"bg-BG":{h:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",
i:"Bulgarian"},bn:{h:"\u09ac\u09be\u0982\u09b2\u09be",i:"Bengali"},"bn-IN":{h:"\u09ac\u09be\u0982\u09b2\u09be (\u09ad\u09be\u09b0\u09a4)",i:"Bengali (India)"},"bn-BD":{h:"\u09ac\u09be\u0982\u09b2\u09be(\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)",i:"Bengali (Bangladesh)"},"bs-BA":{h:"Bosanski",i:"Bosnian"},ca:{h:"Catal\u00e0",i:"Catalan"},"ca-ES":{h:"Catal\u00e0",i:"Catalan"},cak:{h:"Maya Kaqchikel",i:"Kaqchikel"},"ck-US":{h:"\u13e3\u13b3\u13a9 (tsalagi)",i:"Cherokee"},cs:{h:"\u010ce\u0161tina",
i:"Czech"},"cs-CZ":{h:"\u010ce\u0161tina",i:"Czech"},cy:{h:"Cymraeg",i:"Welsh"},"cy-GB":{h:"Cymraeg",i:"Welsh"},da:{h:"Dansk",i:"Danish"},"da-DK":{h:"Dansk",i:"Danish"},de:{h:"Deutsch",i:"German"},"de-AT":{h:"Deutsch (\u00d6sterreich)",i:"German (Austria)"},"de-DE":{h:"Deutsch (Deutschland)",i:"German (Germany)"},"de-CH":{h:"Deutsch (Schweiz)",i:"German (Switzerland)"},dsb:{h:"Dolnoserb\u0161\u0107ina",i:"Lower Sorbian"},el:{h:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",i:"Greek"},"el-GR":{h:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",
i:"Greek (Greece)"},en:{h:"English",i:"English"},"en-GB":{h:"English (UK)",i:"English (UK)"},"en-AU":{h:"English (Australia)",i:"English (Australia)"},"en-CA":{h:"English (Canada)",i:"English (Canada)"},"en-IE":{h:"English (Ireland)",i:"English (Ireland)"},"en-IN":{h:"English (India)",i:"English (India)"},"en-PI":{h:"English (Pirate)",i:"English (Pirate)"},"en-UD":{h:"English (Upside Down)",i:"English (Upside Down)"},"en-US":{h:"English (US)",i:"English (US)"},"en-ZA":{h:"English (South Africa)",
i:"English (South Africa)"},"en@pirate":{h:"English (Pirate)",i:"English (Pirate)"},eo:{h:"Esperanto",i:"Esperanto"},"eo-EO":{h:"Esperanto",i:"Esperanto"},es:{h:"Espa\u00f1ol",i:"Spanish"},"es-AR":{h:"Espa\u00f1ol (Argentine)",i:"Spanish (Argentina)"},"es-419":{h:"Espa\u00f1ol (Latinoam\u00e9rica)",i:"Spanish (Latin America)"},"es-CL":{h:"Espa\u00f1ol (Chile)",i:"Spanish (Chile)"},"es-CO":{h:"Espa\u00f1ol (Colombia)",i:"Spanish (Colombia)"},"es-EC":{h:"Espa\u00f1ol (Ecuador)",i:"Spanish (Ecuador)"},
"es-ES":{h:"Espa\u00f1ol (Espa\u00f1a)",i:"Spanish (Spain)"},"es-LA":{h:"Espa\u00f1ol (Latinoam\u00e9rica)",i:"Spanish (Latin America)"},"es-NI":{h:"Espa\u00f1ol (Nicaragua)",i:"Spanish (Nicaragua)"},"es-MX":{h:"Espa\u00f1ol (M\u00e9xico)",i:"Spanish (Mexico)"},"es-US":{h:"Espa\u00f1ol (Estados Unidos)",i:"Spanish (United States)"},"es-VE":{h:"Espa\u00f1ol (Venezuela)",i:"Spanish (Venezuela)"},et:{h:"eesti keel",i:"Estonian"},"et-EE":{h:"Eesti (Estonia)",i:"Estonian (Estonia)"},eu:{h:"Euskara",i:"Basque"},
"eu-ES":{h:"Euskara",i:"Basque"},fa:{h:"\u0641\u0627\u0631\u0633\u06cc",i:"Persian"},"fa-IR":{h:"\u0641\u0627\u0631\u0633\u06cc",i:"Persian"},"fb-LT":{h:"Leet Speak",i:"Leet"},ff:{h:"Fulah",i:"Fulah"},fi:{h:"Suomi",i:"Finnish"},"fi-FI":{h:"Suomi",i:"Finnish"},"fo-FO":{h:"F\u00f8royskt",i:"Faroese"},fr:{h:"Fran\u00e7ais",i:"French"},"fr-CA":{h:"Fran\u00e7ais (Canada)",i:"French (Canada)"},"fr-FR":{h:"Fran\u00e7ais (France)",i:"French (France)"},"fr-BE":{h:"Fran\u00e7ais (Belgique)",i:"French (Belgium)"},
"fr-CH":{h:"Fran\u00e7ais (Suisse)",i:"French (Switzerland)"},"fy-NL":{h:"Frysk",i:"Frisian (West)"},ga:{h:"Gaeilge",i:"Irish"},"ga-IE":{h:"Gaeilge (Gaelic)",i:"Irish (Gaelic)"},gl:{h:"Galego",i:"Galician"},"gl-ES":{h:"Galego",i:"Galician"},"gn-PY":{h:"Ava\u00f1e'\u1ebd",i:"Guarani"},"gu-IN":{h:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",i:"Gujarati"},"gx-GR":{h:"\u1f19\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ae \u1f00\u03c1\u03c7\u03b1\u03af\u03b1",i:"Classical Greek"},he:{h:"\u05e2\u05d1\u05e8\u05d9\u05ea\u200f",
i:"Hebrew"},"he-IL":{h:"\u05e2\u05d1\u05e8\u05d9\u05ea\u200f",i:"Hebrew"},hi:{h:"\u0939\u093f\u0928\u094d\u0926\u0940",i:"Hindi"},"hi-IN":{h:"\u0939\u093f\u0928\u094d\u0926\u0940",i:"Hindi"},hr:{h:"Hrvatski",i:"Croatian"},"hr-HR":{h:"Hrvatski",i:"Croatian"},hsb:{h:"Hornjoserb\u0161\u0107ina",i:"Upper Sorbian"},ht:{h:"Krey\u00f2l",i:"Haitian Creole"},hu:{h:"Magyar",i:"Hungarian"},"hu-HU":{h:"Magyar",i:"Hungarian"},"hy-AM":{h:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",i:"Armenian"},id:{h:"Bahasa Indonesia",
i:"Indonesian"},"id-ID":{h:"Bahasa Indonesia",i:"Indonesian"},is:{h:"\u00cdslenska",i:"Icelandic"},"is-IS":{h:"\u00cdslenska (Iceland)",i:"Icelandic (Iceland)"},it:{h:"Italiano",i:"Italian"},"it-IT":{h:"Italiano",i:"Italian"},ja:{h:"\u65e5\u672c\u8a9e",i:"Japanese"},"ja-JP":{h:"\u65e5\u672c\u8a9e",i:"Japanese"},"jv-ID":{h:"Basa Jawa",i:"Javanese"},"ka-GE":{h:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",i:"Georgian"},"kk-KZ":{h:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",i:"Kazakh"},km:{h:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",
i:"Khmer"},"km-KH":{h:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",i:"Khmer"},kab:{h:"Taqbaylit",i:"Kabyle"},kn:{h:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",i:"Kannada"},"kn-IN":{h:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1 (India)",i:"Kannada (India)"},ko:{h:"\ud55c\uad6d\uc5b4",i:"Korean"},"ko-KR":{h:"\ud55c\uad6d\uc5b4 (\u97e9\u56fd)",i:"Korean (Korea)"},ku:{h:"Kurd\u00ee",i:"Kurdish"},"ku-TR":{h:"Kurd\u00ee",i:"Kurdish"},la:{h:"Latin",i:"Latin"},"la-VA":{h:"Latin",i:"Latin"},lb:{h:"L\u00ebtzebuergesch",
i:"Luxembourgish"},"li-NL":{h:"L\u00e8mb\u00f6rgs",i:"Limburgish"},lt:{h:"Lietuvi\u0173",i:"Lithuanian"},"lt-LT":{h:"Lietuvi\u0173",i:"Lithuanian"},lv:{h:"Latvie\u0161u",i:"Latvian"},"lv-LV":{h:"Latvie\u0161u",i:"Latvian"},mai:{h:"\u092e\u0948\u0925\u093f\u0932\u0940, \u09ae\u09c8\u09a5\u09bf\u09b2\u09c0",i:"Maithili"},"mg-MG":{h:"Malagasy",i:"Malagasy"},mk:{h:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",i:"Macedonian"},"mk-MK":{h:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 (\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438)",
i:"Macedonian (Macedonian)"},ml:{h:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",i:"Malayalam"},"ml-IN":{h:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",i:"Malayalam"},"mn-MN":{h:"\u041c\u043e\u043d\u0433\u043e\u043b",i:"Mongolian"},mr:{h:"\u092e\u0930\u093e\u0920\u0940",i:"Marathi"},"mr-IN":{h:"\u092e\u0930\u093e\u0920\u0940",i:"Marathi"},ms:{h:"Bahasa Melayu",i:"Malay"},"ms-MY":{h:"Bahasa Melayu",i:"Malay"},mt:{h:"Malti",i:"Maltese"},"mt-MT":{h:"Malti",i:"Maltese"},my:{h:"\u1017\u1019\u102c\u1005\u1000\u102c",
i:"Burmese"},nb:{h:"Norsk (bokm\u00e5l)",i:"Norwegian (bokmal)"},"nb-NO":{h:"Norsk (bokm\u00e5l)",i:"Norwegian (bokmal)"},ne:{h:"\u0928\u0947\u092a\u093e\u0932\u0940",i:"Nepali"},"ne-NP":{h:"\u0928\u0947\u092a\u093e\u0932\u0940",i:"Nepali"},nl:{h:"Nederlands",i:"Dutch"},"nl-BE":{h:"Nederlands (Belgi\u00eb)",i:"Dutch (Belgium)"},"nl-NL":{h:"Nederlands (Nederland)",i:"Dutch (Netherlands)"},"nn-NO":{h:"Norsk (nynorsk)",i:"Norwegian (nynorsk)"},no:{h:"Norsk",i:"Norwegian"},oc:{h:"Occitan",i:"Occitan"},
"or-IN":{h:"\u0b13\u0b21\u0b3c\u0b3f\u0b06",i:"Oriya"},pa:{h:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",i:"Punjabi"},"pa-IN":{h:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40 (\u0a2d\u0a3e\u0a30\u0a24 \u0a28\u0a42\u0a70)",i:"Punjabi (India)"},pl:{h:"Polski",i:"Polish"},"pl-PL":{h:"Polski",i:"Polish"},"ps-AF":{h:"\u067e\u069a\u062a\u0648",i:"Pashto"},pt:{h:"Portugu\u00eas",i:"Portuguese"},"pt-BR":{h:"Portugu\u00eas (Brasil)",i:"Portuguese (Brazil)"},"pt-PT":{h:"Portugu\u00eas (Portugal)",i:"Portuguese (Portugal)"},
"qu-PE":{h:"Qhichwa",i:"Quechua"},"rm-CH":{h:"Rumantsch",i:"Romansh"},ro:{h:"Rom\u00e2n\u0103",i:"Romanian"},"ro-RO":{h:"Rom\u00e2n\u0103",i:"Romanian"},ru:{h:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",i:"Russian"},"ru-RU":{h:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",i:"Russian"},"sa-IN":{h:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",i:"Sanskrit"},"se-NO":{h:"Davvis\u00e1megiella",i:"Northern S\u00e1mi"},"si-LK":{h:"\u0db4\u0dc5\u0dcf\u0dad",i:"Sinhala (Sri Lanka)"},sk:{h:"Sloven\u010dina",
i:"Slovak"},"sk-SK":{h:"Sloven\u010dina (Slovakia)",i:"Slovak (Slovakia)"},sl:{h:"Sloven\u0161\u010dina",i:"Slovenian"},"sl-SI":{h:"Sloven\u0161\u010dina",i:"Slovenian"},"so-SO":{h:"Soomaaliga",i:"Somali"},sq:{h:"Shqip",i:"Albanian"},"sq-AL":{h:"Shqip",i:"Albanian"},sr:{h:"\u0421\u0440\u043f\u0441\u043a\u0438",i:"Serbian"},"sr-RS":{h:"\u0421\u0440\u043f\u0441\u043a\u0438 (Serbia)",i:"Serbian (Serbia)"},su:{h:"Basa Sunda",i:"Sundanese"},sv:{h:"Svenska",i:"Swedish"},"sv-SE":{h:"Svenska",i:"Swedish"},
sw:{h:"Kiswahili",i:"Swahili"},"sw-KE":{h:"Kiswahili",i:"Swahili (Kenya)"},ta:{h:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",i:"Tamil"},"ta-IN":{h:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",i:"Tamil"},te:{h:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",i:"Telugu"},"te-IN":{h:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",i:"Telugu"},tg:{h:"\u0437\u0430\u0431\u043e\u0301\u043d\u0438 \u0442\u043e\u04b7\u0438\u043a\u04e3\u0301",i:"Tajik"},"tg-TJ":{h:"\u0442\u043e\u04b7\u0438\u043a\u04e3",i:"Tajik"},th:{h:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",
i:"Thai"},"th-TH":{h:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 (\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22)",i:"Thai (Thailand)"},tl:{h:"Filipino",i:"Filipino"},"tl-PH":{h:"Filipino",i:"Filipino"},tlh:{h:"tlhIngan-Hol",i:"Klingon"},tr:{h:"T\u00fcrk\u00e7e",i:"Turkish"},"tr-TR":{h:"T\u00fcrk\u00e7e",i:"Turkish"},"tt-RU":{h:"\u0442\u0430\u0442\u0430\u0440\u0447\u0430",i:"Tatar"},uk:{h:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",i:"Ukrainian"},"uk-UA":{h:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
i:"Ukrainian"},ur:{h:"\u0627\u0631\u062f\u0648",i:"Urdu"},"ur-PK":{h:"\u0627\u0631\u062f\u0648",i:"Urdu"},uz:{h:"O'zbek",i:"Uzbek"},"uz-UZ":{h:"O'zbek",i:"Uzbek"},vi:{h:"Ti\u1ebfng Vi\u1ec7t",i:"Vietnamese"},"vi-VN":{h:"Ti\u1ebfng Vi\u1ec7t",i:"Vietnamese"},"xh-ZA":{h:"isiXhosa",i:"Xhosa"},yi:{h:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",i:"Yiddish"},"yi-DE":{h:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9 (German)",i:"Yiddish (German)"},zh:{h:"\u4e2d\u6587",i:"Chinese"},"zh-HANS":{h:"\u4e2d\u6587\u7b80\u4f53",
i:"Chinese Simplified"},"zh-HANT":{h:"\u4e2d\u6587\u7e41\u9ad4",i:"Chinese Traditional"},"zh-CN":{h:"\u4e2d\u6587\uff08\u4e2d\u56fd\uff09",i:"Chinese Simplified (China)"},"zh-HK":{h:"\u4e2d\u6587\uff08\u9999\u6e2f\uff09",i:"Chinese Traditional (Hong Kong)"},"zh-SG":{h:"\u4e2d\u6587\uff08\u65b0\u52a0\u5761\uff09",i:"Chinese Simplified (Singapore)"},"zh-TW":{h:"\u4e2d\u6587\uff08\u53f0\u7063\uff09",i:"Chinese Traditional (Taiwan)"},"zu-ZA":{h:"isiZulu",i:"Zulu"}},jp=r(Object.keys(ip)),kp=jp.next();!kp.done;kp=
jp.next()){var lp=kp.value;ip[lp.toLowerCase()]=ip[lp]};function mp(b,c,d,e,f,g,h){function k(b){return"variant"==b.type?b.audioRoles?b.audioRoles.join(", "):void 0:b.roles.join(", ")}var l=b.filter(function(b){return 1==b.active})[0],n=np(c,"shaka-back-to-overflow-button");op(c);c.appendChild(n);n=new Map;for(var p=r(b),q=p.next();!q.done;q=p.next())q=q.value,n.has(q.language)||n.set(q.language,new Set),n.get(q.language).add(k(q));n=new Set;l=l?l.language+": "+k(l):"";p={};b=r(b);for(q=b.next();!q.done;p={ic:p.ic},q=b.next()){p.ic=q.value;q=p.ic.language;
var t=k(p.ic),y=q+": "+t;if(!n.has(y)){n.add(y);var C=Y("button");C.addEventListener("click",function(b){return function(){d(b.ic)}}(p));var z=Y("span");C.appendChild(z);z.textContent=pp(q,g);switch(h){case qp:t?z.textContent=t:(D.ba("Track #"+p.ic.id+" does not have a role, but the UI is configured to only show role."),z.textContent="?");break;case rp:t&&(z.textContent+=": "+t)}e&&y==l&&(C.appendChild(sp()),z.classList.add("shaka-chosen-item"),C.setAttribute("aria-selected","true"),f.textContent=
z.textContent);c.appendChild(C)}}}function pp(b,c){if(!b&&!c)return"";switch(b){case "mul":return c.resolve("MULTIPLE_LANGUAGES");case "und":return c.resolve("UNDETERMINED_LANGUAGE");case "zxx":return c.resolve("NOT_APPLICABLE")}var d=mb(b);return b in ip?ip[b].h:d in ip?ip[d].h+" ("+b+")":c.resolve("UNRECOGNIZED_LANGUAGE")+" ("+b+")"};function tp(b,c){this.parent=b;this.controls=c;this.eventManager=new L;this.localization=this.controls.La;this.player=this.controls.$a();this.video=this.controls.sc()}A("shaka.ui.Element",tp);tp.prototype.destroy=function(){this.eventManager.release();this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null;return Promise.resolve()};tp.prototype.destroy=tp.prototype.destroy;function up(b,c,d,e){tp.call(this,b,c);var f=this;this.b=Y("div");this.b.classList.add("shaka-range-container");this.b.classList.add.apply(this.b.classList,Na(d));this.c=!1;this.a=document.createElement("input");this.a.classList.add("shaka-range-element");this.a.classList.add.apply(this.a.classList,Na(e));this.a.type="range";this.a.step="any";this.a.min="0";this.a.max="1";this.a.value="0";this.b.appendChild(this.a);this.parent.appendChild(this.b);this.eventManager.m(this.a,"mousedown",function(){f.controls.Cb()&&
(f.c=!0,f.l())});this.eventManager.m(this.a,"touchstart",function(b){f.controls.Cb()&&(f.c=!0,vp(f,b),f.l())});this.eventManager.m(this.a,"input",function(){f.g()});this.eventManager.m(this.a,"touchmove",function(b){f.c&&(vp(f,b),f.g())});this.eventManager.m(this.a,"touchend",function(b){f.c&&(f.c=!1,vp(f,b),f.j())});this.eventManager.m(this.a,"mouseup",function(){f.c&&(f.c=!1,f.j())})}sa(up,tp);A("shaka.ui.RangeElement",up);up.prototype.l=function(){};up.prototype.g=function(){};up.prototype.j=function(){};
function wp(b,c){b.c||(b.a.value=c)}function vp(b,c){c.preventDefault();var d=c.changedTouches[0],e=b.a.getBoundingClientRect(),f=parseFloat(b.a.min),g=parseFloat(b.a.max);d=f+(g-f)/e.width*(d.clientX-e.left);d<f?d=f:d>g&&(d=g);b.a.value=d};A("shaka.ui.Utils.getFirstDescendantWithClassName",function(b,c){return np(b,c)});function np(b,c){var d=b.getElementsByClassName(c);return d.length?d[0]:null}function xp(b){b&&(b=np(b,"shaka-chosen-item"))&&b.parentElement.focus()}function sp(){var b=Y("i");b.classList.add("material-icons-round");b.classList.add("shaka-chosen-item");b.textContent="done";b.setAttribute("aria-hidden","true");return b}
function yp(b,c){b&&(c?(b.classList.add("shaka-displayed"),b.classList.remove("shaka-hidden")):(b.classList.add("shaka-hidden"),b.classList.remove("shaka-displayed")))}A("shaka.ui.Utils.setDisplay",yp);function op(b){for(;b.firstChild;)b.removeChild(b.firstChild)}A("shaka.ui.Utils.removeAllChildren",op);function zp(b,c){up.call(this,b,c,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var d=this;this.s=this.controls.g;this.f=new F(function(){d.video.currentTime=parseFloat(d.a.value)});this.eventManager.m(this.localization,"locale-updated",function(){return Ap(d)});this.eventManager.m(this.localization,"locale-changed",function(){return Ap(d)});wp(this,this.video.currentTime);Bp(this);Ap(this)}sa(zp,up);A("shaka.ui.SeekBar",zp);
zp.prototype.destroy=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:return b.f&&(b.f.stop(),b.f=null),v(d,up.prototype.destroy.call(b),0)}})})};zp.prototype.l=function(){this.controls.ge(!0);this.video.pause()};zp.prototype.g=function(){this.video.duration&&(Bp(this),this.f.R(.125))};zp.prototype.j=function(){this.f.gb();this.controls.ge(!1);this.video.play()};
function Bp(b){var c=b.s.seekBarColors,d=parseFloat(b.a.value),e=b.video.buffered.length,f=e?b.video.buffered.start(0):0,g=e?b.video.buffered.end(e-1):0,h=b.player.Ib(),k=h.end-h.start,l=h.end;b.a.min=h.start;b.a.max=l;b.player.W()&&5>k?yp(b.b,!1):(yp(b.b,!0),0==e?b.b.style.background=c.base:(e=(Math.max(f,h.start)-h.start)/k||0,g=(Math.min(g,h.end)-h.start)/k||0,d=(Math.min(Math.max(d,h.start),h.end)-h.start)/k||0,b.b.style.background="linear-gradient("+["to right",(b.s.showUnbufferedStart?c.base:
c.played)+" "+100*e+"%",c.played+" "+100*e+"%",c.played+" "+100*d+"%",c.buffered+" "+100*d+"%",c.buffered+" "+100*g+"%",c.base+" "+100*g+"%"].join()+")"))}function Ap(b){b.a.setAttribute("aria-label",b.localization.resolve("SEEK"))};function Z(b,c,d,e){var f=this;ab.call(this);this.O=!0;this.g=e;this.l=new O(d,b,this.g.castReceiverAppId);this.Ja=!0;this.c=this.l.sc();this.B=d;this.s=this.l.$a();this.wa=b;this.f=c;this.j=null;this.Z=!1;this.H=[];this.Wa=[];this.Na=!1;this.K=new F(function(){f.f.style.cursor="none";f.Na=!1;Cp(f)});this.Y=new F(function(){f.a.removeAttribute("shown");f.v.R(2)});this.v=new F(function(){for(var b=r(f.H),c=b.next();!c.done;c=b.next())yp(c.value,!1)});this.ya=new F(function(){f.Cb()&&Dp(f)});this.w=
null;this.Ka=[];this.La=Ep();this.b=new L;this.configure(this.g);Fp(this);this.ka=new Set;Gp(this);this.ya.Ia(.125)}Za(Z,ab);A("shaka.ui.Controls",Z);var Hp=new Map;
Z.prototype.destroy=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:b.b&&(b.b.release(),b.b=null);b.K&&(b.K.stop(),b.K=null);b.Y&&(b.Y.stop(),b.Y=null);b.v&&(b.v.stop(),b.v=null);b.ya&&(b.ya.stop(),b.ya=null);b.a&&(b.f.removeChild(b.a),b.a=null);if(!b.l){d.C(2);break}return v(d,b.l.destroy(),3);case 3:b.l=null;case 2:if(!b.wa){d.C(4);break}return v(d,b.wa.destroy(),5);case 5:b.wa=null;case 4:return b.s=null,b.B=null,b.c=null,b.La=null,b.ka.clear(),v(d,Promise.all(b.Ka.map(function(b){return b.destroy()})),
6);case 6:b.Ka=[];if(b.j)return v(d,b.j.destroy(),0);d.C(0)}})})};Z.prototype.destroy=Z.prototype.destroy;function Ip(b,c){Hp.set(b,c)}Z.registerElement=Ip;Z.prototype.Kf=function(b){this.Ja=b;Gp(this)};Z.prototype.allowCast=Z.prototype.Kf;Z.prototype.Hg=function(){this.L()};Z.prototype.loadComplete=Z.prototype.Hg;
Z.prototype.configure=function(b){this.g=b;this.l.Ce(b.castReceiverAppId);this.j&&(this.j.destroy(),this.j=null);this.Ma&&(this.Ma.destroy(),this.Ma=null);this.a?(To(this.a),this.f.removeChild(this.G)):Jp(this);Kp(this);this.L();b=r(this.f.getElementsByClassName("shaka-no-propagation"));for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=function(b){return b.stopPropagation()};this.b.m(c,"click",d);this.b.m(c,"dblclick",d)}};Z.prototype.configure=Z.prototype.configure;
Z.prototype.ce=function(b){(this.O=b)?(yp(this.a,!0),yp(this.G,this.s.Wb()),this.B.tabIndex=-1,this.B.controls=!1):(yp(this.a,!1),yp(this.G,!1));this.L()};Z.prototype.setEnabledShakaControls=Z.prototype.ce;Z.prototype.ge=function(b){this.Z=b};Z.prototype.setSeeking=Z.prototype.ge;Z.prototype.tf=function(b){this.B.controls=b;this.B.tabIndex=b?0:-1;b&&this.ce(!1)};Z.prototype.setEnabledNativeControls=Z.prototype.tf;Z.prototype.Xf=function(){return this.l};Z.prototype.getCastProxy=Z.prototype.Xf;
Z.prototype.ig=function(){return this.La};Z.prototype.getLocalization=Z.prototype.ig;
Z.prototype.oe=function(){var b=this;return u(function d(){var e;return x(d,function(d){switch(d.o){case 1:if(document.fullscreenElement){document.exitFullscreen();d.C(0);break}xa(d,3);if(!document.pictureInPictureElement){d.C(5);break}return v(d,document.exitPictureInPicture(),5);case 5:za(d,4);break;case 3:e=Da(d),b.dispatchEvent(new B("error",{detail:e}));case 4:return v(d,b.f.requestFullscreen({navigationUI:"hide"}),0)}})})};Z.prototype.toggleFullScreen=Z.prototype.oe;Z.prototype.zg=function(){return this.f};
Z.prototype.getVideoContainer=Z.prototype.zg;Z.prototype.sc=function(){return this.c};Z.prototype.getVideo=Z.prototype.sc;Z.prototype.hg=function(){return this.B};Z.prototype.getLocalVideo=Z.prototype.hg;Z.prototype.$a=function(){return this.s};Z.prototype.getPlayer=Z.prototype.$a;Z.prototype.gg=function(){return this.wa};Z.prototype.getLocalPlayer=Z.prototype.gg;Z.prototype.$f=function(){return this.a};Z.prototype.getControlsContainer=Z.prototype.$f;Z.prototype.Yf=function(){return this.g};
Z.prototype.getConfig=Z.prototype.Yf;Z.prototype.Fg=function(){return this.Z};Z.prototype.isSeeking=Z.prototype.Fg;Z.prototype.Dg=function(){return this.Ja};Z.prototype.isCastAllowed=Z.prototype.Dg;Z.prototype.Le=function(){return this.j?parseFloat(this.j.a.value):this.c.currentTime};Z.prototype.getDisplayTime=Z.prototype.Le;Z.prototype.uf=function(b){this.w=b};Z.prototype.setLastTouchEventTime=Z.prototype.uf;Z.prototype.Ic=function(){return this.H.some(function(b){return b.classList.contains("shaka-displayed")})};
Z.prototype.anySettingsMenusAreOpen=Z.prototype.Ic;Z.prototype.uc=function(){this.v.gb()};Z.prototype.hideSettingsMenus=Z.prototype.uc;
function Kp(b){b.f.classList.add("shaka-video-container");b.B.classList.add("shaka-video");var c=Y("div");c.classList.add("shaka-skim-container");c.classList.add("shaka-fade-out-on-mouse-out");b.a.appendChild(c);b.g.addBigPlayButton&&(c=Y("div"),c.classList.add("shaka-play-button-container"),b.a.appendChild(c),b.Ma=new Lp(c,b));b.G=Y("div");b.G.classList.add("shaka-spinner-container");b.f.appendChild(b.G);var d=Y("div");d.classList.add("shaka-spinner");b.G.appendChild(d);c=document.createElementNS("http://www.w3.org/2000/svg",
"svg");c.setAttribute("class","shaka-spinner-svg");c.setAttribute("viewBox","0 0 30 30");d.appendChild(c);d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("class","shaka-spinner-path");d.setAttribute("cx","15");d.setAttribute("cy","15");d.setAttribute("r","14.5");d.setAttribute("fill","none");d.setAttribute("stroke-width","1");d.setAttribute("stroke-miterlimit","10");c.appendChild(d);Mp(b);b.H=Array.from(b.f.getElementsByClassName("shaka-settings-menu"));if(b.g.addSeekBar)b.j=
new zp(b.na,b);else for(c=r(b.H),d=c.next();!d.done;d=c.next())d.value.classList.add("shaka-low-position");b.Wa=Array.from(b.f.getElementsByClassName("shaka-show-controls-on-mouse-over"))}
function Jp(b){b.a=Y("div");b.a.classList.add("shaka-controls-container");b.f.appendChild(b.a);b.b.m(b.a,"touchstart",function(c){b.c.duration&&(b.Cb()?b.w=Date.now():(b.ia(c),c.preventDefault()))},{passive:!1});b.b.m(b.a,"click",function(){b.O&&(b.Ic()?b.v.gb():Np(b))});b.b.m(b.a,"dblclick",function(){b.g.doubleClickForFullscreen&&b.oe()})}
function Mp(b){b.na=Y("div");b.na.classList.add("shaka-bottom-controls");b.a.appendChild(b.na);b.J=Y("div");b.J.classList.add("shaka-controls-button-panel");b.J.classList.add("shaka-no-propagation");b.J.classList.add("shaka-show-controls-on-mouse-over");b.na.appendChild(b.J);b.b.m(b.J,"click",function(){b.uc()});for(var c=0;c<b.g.controlPanelElements.length;c++){var d=b.g.controlPanelElements[c];Hp.get(d)?(d=Hp.get(d),b.Ka.push(d.create(b.J,b))):D.ba("Unrecognized control panel element requested:",
d)}}
function Fp(b){b.b.m(b.s,"buffering",function(){b.O&&yp(b.G,b.s.Wb())});b.O&&yp(b.G,b.s.Wb());b.b.m(window,"keydown",function(c){b.ka.add(c.key);var d=b.Ic();"Tab"==c.key&&(b.a.classList.add("shaka-keyboard-navigation"),Cp(b),b.b.m(window,"mousedown",b.rb.bind(b)));"Escape"==c.key&&b.v.gb();d&&b.ka.has("Tab")&&Op(b,c)});b.b.m(window,"click",function(){return b.uc()});b.b.m(b.c,"play",b.L.bind(b));b.b.m(b.c,"pause",b.L.bind(b));b.b.m(b.c,"ended",b.L.bind(b));b.b.m(b.f,"mousemove",b.ia.bind(b));b.b.m(b.f,
"touchmove",b.ia.bind(b),{passive:!0});b.b.m(b.f,"touchend",b.ia.bind(b),{passive:!0});b.b.m(b.f,"mouseleave",b.sb.bind(b));b.b.m(b.l,"caststatuschanged",function(){Gp(b)});b.b.m(b.f,"keyup",function(c){var d=document.activeElement,e=d&&d.classList?d.classList.contains("shaka-volume-bar"):!1,f=d&&d.classList&&d.classList.contains("shaka-seek-bar");b.a.contains(d)&&b.ia(c);b.ka["delete"](c.key);if(b.g.enableKeyboardPlaybackControls)switch(c.key){case "ArrowLeft":e||Pp(b,b.c.currentTime-5);break;case "ArrowRight":e||
Pp(b,b.c.currentTime+5);break;case "Home":Pp(b,b.s.Ib().start);break;case "End":Pp(b,b.s.Ib().end);break;case " ":f&&Np(b)}});screen.orientation&&b.b.m(screen.orientation,"change",function(){b.c&&0!=b.c.readyState&&!b.l.ha()&&b.g.enableFullscreenOnRotation&&(screen.orientation.type.includes("landscape")&&!document.fullscreenElement?b.f.requestFullscreen({navigationUI:"hide"}):screen.orientation.type.includes("portrait")&&document.fullscreenElement&&document.exitFullscreen())})}
Z.prototype.ia=function(b){"mousemove"==b.type&&(this.a.classList.remove("shaka-keyboard-navigation"),Cp(this));"touchstart"==b.type||"touchmove"==b.type||"touchend"==b.type||"keyup"==b.type?this.w=Date.now():this.w+1E3<Date.now()&&(this.w=null);this.w&&"mousemove"==b.type||(this.f.style.cursor="",this.Na=!0,this.v.stop(),this.Cb()||(Dp(this),Cp(this)),this.K.stop(),"touchend"!=b.type&&"keyup"!=b.type&&this.w||this.K.R(3))};Z.prototype.sb=function(){this.w||this.K.gb()};
function Qp(b){return window.matchMedia("hover: hover").matches?b.Wa.some(function(b){return b.matches(":hover")}):!1}function Cp(b){var c=b.c.paused&&!b.Z,d=b.a.classList.contains("shaka-keyboard-navigation");c||b.Na||d||Qp(b)?(Dp(b),b.a.setAttribute("shown","true"),b.Y.stop()):b.Y.R(b.g.fadeDelay)}function Np(b){b.O&&b.c.duration&&(b.s.ze(),b.c.paused?b.c.play():b.c.pause())}
function Gp(b){var c=b.l.ha();b.dispatchEvent(new B("caststatuschanged",{Jg:c}));c?b.a.setAttribute("casting","true"):b.a.removeAttribute("casting")}Z.prototype.L=function(){this.c.ended&&!this.c.paused&&this.c.pause();Cp(this)};Z.prototype.Cb=function(){return this.O?null!=this.a.getAttribute("shown")||null!=this.a.getAttribute("casting"):!1};Z.prototype.isOpaque=Z.prototype.Cb;function Pp(b,c){b.c.currentTime=c;b.Cb()&&Dp(b)}
function Dp(b){if(b.j)if(wp(b.j,b.c.currentTime),Bp(b.j),b.j.b.classList.contains("shaka-hidden")){var c=r(b.H);for(d=c.next();!d.done;d=c.next())d.value.classList.add("shaka-low-position")}else{c=r(b.H);for(var d=c.next();!d.done;d=c.next())d.value.classList.remove("shaka-low-position")}b.dispatchEvent(new B("timeandseekrangeupdated"))}
function Op(b,c){var d=b.H.filter(function(b){return b.classList.contains("shaka-displayed")})[0];if(d.childNodes.length){for(var e=d.firstElementChild;e&&e.classList.contains("shaka-hidden");)e=e.nextElementSibling;for(d=d.lastElementChild;d&&d.classList.contains("shaka-hidden");)d=d.previousElementSibling;var f=document.activeElement;b.ka.has("Shift")?f==e&&(c.preventDefault(),d.focus()):f==d&&(c.preventDefault(),e.focus())}}Z.prototype.rb=function(){this.b.xa(window,"mousedown")};
function Ep(){var b=new pb("en");b.aa("ar",new Map([["AUTO_QUALITY","\u062a\u0644\u0642\u0627\u0626\u064a"],["BACK","\u0631\u062c\u0648\u0639"],["CAPTIONS","\u0627\u0644\u062a\u0631\u062c\u0645\u0629 \u0648\u0627\u0644\u0634\u0631\u062d"],["CAST","\u0625\u0631\u0633\u0627\u0644..."],["ENTER_PICTURE_IN_PICTURE",'\u0627\u0644\u062f\u062e\u0648\u0644 \u0641\u064a \u0648\u0636\u0639 "\u0646\u0627\u0641\u0630\u0629 \u0636\u0645\u0646 \u0646\u0627\u0641\u0630\u0629"'],["EXIT_FULL_SCREEN","\u0625\u0646\u0647\u0627\u0621 \u0648\u0636\u0639 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629"],
["EXIT_PICTURE_IN_PICTURE",'\u0627\u0644\u062e\u0631\u0648\u062c \u0645\u0646 \u0648\u0636\u0639 "\u0646\u0627\u0641\u0630\u0629 \u0636\u0645\u0646 \u0646\u0627\u0641\u0630\u0629"'],["FAST_FORWARD","\u062a\u0642\u062f\u064a\u0645 \u0633\u0631\u064a\u0639"],["FULL_SCREEN","\u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629"],["LANGUAGE","\u0627\u0644\u0644\u063a\u0629"],["LIVE","\u0645\u0628\u0627\u0634\u0631"],["MORE_SETTINGS","\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"],
["MULTIPLE_LANGUAGES","\u0644\u063a\u0627\u062a \u0645\u062a\u0639\u062f\u062f\u0629"],["MUTE","\u0643\u062a\u0645 \u0627\u0644\u0635\u0648\u062a"],["NOT_APPLICABLE","\u063a\u064a\u0631 \u0633\u0627\u0631\u064d"],["OFF","\u0625\u064a\u0642\u0627\u0641"],["ON","\u062a\u0634\u063a\u064a\u0644"],["PAUSE","\u0625\u064a\u0642\u0627\u0641 \u0645\u0624\u0642\u062a"],["PICTURE_IN_PICTURE","\u0646\u0627\u0641\u0630\u0629 \u0636\u0645\u0646 \u0627\u0644\u0646\u0627\u0641\u0630\u0629"],["PLAY","\u0627\u0644\u062a\u0634\u063a\u064a\u0644"],
["RESOLUTION","\u062f\u0631\u062c\u0629 \u0627\u0644\u062f\u0642\u0629"],["REWIND","\u0625\u0631\u062c\u0627\u0639"],["SEEK","\u0627\u0644\u0628\u062d\u062b \u0628\u0627\u0644\u062a\u0645\u0631\u064a\u0631"],["SKIP_TO_LIVE","\u0627\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0625\u0644\u0649 \u0628\u062b \u0645\u0628\u0627\u0634\u0631"],["UNDETERMINED_LANGUAGE","\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"],["UNMUTE","\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0635\u0648\u062a"],["UNRECOGNIZED_LANGUAGE",
"\u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641"],["VOLUME","\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0635\u0648\u062a"]]));b.aa("de",new Map([["AUTO_QUALITY","Automatisch"],["BACK","Zur\u00fcck"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE",
"Live"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["RESOLUTION","Aufl\u00f6sung"],["REWIND","Zur\u00fcckspulen"],["SEEK","Suche"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],
["VOLUME","Lautst\u00e4rke"]]));b.aa("en",new Map([["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],
["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]]));b.aa("en-GB",new Map([["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN",
"Exit full screen"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_TO_LIVE","Skip ahead to live"],
["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]]));b.aa("es",new Map([["AUTO_QUALITY","Autom\u00e1tico"],["BACK","Atr\u00e1s"],["CAPTIONS","Subt\u00edtulos"],["CAST","Enviar..."],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar r\u00e1pidamente"],["FULL_SCREEN","Pantalla completa"],
["LANGUAGE","Idioma"],["LIVE","En directo"],["MORE_SETTINGS","M\u00e1s opciones"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","No"],["ON","S\u00ed"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["RESOLUTION","Resoluci\u00f3n"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_TO_LIVE","Ir al v\u00eddeo en directo"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE",
"No reconocida"],["VOLUME","Volumen"]]));b.aa("es-419",new Map([["AUTO_QUALITY","Autom\u00e1tico"],["BACK","Atr\u00e1s"],["CAPTIONS","Subt\u00edtulos"],["CAST","Transmitir..."],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["MORE_SETTINGS","M\u00e1s opciones de configuraci\u00f3n"],
["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["RESOLUTION","Resoluci\u00f3n"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_TO_LIVE","Adelantar hasta la transmisi\u00f3n en vivo"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]]));
b.aa("fr",new Map([["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster\u2026"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein \u00e9cran"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode\u00a0PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein \u00e9cran"],["LANGUAGE","Langue"],["LIVE","En direct"],["MORE_SETTINGS","Plus de param\u00e8tres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],
["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","D\u00e9sactiv\u00e9e"],["ON","Activ\u00e9e"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["RESOLUTION","R\u00e9solution"],["REWIND","Retour arri\u00e8re"],["SEEK","Chercher"],["SKIP_TO_LIVE","Acc\u00e9der \u00e0 la partie la plus r\u00e9cente du direct"],["UNDETERMINED_LANGUAGE","Langue ind\u00e9termin\u00e9e"],["UNMUTE","R\u00e9activer le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME",
"Volume"]]));b.aa("it",new Map([["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Pi\u00f9 lingue"],["MUTE","Disattiva audio"],
["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]]));b.aa("ja",new Map([["AUTO_QUALITY","\u81ea\u52d5"],["BACK","\u623b\u308b"],["CAPTIONS",
"\u5b57\u5e55"],["CAST","\u30ad\u30e3\u30b9\u30c8..."],["ENTER_PICTURE_IN_PICTURE","\u30d4\u30af\u30c1\u30e3\u30fc \u30a4\u30f3 \u30d4\u30af\u30c1\u30e3\u30fc\u3092\u958b\u59cb"],["EXIT_FULL_SCREEN","\u5168\u753b\u9762\u8868\u793a\u3092\u7d42\u4e86"],["EXIT_PICTURE_IN_PICTURE","\u30d4\u30af\u30c1\u30e3\u30fc \u30a4\u30f3 \u30d4\u30af\u30c1\u30e3\u30fc\u3092\u7d42\u4e86"],["FAST_FORWARD","\u65e9\u9001\u308a"],["FULL_SCREEN","\u5168\u753b\u9762\u8868\u793a"],["LANGUAGE","\u8a00\u8a9e"],["LIVE","\u30e9\u30a4\u30d6"],
["MORE_SETTINGS","\u8a73\u7d30\u8a2d\u5b9a"],["MULTIPLE_LANGUAGES","\u591a\u8a00\u8a9e"],["MUTE","\u30df\u30e5\u30fc\u30c8"],["NOT_APPLICABLE","\u8a72\u5f53\u306a\u3057"],["OFF","\u30aa\u30d5"],["ON","\u30aa\u30f3"],["PAUSE","\u4e00\u6642\u505c\u6b62"],["PICTURE_IN_PICTURE","\u30d4\u30af\u30c1\u30e3\u30fc \u30a4\u30f3 \u30d4\u30af\u30c1\u30e3\u30fc"],["PLAY","\u518d\u751f"],["RESOLUTION","\u89e3\u50cf\u5ea6"],["REWIND","\u5dfb\u304d\u623b\u3057"],["SEEK","\u30b7\u30fc\u30af\u518d\u751f"],["SKIP_TO_LIVE",
"\u30e9\u30a4\u30d6\u914d\u4fe1\u307e\u3067\u30b9\u30ad\u30c3\u30d7"],["UNDETERMINED_LANGUAGE","\u4e0d\u660e"],["UNMUTE","\u30df\u30e5\u30fc\u30c8\u3092\u89e3\u9664"],["UNRECOGNIZED_LANGUAGE","\u4e0d\u660e"],["VOLUME","\u97f3\u91cf"]]));b.aa("ko",new Map([["AUTO_QUALITY","\uc790\ub3d9"],["BACK","\ub4a4\ub85c"],["CAPTIONS","\uc790\ub9c9"],["CAST","\uc804\uc1a1..."],["ENTER_PICTURE_IN_PICTURE","PIP \ubaa8\ub4dc \uc2dc\uc791"],["EXIT_FULL_SCREEN","\uc804\uccb4\ud654\uba74 \ub2eb\uae30"],["EXIT_PICTURE_IN_PICTURE",
"PIP \ubaa8\ub4dc \uc885\ub8cc"],["FAST_FORWARD","\ube68\ub9ac \uac10\uae30"],["FULL_SCREEN","\uc804\uccb4\ud654\uba74"],["LANGUAGE","\uc5b8\uc5b4"],["LIVE","\uc2e4\uc2dc\uac04"],["MORE_SETTINGS","\uc124\uc815 \ub354\ubcf4\uae30"],["MULTIPLE_LANGUAGES","\uc5ec\ub7ec \uc5b8\uc5b4"],["MUTE","\uc74c\uc18c\uac70"],["NOT_APPLICABLE","\ud574\ub2f9 \uc0ac\ud56d \uc5c6\uc74c"],["OFF","\uc0ac\uc6a9 \uc548\ud568"],["ON","\uc0ac\uc6a9"],["PAUSE","\uc77c\uc2dc\uc911\uc9c0"],["PICTURE_IN_PICTURE","PIP \ubaa8\ub4dc"],
["PLAY","\uc7ac\uc0dd"],["RESOLUTION","\ud574\uc0c1\ub3c4"],["REWIND","\ub418\uac10\uae30"],["SEEK","\ucc3e\uae30"],["SKIP_TO_LIVE","\ub77c\uc774\ube0c \ub3d9\uc601\uc0c1\uc73c\ub85c \uac74\ub108\ub6f0\uae30"],["UNDETERMINED_LANGUAGE","\ubbf8\uc815"],["UNMUTE","\uc74c\uc18c\uac70 \ud574\uc81c"],["UNRECOGNIZED_LANGUAGE","\uc54c \uc218 \uc5c6\uc74c"],["VOLUME","\ubcfc\ub968"]]));b.aa("nl",new Map([["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_PICTURE_IN_PICTURE",
"Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["RESOLUTION","Resolutie"],
["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]]));b.aa("pl",new Map([["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesy\u0142aj..."],["ENTER_PICTURE_IN_PICTURE","W\u0142\u0105cz tryb obrazu w\u00a0obrazie"],["EXIT_FULL_SCREEN","Zamknij pe\u0142ny ekran"],["EXIT_PICTURE_IN_PICTURE","Wy\u0142\u0105cz tryb obrazu w\u00a0obrazie"],
["FAST_FORWARD","Przewi\u0144 do przodu"],["FULL_SCREEN","Pe\u0142ny ekran"],["LANGUAGE","J\u0119zyk"],["LIVE","Na \u017cywo"],["MORE_SETTINGS","Wi\u0119cej ustawie\u0144"],["MULTIPLE_LANGUAGES","Wiele j\u0119zyk\u00f3w"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wy\u0142\u0105czone"],["ON","W\u0142\u0105czone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w\u00a0obrazie"],["PLAY","Odtw\u00f3rz"],["RESOLUTION","Rozdzielczo\u015b\u0107"],["REWIND","Przewi\u0144 do ty\u0142u"],
["SEEK","Szukaj"],["SKIP_TO_LIVE","Przejd\u017a do transmisji na \u017cywo"],["UNDETERMINED_LANGUAGE","Nie okre\u015blono"],["UNMUTE","Wy\u0142\u0105cz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","G\u0142o\u015bno\u015b\u0107"]]));b.aa("pt-BR",new Map([["CAPTIONS","Legendas"],["CAST","Transmitir..."],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["MORE_SETTINGS",
"Mais defini\u00e7\u00f5es"],["MUTE","Desativar som"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["REWIND","Retroceder"],["SEEK","Procurar"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","N\u00e3o reconhecido"],["VOLUME","Volume"]]));b.aa("pt-PT",new Map([["AUTO_QUALITY","Autom\u00e1tico"],["BACK","Anterior"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_PICTURE_IN_PICTURE","Entrar no modo ecr\u00e3 no ecr\u00e3"],
["EXIT_FULL_SCREEN","Sair do modo de ecr\u00e3 inteiro"],["EXIT_PICTURE_IN_PICTURE","Sair do modo ecr\u00e3 no ecr\u00e3"],["FAST_FORWARD","Avan\u00e7ar"],["FULL_SCREEN","Ecr\u00e3 inteiro"],["LANGUAGE","Idioma"],["LIVE","Em direto"],["MORE_SETTINGS","Mais defini\u00e7\u00f5es"],["MULTIPLE_LANGUAGES","V\u00e1rios idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","N\u00e3o aplic\u00e1vel"],["OFF","Desligado"],["ON","Ligado"],["PAUSE","Colocar em pausa"],["PICTURE_IN_PICTURE","Ecr\u00e3 no ecr\u00e3"],
["PLAY","Reproduzir"],["RESOLUTION","Resolu\u00e7\u00e3o"],["REWIND","Rebobinar"],["SEEK","Procurar"],["SKIP_TO_LIVE","Avan\u00e7ar para o direto"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Reativar o som"],["UNRECOGNIZED_LANGUAGE","N\u00e3o reconhecido"],["VOLUME","Volume"]]));b.aa("ru",new Map([["AUTO_QUALITY","\u0410\u0432\u0442\u043e"],["BACK","\u041d\u0430\u0437\u0430\u0434"],["CAPTIONS","\u0422\u0438\u0442\u0440\u044b"],["CAST","\u0422\u0440\u0430\u043d\u0441\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c..."],
["ENTER_PICTURE_IN_PICTURE",'\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c "\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0432 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435"'],["EXIT_FULL_SCREEN","\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"],["EXIT_PICTURE_IN_PICTURE",'\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 "\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0432 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435"'],
["FAST_FORWARD","\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u043a\u0430 \u0432\u043f\u0435\u0440\u0435\u0434"],["FULL_SCREEN","\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c"],["LANGUAGE","\u042f\u0437\u044b\u043a"],["LIVE","\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440"],["MORE_SETTINGS","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"],
["MULTIPLE_LANGUAGES","\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u044f\u0437\u044b\u043a\u043e\u0432"],["MUTE","\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a"],["NOT_APPLICABLE","\u041d\u0435\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e"],["OFF","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c"],["ON","\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c"],["PAUSE","\u041f\u0430\u0443\u0437\u0430"],["PICTURE_IN_PICTURE","\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0432 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435"],
["PLAY","\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438"],["RESOLUTION","\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435"],["REWIND","\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u0430\u0442\u044c \u043d\u0430\u0437\u0430\u0434"],["SEEK","\u041f\u0435\u0440\u0435\u043c\u043e\u0442\u043a\u0430"],["SKIP_TO_LIVE","\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u044f\u043c\u043e\u0439 \u0442\u0440\u0430\u043d\u0441\u043b\u044f\u0446\u0438\u0438"],
["UNDETERMINED_LANGUAGE","\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"],["UNMUTE","\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a"],["UNRECOGNIZED_LANGUAGE","\u041d\u0435 \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u043d\u043e"],["VOLUME","\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c"]]));b.aa("th",new Map([["AUTO_QUALITY","\u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34"],["BACK","\u0e01\u0e25\u0e31\u0e1a"],["CAPTIONS","\u0e04\u0e33\u0e1a\u0e23\u0e23\u0e22\u0e32\u0e22"],
["CAST","\u0e41\u0e04\u0e2a\u0e15\u0e4c..."],["ENTER_PICTURE_IN_PICTURE","\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e20\u0e32\u0e1e\u0e0b\u0e49\u0e2d\u0e19\u0e20\u0e32\u0e1e"],["EXIT_FULL_SCREEN","\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e41\u0e1a\u0e1a\u0e40\u0e15\u0e47\u0e21\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"],["EXIT_PICTURE_IN_PICTURE","\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e20\u0e32\u0e1e\u0e0b\u0e49\u0e2d\u0e19\u0e20\u0e32\u0e1e"],
["FAST_FORWARD","\u0e01\u0e23\u0e2d\u0e44\u0e1b\u0e02\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32"],["FULL_SCREEN","\u0e40\u0e15\u0e47\u0e21\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"],["LANGUAGE","\u0e20\u0e32\u0e29\u0e32"],["LIVE","\u0e2a\u0e14"],["MORE_SETTINGS","\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21"],["MULTIPLE_LANGUAGES","\u0e2b\u0e25\u0e32\u0e22\u0e20\u0e32\u0e29\u0e32"],["MUTE","\u0e1b\u0e34\u0e14\u0e40\u0e2a\u0e35\u0e22\u0e07"],
["NOT_APPLICABLE","\u0e44\u0e21\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07"],["OFF","\u0e1b\u0e34\u0e14"],["ON","\u0e40\u0e1b\u0e34\u0e14"],["PAUSE","\u0e2b\u0e22\u0e38\u0e14\u0e0a\u0e31\u0e48\u0e27\u0e04\u0e23\u0e32\u0e27"],["PICTURE_IN_PICTURE","\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e20\u0e32\u0e1e\u0e0b\u0e49\u0e2d\u0e19\u0e20\u0e32\u0e1e"],["PLAY","\u0e40\u0e25\u0e48\u0e19"],["RESOLUTION","\u0e04\u0e27\u0e32\u0e21\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"],["REWIND",
"\u0e01\u0e23\u0e2d\u0e01\u0e25\u0e31\u0e1a"],["SEEK","\u0e04\u0e49\u0e19\u0e2b\u0e32"],["SKIP_TO_LIVE","\u0e02\u0e49\u0e32\u0e21\u0e44\u0e1b\u0e17\u0e35\u0e48\u0e01\u0e32\u0e23\u0e16\u0e48\u0e32\u0e22\u0e17\u0e2d\u0e14\u0e2a\u0e14"],["UNDETERMINED_LANGUAGE","\u0e44\u0e21\u0e48\u0e01\u0e33\u0e2b\u0e19\u0e14"],["UNMUTE","\u0e40\u0e1b\u0e34\u0e14\u0e40\u0e2a\u0e35\u0e22\u0e07"],["UNRECOGNIZED_LANGUAGE","\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e23\u0e39\u0e49\u0e08\u0e31\u0e01"],["VOLUME","\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e40\u0e2a\u0e35\u0e22\u0e07"]]));
b.aa("tr",new Map([["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyaz\u0131lar"],["CAST","Yay\u0131nla..."],["ENTER_PICTURE_IN_PICTURE","Pencere i\u00e7inde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan \u00e7\u0131k"],["EXIT_PICTURE_IN_PICTURE","Pencere \u0130\u00e7inde Pencereden \u00c7\u0131k"],["FAST_FORWARD","\u0130leri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canl\u0131"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden \u00e7ok dil"],
["MUTE","Sesi kapat"],["NOT_APPLICABLE","Ge\u00e7erli de\u011fil"],["OFF","Kapal\u0131"],["ON","A\u00e7\u0131k"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere \u0130\u00e7inde Pencere"],["PLAY","Oynat"],["RESOLUTION","\u00c7\u00f6z\u00fcn\u00fcrl\u00fck"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_TO_LIVE","Canl\u0131 yay\u0131na atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi a\u00e7"],["UNRECOGNIZED_LANGUAGE","Tan\u0131nmayan"],["VOLUME","Ses"]]));b.aa("zh",new Map([["AUTO_QUALITY",
"\u81ea\u52a8"],["BACK","\u8fd4\u56de"],["CAPTIONS","\u5b57\u5e55"],["CAST","\u6295\u5c04\u2026"],["ENTER_PICTURE_IN_PICTURE","\u8fdb\u5165\u201c\u753b\u4e2d\u753b\u201d\u6a21\u5f0f"],["EXIT_FULL_SCREEN","\u9000\u51fa\u5168\u5c4f\u6a21\u5f0f"],["EXIT_PICTURE_IN_PICTURE","\u9000\u51fa\u201c\u753b\u4e2d\u753b\u201d\u6a21\u5f0f"],["FAST_FORWARD","\u5feb\u8fdb"],["FULL_SCREEN","\u5168\u5c4f"],["LANGUAGE","\u8bed\u8a00"],["LIVE","\u76f4\u64ad"],["MORE_SETTINGS","\u66f4\u591a\u8bbe\u7f6e"],["MULTIPLE_LANGUAGES",
"\u591a\u79cd\u8bed\u8a00"],["MUTE","\u9759\u97f3"],["NOT_APPLICABLE","\u4e0d\u9002\u7528"],["OFF","\u5173\u95ed"],["ON","\u5f00\u542f"],["PAUSE","\u6682\u505c"],["PICTURE_IN_PICTURE","\u753b\u4e2d\u753b"],["PLAY","\u64ad\u653e"],["RESOLUTION","\u5206\u8fa8\u7387"],["REWIND","\u5feb\u9000"],["SEEK","\u8fdb\u5ea6"],["SKIP_TO_LIVE","\u8df3\u81f3\u5f53\u524d\u76f4\u64ad"],["UNDETERMINED_LANGUAGE","\u672a\u786e\u5b9a"],["UNMUTE","\u53d6\u6d88\u9759\u97f3"],["UNRECOGNIZED_LANGUAGE","\u65e0\u6cd5\u8bc6\u522b"],
["VOLUME","\u97f3\u91cf"]]));b.aa("zh-TW",new Map([["AUTO_QUALITY","\u81ea\u52d5"],["BACK","\u8fd4\u56de"],["CAPTIONS","\u5b57\u5e55"],["CAST","\u6295\u653e..."],["ENTER_PICTURE_IN_PICTURE","\u9032\u5165\u5b50\u6bcd\u756b\u9762"],["EXIT_FULL_SCREEN","\u9000\u51fa\u5168\u87a2\u5e55\u6a21\u5f0f"],["EXIT_PICTURE_IN_PICTURE","\u96e2\u958b\u5b50\u6bcd\u756b\u9762"],["FAST_FORWARD","\u5feb\u8f49"],["FULL_SCREEN","\u5168\u87a2\u5e55"],["LANGUAGE","\u8a9e\u8a00"],["LIVE","\u76f4\u64ad"],["MORE_SETTINGS",
"\u986f\u793a\u66f4\u591a\u8a2d\u5b9a"],["MULTIPLE_LANGUAGES","\u591a\u7a2e\u8a9e\u8a00"],["MUTE","\u975c\u97f3"],["NOT_APPLICABLE","\u4e0d\u9069\u7528"],["OFF","\u95dc\u9589"],["ON","\u958b\u555f"],["PAUSE","\u66ab\u505c"],["PICTURE_IN_PICTURE","\u5b50\u6bcd\u756b\u9762"],["PLAY","\u64ad\u653e"],["RESOLUTION","\u89e3\u6790\u5ea6"],["REWIND","\u5012\u8f49"],["SEEK","\u641c\u5c0b"],["SKIP_TO_LIVE","\u8df3\u81f3\u5f53\u524d\u76f4\u64ad"],["UNDETERMINED_LANGUAGE","\u4e0d\u660e"],["UNMUTE","\u53d6\u6d88\u975c\u97f3"],
["UNRECOGNIZED_LANGUAGE","\u7121\u6cd5\u8fa8\u8b58"],["VOLUME","\u97f3\u91cf"]]));b.Be(navigator.languages||[]);return b};function Rp(b,c){tp.call(this,b,c);var d=this;this.f=this.controls.g;this.g=this.controls.a;this.c=[];this.b=Y("button");this.b.classList.add("shaka-overflow-menu-button");this.b.classList.add("shaka-no-propagation");this.b.classList.add("material-icons-round");this.b.textContent="more_vert";this.parent.appendChild(this.b);this.a=Y("div");this.a.classList.add("shaka-overflow-menu");this.a.classList.add("shaka-no-propagation");this.a.classList.add("shaka-show-controls-on-mouse-over");this.a.classList.add("shaka-settings-menu");
this.g.appendChild(this.a);Sp(this);for(var e=this.controls.f.getElementsByClassName("shaka-back-to-overflow-button"),f=0;f<e.length;f++)this.eventManager.m(e[f],"click",function(){d.controls.uc();yp(d.a,!0);d.a.childNodes.length&&d.a.childNodes[0].focus();Cp(d.controls)});this.eventManager.m(this.localization,"locale-updated",function(){Tp(d)});this.eventManager.m(this.localization,"locale-changed",function(){Tp(d)});this.eventManager.m(this.controls,"submenuopen",function(){yp(d.a,!1)});this.eventManager.m(this.a,
"touchstart",function(b){d.controls.uf(Date.now());b.stopPropagation()});this.eventManager.m(this.b,"click",function(){Up(d)});Tp(this)}sa(Rp,tp);A("shaka.ui.OverflowMenu",Rp);Rp.prototype.destroy=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:return b.g=null,v(d,Promise.all(b.c.map(function(b){return b.destroy()})),2);case 2:return b.c=[],v(d,tp.prototype.destroy.call(b),0)}})})};function Vp(b,c){Wp.set(b,c)}Rp.registerElement=Vp;
function Sp(b){for(var c=0;c<b.f.overflowMenuButtons.length;c++){var d=b.f.overflowMenuButtons[c];Wp.get(d)?(d=Wp.get(d),b.c.push(d.create(b.a,b.controls))):D.ba("Unrecognized overflow menu element requested:",d)}}function Up(b){if(b.controls.Ic())b.controls.uc();else{yp(b.a,!0);Cp(b.controls);var c=function(b){return 0==b.classList.contains("shaka-hidden")};db(b.a.childNodes,c)&&eb(b.a.childNodes,c)[0].focus()}}
function Tp(b){b.b.setAttribute("aria-label",b.localization.resolve("MORE_SETTINGS"))}function Xp(){}Xp.prototype.create=function(b,c){return new Rp(b,c)};Ip("overflow_menu",new Xp);var Wp=new Map;function Yp(b,c,d){tp.call(this,b,c);var e=this;Zp(this,d);$p(this);this.eventManager.m(this.button,"click",function(){e.controls.dispatchEvent(new B("submenuopen"));yp(e.a,!0);xp(e.a)})}sa(Yp,tp);A("shaka.ui.SettingsMenu",Yp);
function Zp(b,c){b.button=Y("button");b.f=Y("i");b.f.classList.add("material-icons-round");b.f.textContent=c;b.button.appendChild(b.f);var d=Y("label");d.classList.add("shaka-overflow-button-label");b.l=Y("span");d.appendChild(b.l);b.b=Y("span");b.b.classList.add("shaka-current-selection-span");d.appendChild(b.b);b.button.appendChild(d);b.parent.appendChild(b.button)}
function $p(b){b.a=Y("div");b.a.classList.add("shaka-no-propagation");b.a.classList.add("shaka-show-controls-on-mouse-over");b.a.classList.add("shaka-settings-menu");b.c=Y("button");b.c.classList.add("shaka-back-to-overflow-button");b.a.appendChild(b.c);var c=Y("i");c.classList.add("material-icons-round");c.textContent="arrow_back";b.c.appendChild(c);b.j=Y("span");b.c.appendChild(b.j);b.controls.a.appendChild(b.a)};function aq(b,c){Yp.call(this,b,c,"language");var d=this;this.button.classList.add("shaka-language-button");this.a.classList.add("shaka-audio-languages");this.eventManager.m(this.localization,"locale-updated",function(){bq(d)});this.eventManager.m(this.localization,"locale-changed",function(){bq(d)});this.eventManager.m(this.player,"trackschanged",function(){var b=0<d.player.Ub().length;yp(d.button,b);cq(d)});this.eventManager.m(this.player,"variantchanged",function(){cq(d)});bq(this);cq(this)}
sa(aq,Yp);A("shaka.ui.AudioLanguageSelection",aq);function cq(b){var c=b.player.Ub();mp(c,b.a,function(c){b.player.cd(c.language,c.roles[0])},!0,b.b,b.localization,b.controls.g.trackLabelFormat);xp(b.a);b.controls.dispatchEvent(new B("languageselectionupdated"))}
function bq(b){b.c.setAttribute("aria-label",b.localization.resolve("BACK"));b.button.setAttribute("aria-label",b.localization.resolve("LANGUAGE"));b.l.textContent=b.localization.resolve("LANGUAGE");b.j.textContent=b.localization.resolve("LANGUAGE")}function dq(){}dq.prototype.create=function(b,c){return new aq(b,c)};Vp("language",new dq);function eq(b,c){tp.call(this,b,c);var d=this;this.button=Y("button");this.parent.appendChild(this.button);this.eventManager.m(this.localization,"locale-updated",function(){fq(d)});this.eventManager.m(this.localization,"locale-changed",function(){fq(d)});this.eventManager.m(this.video,"play",function(){fq(d)});this.eventManager.m(this.video,"pause",function(){fq(d)});this.eventManager.m(this.button,"click",function(){gq(d)?d.video.play():d.video.pause()})}sa(eq,tp);A("shaka.ui.PlayButton",eq);
function gq(b){return b.video.paused&&!b.controls.Z}function fq(b){b.button.setAttribute("aria-label",b.localization.resolve(gq(b)?"PLAY":"PAUSE"))};function Lp(b,c){eq.call(this,b,c);var d=this;this.button.classList.add("shaka-play-button");this.button.classList.add("shaka-no-propagation");hq(this);fq(this);this.eventManager.m(this.video,"play",function(){hq(d)});this.eventManager.m(this.video,"pause",function(){hq(d)})}sa(Lp,eq);A("shaka.ui.BigPlayButton",Lp);function hq(b){gq(b)?b.button.setAttribute("icon","play"):b.button.setAttribute("icon","pause")};function iq(b,c){tp.call(this,b,c);var d=this;this.b=this.controls.l;this.a=Y("button");this.a.classList.add("shaka-cast-button");this.a.setAttribute("aria-pressed","false");this.c=Y("i");this.c.classList.add("material-icons-round");this.c.textContent="cast";this.a.appendChild(this.c);var e=Y("label");e.classList.add("shaka-overflow-button-label");this.g=Y("span");e.appendChild(this.g);this.f=Y("span");this.f.classList.add("shaka-current-selection-span");e.appendChild(this.f);this.a.appendChild(e);
this.parent.appendChild(this.a);jq(this);kq(this);this.eventManager.m(this.localization,"locale-updated",function(){jq(d)});this.eventManager.m(this.localization,"locale-changed",function(){jq(d)});this.eventManager.m(this.a,"click",function(){lq(d)});this.eventManager.m(this.controls,"caststatuschanged",function(){kq(d)})}sa(iq,tp);A("shaka.ui.CastButton",iq);
function lq(b){u(function d(){var e;return x(d,function(d){switch(d.o){case 1:if(b.b.ha()){b.b.yf();d.C(0);break}xa(d,3);b.a.disabled=!0;return v(d,b.b.cast(),5);case 5:b.a.disabled=!1;za(d,0);break;case 3:e=Da(d),b.a.disabled=!1,8004!=e.code&&b.controls.dispatchEvent(new B("error",{detail:e})),w(d)}})})}
function kq(b){var c=b.b.ye()&&b.controls.Ja,d=b.b.ha();yp(b.a,c);b.c.textContent=d?"cast_connected":"cast";c&&(d?b.a.setAttribute("aria-pressed","true"):b.a.setAttribute("aria-pressed","false"));mq(b)}function mq(b){b.f.textContent=b.b.ha()?b.b.bd():b.localization.resolve("OFF")}function jq(b){b.a.setAttribute("aria-label",b.localization.resolve("CAST"));b.g.textContent=b.localization.resolve("CAST");mq(b)}function nq(){}nq.prototype.create=function(b,c){return new iq(b,c)};Vp("cast",new nq);function oq(b,c){tp.call(this,b,c);var d=this;this.a=Y("button");this.a.classList.add("material-icons-round");this.a.classList.add("shaka-fast-forward-button");this.a.textContent="fast_forward";this.parent.appendChild(this.a);pq(this);this.eventManager.m(this.localization,"locale-updated",function(){pq(d)});this.eventManager.m(this.localization,"locale-changed",function(){pq(d)});this.eventManager.m(this.a,"click",function(){if(d.video.duration){var b=d.player.yd();d.player.qe(0>b||4<b?1:2*b)}})}
sa(oq,tp);A("shaka.ui.FastForwardButton",oq);function pq(b){b.a.setAttribute("aria-label",b.localization.resolve("FAST_FORWARD"))}function qq(){}qq.prototype.create=function(b,c){return new oq(b,c)};Ip("fast_forward",new qq);function rq(b,c){tp.call(this,b,c);var d=this;this.a=Y("button");this.a.classList.add("shaka-fullscreen-button");this.a.classList.add("material-icons-round");document.fullscreenEnabled||this.a.classList.add("shaka-hidden");this.a.textContent="fullscreen";this.parent.appendChild(this.a);sq(this);this.eventManager.m(this.localization,"locale-updated",function(){sq(d)});this.eventManager.m(this.localization,"locale-changed",function(){sq(d)});this.eventManager.m(this.a,"click",function(){d.controls.oe()});
this.eventManager.m(document,"fullscreenchange",function(){d.a.textContent=document.fullscreenElement?"fullscreen_exit":"fullscreen";sq(d)})}sa(rq,tp);A("shaka.ui.FullscreenButton",rq);function sq(b){b.a.setAttribute("aria-label",b.localization.resolve(document.fullscreenElement?"EXIT_FULL_SCREEN":"FULL_SCREEN"))}function tq(){}tq.prototype.create=function(b,c){return new rq(b,c)};Ip("fullscreen",new tq);function uq(b,c){tp.call(this,b,c);var d=this;this.a=Y("button");this.a.classList.add("shaka-mute-button");this.a.classList.add("material-icons-round");this.a.textContent="volume_up";this.parent.appendChild(this.a);vq(this);this.eventManager.m(this.localization,"locale-updated",function(){vq(d)});this.eventManager.m(this.localization,"locale-changed",function(){vq(d)});this.eventManager.m(this.a,"click",function(){d.video.muted=!d.video.muted});this.eventManager.m(this.video,"volumechange",function(){vq(d);
d.a.textContent=d.video.muted?"volume_off":"volume_up"})}sa(uq,tp);A("shaka.ui.MuteButton",uq);function vq(b){b.a.setAttribute("aria-label",b.localization.resolve(b.video.muted?"UNMUTE":"MUTE"))}function wq(){}wq.prototype.create=function(b,c){return new uq(b,c)};Ip("mute",new wq);function xq(b,c){tp.call(this,b,c);var d=this;this.g=this.controls.B;this.a=Y("button");this.a.classList.add("shaka-pip-button");this.c=Y("i");this.c.classList.add("material-icons-round");this.c.textContent="picture_in_picture_alt";this.a.appendChild(this.c);var e=Y("label");e.classList.add("shaka-overflow-button-label");this.f=Y("span");this.f.textContent=this.localization.resolve("PICTURE_IN_PICTURE");e.appendChild(this.f);this.b=Y("span");this.b.classList.add("shaka-current-selection-span");e.appendChild(this.b);
this.a.appendChild(e);yq(this);this.parent.appendChild(this.a);document.pictureInPictureEnabled&&!this.video.disablePictureInPicture||yp(this.a,!1);this.eventManager.m(this.localization,"locale-updated",function(){yq(d)});this.eventManager.m(this.localization,"locale-changed",function(){yq(d)});this.eventManager.m(this.a,"click",function(){zq(d)});this.eventManager.m(this.g,"enterpictureinpicture",function(){d.c.textContent="branding_watermark";d.a.setAttribute("aria-label",d.localization.resolve("EXIT_PICTURE_IN_PICTURE"));
d.b.textContent=d.localization.resolve("ON")});this.eventManager.m(this.g,"leavepictureinpicture",function(){d.c.textContent="picture_in_picture_alt";d.a.setAttribute("aria-label",d.localization.resolve("ENTER_PICTURE_IN_PICTURE"));d.b.textContent=d.localization.resolve("OFF")});this.eventManager.m(this.controls,"caststatuschanged",function(b){b.newStatus?document.pictureInPictureEnabled&&!d.video.disablePictureInPicture&&yp(d.a,!1):document.pictureInPictureEnabled&&!d.video.disablePictureInPicture&&
yp(d.a,!0)});this.eventManager.m(this.player,"trackschanged",function(){Aq(d)})}sa(xq,tp);A("shaka.ui.PipButton",xq);function zq(b){u(function d(){var e;return x(d,function(d){switch(d.o){case 1:return xa(d,2),document.pictureInPictureElement?v(d,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),v(d,b.video.requestPictureInPicture(),5));case 5:za(d,0);break;case 2:e=Da(d),b.controls.dispatchEvent(new B("error",{detail:e})),w(d)}})})}
function yq(b){b.f.textContent=b.localization.resolve("PICTURE_IN_PICTURE");b.a.setAttribute("aria-label",b.localization.resolve(document.pictureInPictureElement?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"));b.b.textContent=b.localization.resolve(document.pictureInPictureElement?"ON":"OFF")}
function Aq(b){u(function d(){return x(d,function(d){switch(d.o){case 1:if(document.pictureInPictureEnabled&&!b.video.disablePictureInPicture)if(b.player&&b.player.Re()){if(yp(b.a,!1),document.pictureInPictureElement)return v(d,document.exitPictureInPicture(),0)}else yp(b.a,!0);else yp(b.a,!1);d.C(0)}})})}function Bq(){}Bq.prototype.create=function(b,c){return new xq(b,c)};Vp("picture_in_picture",new Bq);function Cq(b,c){tp.call(this,b,c);var d=this;this.a=Y("button");this.a.classList.add("shaka-current-time");Dq(this,"0:00");this.parent.appendChild(this.a);this.eventManager.m(this.a,"click",function(){d.player.W()&&(d.video.currentTime=d.player.Ib().end)});this.eventManager.m(this.controls,"timeandseekrangeupdated",function(){var b=d.controls.Z,c=d.controls.Le(),g=d.video.duration,h=d.player.Ib(),k=h.end-h.start;d.player.W()?(c=Math.max(0,Math.floor(h.end-c)),g=3600<=k,1<=c||b?(Dq(d,"- "+Eq(c,g)),
d.a.disabled=!1):(Dq(d,d.localization.resolve("LIVE")),d.a.disabled=!0)):(b=3600<=g,c=Eq(c,b),g&&(c+=" / "+Eq(g,b)),Dq(d,c),d.a.disabled=!0)});this.eventManager.m(this.player,"trackschanged",function(){d.player.W()&&d.a.setAttribute("aria-label",d.localization.resolve("SKIP_TO_LIVE"))})}sa(Cq,tp);A("shaka.ui.PresentationTimeTracker",Cq);function Dq(b,c){c!=b.a.textContent&&(b.a.textContent=c)}
function Eq(b,c){var d=Math.floor(b/3600),e=Math.floor(b/60%60),f=Math.floor(b%60);10>f&&(f="0"+f);f=e+":"+f;c&&(10>e&&(f="0"+f),f=d+":"+f);return f}function Fq(){}Fq.prototype.create=function(b,c){return new Cq(b,c)};Ip("time_and_duration",new Fq);function Gq(b,c){Yp.call(this,b,c,"settings");var d=this;this.button.classList.add("shaka-resolution-button");this.a.classList.add("shaka-resolutions");this.eventManager.m(this.localization,"locale-updated",function(){Hq(d)});this.eventManager.m(this.localization,"locale-changed",function(){Hq(d)});this.eventManager.m(this.player,"variantchanged",function(){Iq(d)});this.eventManager.m(this.player,"trackschanged",function(){Iq(d)});this.eventManager.m(this.player,"abrstatuschanged",function(){Iq(d)});
Iq(this);Hq(this)}sa(Gq,Yp);A("shaka.ui.ResolutionSelection",Gq);
function Iq(b){var c=b.player.Ub();if(c.length&&!c[0].height)yp(b.a,!1),yp(b.button,!1);else{yp(b.button,!0);c.sort(function(b,c){return c.height-b.height});var d=c.find(function(b){return b.active});d&&(c=c.filter(function(b){return b.language==d.language&&b.channelsCount==d.channelsCount}));c=c.filter(function(b,d){return c.findIndex(function(c){return c.height==b.height})==d});var e=np(b.a,"shaka-back-to-overflow-button");op(b.a);b.a.appendChild(e);var f=b.player.getConfiguration().abr.enabled;
c.forEach(function(c){var e=Y("button");e.classList.add("explicit-resolution");b.eventManager.m(e,"click",b.s.bind(b,c));var g=Y("span");g.textContent=c.height+"p";e.appendChild(g);f||c!=d||(e.setAttribute("aria-selected","true"),e.appendChild(sp()),g.classList.add("shaka-chosen-item"),b.b.textContent=g.textContent);b.a.appendChild(e)});e=Y("button");e.classList.add("shaka-enable-abr-button");b.eventManager.m(e,"click",function(){this.player.configure({abr:{enabled:!0}});Iq(this)}.bind(b));b.g=Y("span");
b.g.classList.add("shaka-auto-span");b.g.textContent=b.localization.resolve("AUTO_QUALITY");e.appendChild(b.g);f&&(e.setAttribute("aria-selected","true"),e.appendChild(sp()),b.g.classList.add("shaka-chosen-item"),b.b.textContent=b.localization.resolve("AUTO_QUALITY"));b.a.appendChild(e);xp(b.a);b.controls.dispatchEvent(new B("resolutionselectionupdated"))}}Gq.prototype.s=function(b){this.player.configure({abr:{enabled:!1}});this.player.qf(b,this.controls.g.clearBufferOnQualityChange)};
function Hq(b){b.button.setAttribute("aria-label",b.localization.resolve("RESOLUTION"));b.c.setAttribute("aria-label",b.localization.resolve("RESOLUTION"));b.j.textContent=b.localization.resolve("RESOLUTION");b.l.textContent=b.localization.resolve("RESOLUTION");b.g.textContent=b.localization.resolve("AUTO_QUALITY");b.player.getConfiguration().abr.enabled&&(b.b.textContent=b.localization.resolve("AUTO_QUALITY"))}function Jq(){}Jq.prototype.create=function(b,c){return new Gq(b,c)};Vp("quality",new Jq);function Kq(b,c){tp.call(this,b,c);var d=this;this.a=Y("button");this.a.classList.add("material-icons-round");this.a.classList.add("shaka-rewind-button");this.a.textContent="fast_rewind";this.parent.appendChild(this.a);Lq(this);this.eventManager.m(this.localization,"locale-updated",function(){Lq(d)});this.eventManager.m(this.localization,"locale-changed",function(){Lq(d)});this.eventManager.m(this.a,"click",function(){if(d.video.duration){var b=d.player.yd();d.player.qe(0<b||-4>b?-1:2*b)}})}
sa(Kq,tp);A("shaka.ui.RewindButton",Kq);function Lq(b){b.a.setAttribute("aria-label",b.localization.resolve("REWIND"))}function Mq(){}Mq.prototype.create=function(b,c){return new Kq(b,c)};Ip("rewind",new Mq);function Nq(b,c){eq.call(this,b,c);var d=this;this.button.classList.add("shaka-small-play-button");this.button.classList.add("material-icons-round");Oq(this);fq(this);this.eventManager.m(this.video,"play",function(){Oq(d)});this.eventManager.m(this.video,"pause",function(){Oq(d)})}sa(Nq,eq);A("shaka.ui.SmallPlayButton",Nq);function Oq(b){b.button.textContent=gq(b)?"play_arrow":"pause"}function Pq(){}Pq.prototype.create=function(b,c){return new Nq(b,c)};Ip("play_pause",new Pq);function Qq(b,c){tp.call(this,b,c);var d=Y("div");d.classList.add("shaka-spacer");d.setAttribute("aria-hidden",!0);this.parent.appendChild(d)}sa(Qq,tp);A("shaka.ui.Spacer",Qq);function Rq(){}Rq.prototype.create=function(b,c){return new Qq(b,c)};Ip("spacer",new Rq);function Sq(b,c){var d=this;this.f=!1;this.c=[];this.l=b;this.j=c;this.a=Y("div");this.a.classList.add("shaka-text-container");this.a.style.textAlign="center";this.a.style.display="flex";this.a.style.flexDirection="column";this.a.style.alignItems="center";this.a.style.justifyContent="flex-end";this.j.appendChild(this.a);this.g=(new F(function(){Tq(d)})).Ia(.25);this.b=new Map}A("shaka.ui.TextDisplayer",Sq);
Sq.prototype.append=function(b){var c={};b=r(b);for(var d=b.next();!d.done;c={cue:c.cue},d=b.next())c.cue=d.value,this.c.some(function(b){return function(c){return de(c,b.cue)}}(c))||this.c.push(c.cue)};Sq.prototype.append=Sq.prototype.append;Sq.prototype.destroy=function(){this.j.removeChild(this.a);this.a=null;this.f=!1;this.c=[];this.g&&this.g.stop();this.b.clear()};Sq.prototype.destroy=Sq.prototype.destroy;
Sq.prototype.remove=function(b,c){if(!this.a)return!1;this.c=this.c.filter(function(d){return d.startTime<b||d.endTime>=c});Tq(this);return!0};Sq.prototype.remove=Sq.prototype.remove;Sq.prototype.isTextVisible=function(){return this.f};Sq.prototype.isTextVisible=Sq.prototype.isTextVisible;Sq.prototype.setTextVisibility=function(b){this.f=b};Sq.prototype.setTextVisibility=Sq.prototype.setTextVisibility;
function Tq(b){function c(c){return b.c.includes(c)&&b.f&&c.startTime<=d&&c.endTime>=d}for(var d=b.l.currentTime,e=r(b.b.keys()),f=e.next();!f.done;f=e.next())if(f=f.value,!c(f)){var g=b.b.get(f);b.a.removeChild(g);b.b["delete"](f)}e=new Set(b.b.values());f=r(Array.from(b.a.childNodes));for(g=f.next();!g.done;g=f.next())g=g.value,e.has(g)||b.a.removeChild(g);e=b.c.filter(function(d){return c(d)&&!b.b.has(d)}).sort(function(b,c){return b.startTime!=c.startTime?b.startTime-c.startTime:b.endTime-c.endTime});
e=r(e);for(f=e.next();!f.done;f=e.next())Uq(b,b.a,f.value)}function Vq(b,c,d){var e=Y("span");d&&e.classList.add("shaka-nested-cue");c.spacer?e.style.display="block":Wq(e,c,!0);b.appendChild(e);return e}function Uq(b,c,d){if(d.nestedCues.length){var e=Y("p");e.style.width="100%";Wq(e,d,!1);for(var f=0;f<d.nestedCues.length;f++)Vq(e,d.nestedCues[f],!0);c.appendChild(e);b.b.set(d,e)}else b.b.set(d,Vq(c,d,!1))}
function Wq(b,c,d){var e=b.style;e.whiteSpace="pre-line";b.textContent=c.payload;d&&(e.backgroundColor=c.backgroundColor);e.color=c.color;e.direction=c.direction;c.backgroundImage&&(e.backgroundImage="url('"+c.backgroundImage+"')",e.backgroundRepeat="no-repeat",e.backgroundSize="contain",e.backgroundPosition="center",""==c.backgroundColor&&(e.backgroundColor="transparent"));if(c.backgroundImage&&c.region){b=ie;var f=c.region.widthUnits==b?"%":"px";e.height=c.region.height+(c.region.heightUnits==b?
"%":"px");e.width=c.region.width+f}e.justifyContent="before"==c.displayAlign?"flex-start":"center"==c.displayAlign?"center":"flex-end";c.nestedCues.length&&(e.display="flex",e.flexDirection="row",e.margin="0",e.alignItems=e.justifyContent,e.justifyContent="center");d&&(e.maxWidth="100%");e.fontFamily=c.fontFamily;e.fontWeight=c.fontWeight.toString();e.fontSize=c.fontSize;e.fontStyle=c.fontStyle;c.line?1==c.lineInterpretation&&(e.position="absolute",c.writingMode==Yd?c.lineAlign==$d?e.top=c.line+"%":
"end"==c.lineAlign&&(e.bottom=c.line+"%"):"vertical-lr"==c.writingMode?c.lineAlign==$d?e.left=c.line+"%":"end"==c.lineAlign&&(e.right=c.line+"%"):c.lineAlign==$d?e.right=c.line+"%":"end"==c.lineAlign&&(e.left=c.line+"%")):c.region&&c.region.id&&!d&&(d=ie,b=c.region.widthUnits==d?"%":"px",f=c.region.viewportAnchorUnits==d?"%":"px",e.height=c.region.height+(c.region.heightUnits==d?"%":"px"),e.width=c.region.width+b,e.position="absolute",e.top=c.region.viewportAnchorY+f,e.left=c.region.viewportAnchorX+
f);e.lineHeight=c.lineHeight;c.position&&(c.writingMode==Yd?e.paddingLeft=c.position:e.paddingTop=c.position);"line-left"==c.positionAlign?e.cssFloat="left":"line-right"==c.positionAlign&&(e.cssFloat="right");e.textAlign=c.textAlign;e.textDecoration=c.textDecoration.join(" ");e.writingMode=c.writingMode;c.size&&(c.writingMode==Yd?e.width=c.size+"%":e.height=c.size+"%")};function Xq(b,c){Yp.call(this,b,c,"closed_caption");var d=this;this.button.classList.add("shaka-caption-button");this.a.classList.add("shaka-text-languages");this.player&&this.player.bb()?this.button.setAttribute("aria-pressed","true"):this.button.setAttribute("aria-pressed","false");Yq(this);this.eventManager.m(this.localization,"locale-updated",function(){Zq(d);$q(d)});this.eventManager.m(this.localization,"locale-changed",function(){Zq(d);$q(d)});this.eventManager.m(this.player,"texttrackvisibility",
function(){ar(d);d.player.bb()&&br(d)});this.eventManager.m(this.player,"textchanged",function(){$q(d)});this.eventManager.m(this.player,"trackschanged",function(){br(d)});ar(this);Zq(this);$q(this)}sa(Xq,Yp);A("shaka.ui.TextSelection",Xq);function Yq(b){var c=Y("button");c.setAttribute("aria-selected","true");b.a.appendChild(c);c.appendChild(sp());b.g=Y("span");b.g.classList.add("shaka-auto-span");c.appendChild(b.g)}
function ar(b){b.player.bb()?(b.f.classList.add("shaka-captions-on"),b.f.classList.remove("shaka-captions-off"),b.button.setAttribute("aria-pressed","true")):(b.f.classList.add("shaka-captions-off"),b.f.classList.remove("shaka-captions-on"),b.button.setAttribute("aria-pressed","false"));b.controls.dispatchEvent(new B("captionselectionupdated"))}
function $q(b){var c=b.player.ib();mp(c,b.a,function(c){return cr(b,c)},b.player.bb(),b.b,b.localization,b.controls.g.trackLabelFormat);c=Y("button");c.classList.add("shaka-turn-captions-off-button");b.eventManager.m(c,"click",function(){b.player.je(!1)["catch"](function(){});$q(b)});c.appendChild(b.g);b.a.appendChild(c);b.player.bb()||(c.setAttribute("aria-selected","true"),c.appendChild(sp()),b.g.classList.add("shaka-chosen-item"),b.b.textContent=b.localization.resolve("OFF"));xp(b.a);b.controls.dispatchEvent(new B("captionselectionupdated"))}
function cr(b,c){return u(function e(){return x(e,function(e){switch(e.o){case 1:return v(e,b.player.je(!0),2);case 2:b.player&&b.player.dd(c.language,c.roles[0]),w(e)}})})}function Zq(b){b.button.setAttribute("aria-label",b.localization.resolve("CAPTIONS"));b.c.setAttribute("aria-label",b.localization.resolve("BACK"));b.l.textContent=b.localization.resolve("CAPTIONS");b.j.textContent=b.localization.resolve("CAPTIONS");b.g.textContent=b.localization.resolve("OFF")}
function br(b){var c=0<b.player.ib().length;yp(b.button,c);$q(b)}function dr(){}dr.prototype.create=function(b,c){return new Xq(b,c)};Vp("captions",new dr);function er(b,c,d){this.c=b;this.b=fr();c.dataset.shakaPlayerContainer="";c.ui=this;this.Te()&&c.classList.add("shaka-mobile");this.a=new Z(b,c,d,this.b);this.configure({});d.controls||b.configure("textDisplayFactory",function(){return new Sq(d,c)});c.ui=this;d.ui=this}A("shaka.ui.Overlay",er);
er.prototype.destroy=function(){var b=this;return u(function d(){return x(d,function(d){switch(d.o){case 1:if(!b.a){d.C(2);break}return v(d,b.a.destroy(),3);case 3:b.a=null;case 2:if(!b.c){d.C(0);break}return v(d,b.c.destroy(),5);case 5:b.c=null,w(d)}})})};er.prototype.destroy=er.prototype.destroy;er.prototype.Te=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:Lc()&&1<navigator.maxTouchPoints};er.prototype.isMobile=er.prototype.Te;
er.prototype.getConfiguration=function(){var b=fr();Rk(b,this.b,fr(),{},"");return b};er.prototype.getConfiguration=er.prototype.getConfiguration;er.prototype.configure=function(b,c){2==arguments.length&&"string"==typeof b&&(b=Sk(b,c));Rk(this.b,b,fr(),{},"");this.b.castReceiverAppId&&!this.b.overflowMenuButtons.includes("cast")&&this.b.overflowMenuButtons.push("cast");this.a.configure(this.b);this.a.dispatchEvent(new B("uiupdated"))};er.prototype.configure=er.prototype.configure;
er.prototype.$a=function(){Ke("ui.Overlay.getPlayer()","Please use getControls().getPlayer() instead.");return this.a.$a()};er.prototype.getPlayer=er.prototype.$a;er.prototype.Zf=function(){return this.a};er.prototype.getControls=er.prototype.Zf;er.prototype.uh=function(b){this.a.ce(b)};er.prototype.setEnabled=er.prototype.uh;
function fr(){return{controlPanelElements:"time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:["captions","quality","language","picture_in_picture","cast"],addSeekBar:!0,addBigPlayButton:!0,castReceiverAppId:"",clearBufferOnQualityChange:!0,showUnbufferedStart:!0,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:gr,
fadeDelay:0,doubleClickForFullscreen:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0}}
function hr(){return u(function c(){var d,e,f,g,h,k,l,n;return x(c,function(c){switch(c.o){case 1:gn();if(!tl())return D.error("Shaka Player does not support this browser. Please see https://tinyurl.com/y7s4j9tr for the list of supported browsers."),ir("shaka-ui-load-failed"),c["return"]();d=document.querySelectorAll("[data-shaka-player-container]");e=document.querySelectorAll("[data-shaka-player]");if(!e.length&&!d.length){c.C(2);break}if(e.length&&!d.length){for(var p=0;p<e.length;p++)f=e[p],f.ui||
(g=document.createElement("div"),h=f.parentElement,h.replaceChild(g,f),g.appendChild(f),jr(g,f));c.C(2);break}k=0;case 4:if(!(k<d.length)){c.C(2);break}l=d[k];if(l.ui){c.C(5);break}n=null;for(p=0;p<e.length;p++)if(e[p].parentElement==l){n=e[p];break}n||(n=document.createElement("video"),n.setAttribute("playsinline",""),l.appendChild(n));return v(c,jr(l,n),5);case 5:k++;c.C(4);break;case 2:ir("shaka-ui-loaded"),w(c)}})})}
function ir(b){var c=document.createEvent("CustomEvent");c.initCustomEvent(b,!1,!1,null);document.dispatchEvent(c)}
function jr(b,c){return u(function e(){var f,g,h,k,l,n,p,q,t;return x(e,function(e){switch(e.o){case 1:f=new W(c);g=new er(f,b,c);h="";b.dataset&&b.dataset.shakaPlayerCastReceiverId?h=b.dataset.shakaPlayerCastReceiverId:c.dataset&&c.dataset.shakaPlayerCastReceiverId&&(h=c.dataset.shakaPlayerCastReceiverId);h.length&&g.configure({castReceiverAppId:h});c.controls&&g.a.tf(!0);if(k=c.getAttribute("src"))l=document.createElement("source"),l.setAttribute("src",k),c.appendChild(l),c.removeAttribute("src");
n=r(c.querySelectorAll("source"));p=n.next();case 2:if(p.done){e.C(0);break}q=p.value;xa(e,5);return v(e,g.a.$a().load(q.getAttribute("src")),7);case 7:e.C(0);break;case 5:t=Da(e),D.error("Error auto-loading asset",t);case 3:p=n.next(),e.C(2)}})})}var gr=0,qp=1,rp=2;A("shaka.ui.TrackLabelFormat",{LANGUAGE:gr,ROLE:qp,LANGUAGE_ROLE:rp});"complete"==document.readyState?Promise.resolve().then(hr):window.addEventListener("load",hr);function kr(b,c){up.call(this,b,c,["shaka-volume-bar-container"],["shaka-volume-bar"]);var d=this;this.f=this.controls.g;this.eventManager.m(this.video,"volumechange",function(){return lr(d)});this.eventManager.m(this.localization,"locale-updated",function(){return mr(d)});this.eventManager.m(this.localization,"locale-changed",function(){return mr(d)});lr(this);mr(this)}sa(kr,up);A("shaka.ui.VolumeBar",kr);
kr.prototype.g=function(){this.video.volume=parseFloat(this.a.value);this.video.muted=0==this.video.volume?!0:!1};function lr(b){b.video.muted?wp(b,0):wp(b,b.video.volume);var c=b.f.volumeBarColors,d=["to right"];d.push(c.level+100*parseFloat(b.a.value)+"%");d.push(c.base+100*parseFloat(b.a.value)+"%");d.push(c.base+"100%");b.b.style.background="linear-gradient("+d.join(",")+")"}function mr(b){b.a.setAttribute("aria-label",b.localization.resolve("VOLUME"))}function nr(){}
nr.prototype.create=function(b,c){return new kr(b,c)};Ip("volume",new nr);}).call(exportTo,innerGlobal,innerGlobal,undefined);if(typeof exports!="undefined")for(var k in exportTo.shaka)exports[k]=exportTo.shaka[k];else if(typeof define=="function"&&define.amd)define(function(){return exportTo.shaka});else innerGlobal.shaka=exportTo.shaka})();

//# sourceMappingURL=shaka-player.ui.map